var CA=Object.defineProperty,kA=Object.defineProperties;var EA=Object.getOwnPropertyDescriptors;var gu=Object.getOwnPropertySymbols;var cb=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable;var ub=r=>{throw TypeError(r)},Ci=Math.pow,Zm=(r,e,t)=>e in r?CA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ui=(r,e)=>{for(var t in e||(e={}))cb.call(e,t)&&Zm(r,t,e[t]);if(gu)for(var t of gu(e))db.call(e,t)&&Zm(r,t,e[t]);return r},fn=(r,e)=>kA(r,EA(e));var Km=(r,e)=>{var t={};for(var i in r)cb.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&gu)for(var i of gu(r))e.indexOf(i)<0&&db.call(r,i)&&(t[i]=r[i]);return t};var Jm=(r,e,t)=>Zm(r,typeof e!="symbol"?e+"":e,t),hb=(r,e,t)=>e.has(r)||ub("Cannot "+t);var mn=(r,e,t)=>(hb(r,e,"read from private field"),t?t.call(r):e.get(r)),vu=(r,e,t)=>e.has(r)?ub("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),_u=(r,e,t,i)=>(hb(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t);var le=(r,e,t)=>new Promise((i,n)=>{var s=l=>{try{a(t.next(l))}catch(c){n(c)}},o=l=>{try{a(t.throw(l))}catch(c){n(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(r,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function Pt(){}const q0=r=>r;function vt(r,e){for(const t in e)r[t]=e[t];return r}function Q2(r){return r()}function fb(){return Object.create(null)}function ar(r){r.forEach(Q2)}function Zr(r){return typeof r=="function"}function Oi(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function AA(r){return Object.keys(r).length===0}function OA(r,...e){if(r==null){for(const i of e)i(void 0);return Pt}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Hg(r,e,t){r.$$.on_destroy.push(OA(e,t))}function Cr(r,e,t,i){if(r){const n=$2(r,e,t,i);return r[0](n)}}function $2(r,e,t,i){return r[1]&&i?vt(t.ctx.slice(),r[1](i(e))):t.ctx}function kr(r,e,t,i){if(r[2]&&i){const n=r[2](i(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],o=Math.max(e.dirty.length,n.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|n[a];return s}return e.dirty|n}return e.dirty}function Er(r,e,t,i,n,s){if(n){const o=$2(e,t,i,s);r.p(o,n)}}function Ar(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function ni(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function si(r,e){const t={};e=new Set(e);for(const i in r)!e.has(i)&&i[0]!=="$"&&(t[i]=r[i]);return t}function yu(r,e,t){return r.set(t),e}function Z0(r){return r&&Zr(r.destroy)?r.destroy:Pt}function mb(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}const eS=typeof window!="undefined";let K0=eS?()=>window.performance.now():()=>Date.now(),J0=eS?r=>requestAnimationFrame(r):Pt;const dl=new Set;function tS(r){dl.forEach(e=>{e.c(r)||(dl.delete(e),e.f())}),dl.size!==0&&J0(tS)}function Q0(r){let e;return dl.size===0&&J0(tS),{promise:new Promise(t=>{dl.add(e={c:r,f:t})}),abort(){dl.delete(e)}}}function Ze(r,e){r.appendChild(e)}function iS(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function IA(r){const e=ai("style");return e.textContent="/* empty */",LA(iS(r),e),e.sheet}function LA(r,e){return Ze(r.head||r,e),e.sheet}function Me(r,e,t){r.insertBefore(e,t||null)}function Le(r){r.parentNode&&r.parentNode.removeChild(r)}function rS(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function ai(r){return document.createElement(r)}function ht(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Bt(r){return document.createTextNode(r)}function Tr(){return Bt(" ")}function Ht(){return Bt("")}function ze(r,e,t,i){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}function ae(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}const PA=["width","height"];function Os(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const i in e)e[i]==null?r.removeAttribute(i):i==="style"?r.style.cssText=e[i]:i==="__value"?r.value=r[i]=e[i]:t[i]&&t[i].set&&PA.indexOf(i)===-1?r[i]=e[i]:ae(r,i,e[i])}function di(r,e){for(const t in e)ae(r,t,e[t])}function DA(r,e){Object.keys(e).forEach(t=>{MA(r,t,e[t])})}function MA(r,e,t){const i=e.toLowerCase();i in r?r[i]=typeof r[i]=="boolean"&&t===""?!0:t:e in r?r[e]=typeof r[e]=="boolean"&&t===""?!0:t:ae(r,e,t)}function Sl(r){return/-/.test(r)?DA:Os}function RA(r){return Array.from(r.childNodes)}function Xt(r,e){e=""+e,r.data!==e&&(r.data=e)}function Xg(r,e){r.value=e==null?"":e}function pb(r,e,t,i){r.style.setProperty(e,t,"")}function bu(r,e,t){for(let i=0;i<r.options.length;i+=1){const n=r.options[i];if(n.__value===e){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function gb(r,e){for(let t=0;t<r.options.length;t+=1){const i=r.options[t];i.selected=~e.indexOf(i.__value)}}function FA(r){const e=r.querySelector(":checked");return e&&e.__value}function nS(r,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:i})}const Sh=new Map;let Th=0;function NA(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function zA(r,e){const t={stylesheet:IA(e),rules:{}};return Sh.set(r,t),t}function Ch(r,e,t,i,n,s,o,a=0){const l=16.666/i;let c=`{
`;for(let g=0;g<=1;g+=l){const v=e+(t-e)*s(g);c+=g*100+`%{${o(v,1-v)}}
`}const d=c+`100% {${o(t,1-t)}}
}`,u=`__svelte_${NA(d)}_${a}`,h=iS(r),{stylesheet:f,rules:m}=Sh.get(h)||zA(h,r);m[u]||(m[u]=!0,f.insertRule(`@keyframes ${u} ${d}`,f.cssRules.length));const p=r.style.animation||"";return r.style.animation=`${p?`${p}, `:""}${u} ${i}ms linear ${n}ms 1 both`,Th+=1,u}function kh(r,e){const t=(r.style.animation||"").split(", "),i=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=t.length-i.length;n&&(r.style.animation=i.join(", "),Th-=n,Th||BA())}function BA(){J0(()=>{Th||(Sh.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&Le(e)}),Sh.clear())})}let Zc;function zc(r){Zc=r}function ud(){if(!Zc)throw new Error("Function called outside component initialization");return Zc}function uf(r){ud().$$.on_mount.push(r)}function sS(r){ud().$$.on_destroy.push(r)}function oS(){const r=ud();return(e,t,{cancelable:i=!1}={})=>{const n=r.$$.callbacks[e];if(n){const s=nS(e,t,{cancelable:i});return n.slice().forEach(o=>{o.call(r,s)}),!s.defaultPrevented}return!0}}function Wg(r,e){return ud().$$.context.set(r,e),e}function Gn(r){return ud().$$.context.get(r)}function ke(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const rl=[],en=[];let ul=[];const Yg=[],jA=Promise.resolve();let qg=!1;function GA(){qg||(qg=!0,jA.then(aS))}function is(r){ul.push(r)}function hd(r){Yg.push(r)}const Qm=new Set;let Ga=0;function aS(){if(Ga!==0)return;const r=Zc;do{try{for(;Ga<rl.length;){const e=rl[Ga];Ga++,zc(e),VA(e.$$)}}catch(e){throw rl.length=0,Ga=0,e}for(zc(null),rl.length=0,Ga=0;en.length;)en.pop()();for(let e=0;e<ul.length;e+=1){const t=ul[e];Qm.has(t)||(Qm.add(t),t())}ul.length=0}while(rl.length);for(;Yg.length;)Yg.pop()();qg=!1,Qm.clear(),zc(r)}function VA(r){if(r.fragment!==null){r.update(),ar(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(is)}}function UA(r){const e=[],t=[];ul.forEach(i=>r.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),ul=e}let mc;function $0(){return mc||(mc=Promise.resolve(),mc.then(()=>{mc=null})),mc}function ra(r,e,t){r.dispatchEvent(nS(`${e?"intro":"outro"}${t}`))}const lh=new Set;let Kn;function Dr(){Kn={r:0,c:[],p:Kn}}function Mr(){Kn.r||ar(Kn.c),Kn=Kn.p}function $e(r,e){r&&r.i&&(lh.delete(r),r.i(e))}function st(r,e,t,i){if(r&&r.o){if(lh.has(r))return;lh.add(r),Kn.c.push(()=>{lh.delete(r),i&&(t&&r.d(1),i())}),r.o(e)}else i&&i()}const ev={duration:0};function lS(r,e,t){const i={direction:"in"};let n=e(r,t,i),s=!1,o,a,l=0;function c(){o&&kh(r,o)}function d(){const{delay:h=0,duration:f=300,easing:m=q0,tick:p=Pt,css:g}=n||ev;g&&(o=Ch(r,0,1,f,h,m,g,l++)),p(0,1);const v=K0()+h,b=v+f;a&&a.abort(),s=!0,is(()=>ra(r,!0,"start")),a=Q0(S=>{if(s){if(S>=b)return p(1,0),ra(r,!0,"end"),c(),s=!1;if(S>=v){const _=m((S-v)/f);p(_,1-_)}}return s})}let u=!1;return{start(){u||(u=!0,kh(r),Zr(n)?(n=n(i),$0().then(d)):d())},invalidate(){u=!1},end(){s&&(c(),s=!1)}}}function cS(r,e,t){const i={direction:"out"};let n=e(r,t,i),s=!0,o;const a=Kn;a.r+=1;let l;function c(){const{delay:d=0,duration:u=300,easing:h=q0,tick:f=Pt,css:m}=n||ev;m&&(o=Ch(r,1,0,u,d,h,m));const p=K0()+d,g=p+u;is(()=>ra(r,!1,"start")),"inert"in r&&(l=r.inert,r.inert=!0),Q0(v=>{if(s){if(v>=g)return f(0,1),ra(r,!1,"end"),--a.r||ar(a.c),!1;if(v>=p){const b=h((v-p)/u);f(1-b,b)}}return s})}return Zr(n)?$0().then(()=>{n=n(i),c()}):c(),{end(d){d&&"inert"in r&&(r.inert=l),d&&n.tick&&n.tick(1,0),s&&(o&&kh(r,o),s=!1)}}}function vb(r,e,t,i){let s=e(r,t,{direction:"both"}),o=i?0:1,a=null,l=null,c=null,d;function u(){c&&kh(r,c)}function h(m,p){const g=m.b-o;return p*=Math.abs(g),{a:o,b:m.b,d:g,duration:p,start:m.start,end:m.start+p,group:m.group}}function f(m){const{delay:p=0,duration:g=300,easing:v=q0,tick:b=Pt,css:S}=s||ev,_={start:K0()+p,b:m};m||(_.group=Kn,Kn.r+=1),"inert"in r&&(m?d!==void 0&&(r.inert=d):(d=r.inert,r.inert=!0)),a||l?l=_:(S&&(u(),c=Ch(r,o,m,g,p,v,S)),m&&b(0,1),a=h(_,g),is(()=>ra(r,m,"start")),Q0(x=>{if(l&&x>l.start&&(a=h(l,g),l=null,ra(r,a.b,"start"),S&&(u(),c=Ch(r,o,a.b,a.duration,0,v,s.css))),a){if(x>=a.end)b(o=a.b,1-o),ra(r,a.b,"end"),l||(a.b?u():--a.group.r||ar(a.group.c)),a=null;else if(x>=a.start){const I=x-a.start;o=a.a+a.d*v(I/a.duration),b(o,1-o)}}return!!(a||l)}))}return{run(m){Zr(s)?$0().then(()=>{s=s({direction:m?"in":"out"}),f(m)}):f(m)},end(){u(),a=l=null}}}function Eh(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function fi(r,e){const t={},i={},n={$$scope:1};let s=r.length;for(;s--;){const o=r[s],a=e[s];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)n[l]||(t[l]=a[l],n[l]=1);r[s]=a}else for(const l in o)n[l]=1}for(const o in i)o in t||(t[o]=void 0);return t}function ma(r){return typeof r=="object"&&r!==null?r:{}}function fd(r,e,t){const i=r.$$.props[e];i!==void 0&&(r.$$.bound[i]=t,t(r.$$.ctx[i]))}function wi(r){r&&r.c()}function pi(r,e,t){const{fragment:i,after_update:n}=r.$$;i&&i.m(e,t),is(()=>{const s=r.$$.on_mount.map(Q2).filter(Zr);r.$$.on_destroy?r.$$.on_destroy.push(...s):ar(s),r.$$.on_mount=[]}),n.forEach(is)}function gi(r,e){const t=r.$$;t.fragment!==null&&(UA(t.after_update),ar(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function HA(r,e){r.$$.dirty[0]===-1&&(rl.push(r),GA(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function lr(r,e,t,i,n,s,o=null,a=[-1]){const l=Zc;zc(r);const c=r.$$={fragment:null,ctx:[],props:s,update:Pt,not_equal:n,bound:fb(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:fb(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=t?t(r,e.props||{},(u,h,...f)=>{const m=f.length?f[0]:h;return c.ctx&&n(c.ctx[u],c.ctx[u]=m)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](m),d&&HA(r,u)),h}):[],c.update(),d=!0,ar(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const u=RA(e.target);c.fragment&&c.fragment.l(u),u.forEach(Le)}else c.fragment&&c.fragment.c();e.intro&&$e(r.$$.fragment),pi(r,e.target,e.anchor),aS()}zc(l)}class cr{constructor(){Jm(this,"$$");Jm(this,"$$set")}$destroy(){gi(this,1),this.$destroy=Pt}$on(e,t){if(!Zr(t))return Pt;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const n=i.indexOf(t);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!AA(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const XA="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(XA);const Va=[];function dS(r,e=Pt){let t;const i=new Set;function n(a){if(Oi(r,a)&&(r=a,t)){const l=!Va.length;for(const c of i)c[1](),Va.push(c,r);if(l){for(let c=0;c<Va.length;c+=2)Va[c][0](Va[c+1]);Va.length=0}}}function s(a){n(a(r))}function o(a,l=Pt){const c=[a,l];return i.add(c),i.size===1&&(t=e(n,s)||Pt),a(r),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:n,update:s,subscribe:o}}const ch=dS(!1),$m=dS(!1);function WA(r){let e;return{c(){e=ai("div"),pb(e,"width","100%"),pb(e,"height","100%")},m(t,i){Me(t,e,i),r[4](e)},p:Pt,i:Pt,o:Pt,d(t){t&&Le(e),r[4](null)}}}function YA(r,e,t){let i;Hg(r,ch,l=>t(3,i=l));let{simulation:n}=e,{nodePositions:s}=e,o;uf(()=>{n.start(o,s)}),sS(()=>{t(1,s=n.getNodePositions()),n.destroy()});function a(l){en[l?"unshift":"push"](()=>{o=l,t(0,o)})}return r.$$set=l=>{"simulation"in l&&t(2,n=l.simulation),"nodePositions"in l&&t(1,s=l.nodePositions)},r.$$.update=()=>{r.$$.dirty&12&&n.started&&(i?n.resume():n.pause())},[o,s,n,i,a]}class qA extends cr{constructor(e){super(),lr(this,e,YA,WA,Oi,{simulation:2,nodePositions:1})}}function Z(r,e,t){return(e=function(i){var n=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(i,"string");return typeof n=="symbol"?n:n+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _b(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function q(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(t),!0).forEach(function(i){Z(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_b(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Mi(r,e){if(r==null)return{};var t,i,n=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)>=0)continue;l[c]=o[c]}return l}(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function So(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}let yb=class{constructor(){Z(this,"browserShadowBlurConstant",1),Z(this,"DPI",96),Z(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),Z(this,"perfLimitSizeTotal",2097152),Z(this,"maxCacheSideLimit",4096),Z(this,"minCacheSideLimit",256),Z(this,"disableStyleCopyPaste",!1),Z(this,"enableGLFiltering",!0),Z(this,"textureSize",4096),Z(this,"forceGLPutImageData",!1),Z(this,"cachesBoundsOfCurve",!1),Z(this,"fontPaths",{}),Z(this,"NUM_FRACTION_DIGITS",4)}};const ri=new class extends yb{constructor(r){super(),this.configure(r)}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,r)}addFonts(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=q(q({},this.fontPaths),r)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(r=>{delete this.fontPaths[r]})}clearFonts(){this.fontPaths={}}restoreDefaults(r){const e=new yb,t=(r==null?void 0:r.reduce((i,n)=>(i[n]=e[n],i),{}))||e;this.configure(t)}},_o=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return console[r]("fabric",...t)};let Jn=class extends Error{constructor(e,t){super("fabric: ".concat(e),t)}},ZA=class extends Jn{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},KA=class{},JA=class extends KA{testPrecision(e,t){const i="precision ".concat(t,` float;
void main(){}`),n=e.createShader(e.FRAGMENT_SHADER);return!!n&&(e.shaderSource(n,i),e.compileShader(n),!!e.getShaderParameter(n,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(t,i)),t.getExtension("WEBGL_lose_context").loseContext(),_o("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const QA={};let bb;const rs=()=>bb||(bb={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new JA,dispose(){},copyPasteData:QA}),jl=()=>rs().document,tv=()=>rs().window,uS=()=>{var r;return Math.max((r=ri.devicePixelRatio)!==null&&r!==void 0?r:tv().devicePixelRatio,1)},Bc=new class{constructor(){Z(this,"charWidthsCache",{}),Z(this,"boundsOfCurveCache",{})}getFontCache(r){let{fontFamily:e,fontStyle:t,fontWeight:i}=r;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const n=this.charWidthsCache[e],s="".concat(t.toLowerCase(),"_").concat((i+"").toLowerCase());return n[s]||(n[s]={}),n[s]}clearFontCache(r){(r=(r||"").toLowerCase())?this.charWidthsCache[r]&&delete this.charWidthsCache[r]:this.charWidthsCache={}}limitDimsByArea(r){const{perfLimitSizeTotal:e}=ri,t=Math.sqrt(e*r);return[Math.floor(t),Math.floor(e/t)]}},Zg="6.4.2";function dh(){}const md=Math.PI/2,Ah=2*Math.PI,iv=Math.PI/180,Ur=Object.freeze([1,0,0,1,0,0]),rv=16,Qs=.4477152502,Zt="center",hi="left",Jr="top",Kg="bottom",Qi="right",Qr="none",nv=/\r?\n/,hS="moving",hf="scaling",fS="rotating",sv="rotate",mS="skewing",Kc="resizing",pS="modifyPoly",$A="modifyPath",Oh="changed",ff="scale",tn="scaleX",bn="scaleY",Gl="skewX",Vl="skewY",or="fill",$r="stroke",Ih="modified",Ua="json",ep="svg",pt=new class{constructor(){this[Ua]=new Map,this[ep]=new Map}has(r){return this[Ua].has(r)}getClass(r){const e=this[Ua].get(r);if(!e)throw new Jn("No class registered for ".concat(r));return e}setClass(r,e){e?this[Ua].set(e,r):(this[Ua].set(r.type,r),this[Ua].set(r.type.toLowerCase(),r))}getSVGClass(r){return this[ep].get(r)}setSVGClass(r,e){this[ep].set(e!=null?e:r.type.toLowerCase(),r)}},Lh=new class extends Array{remove(r){const e=this.indexOf(r);e>-1&&this.splice(e,1)}cancelAll(){const r=this.splice(0);return r.forEach(e=>e.abort()),r}cancelByCanvas(r){if(!r)return[];const e=this.filter(t=>{var i;return t.target===r||typeof t.target=="object"&&((i=t.target)===null||i===void 0?void 0:i.canvas)===r});return e.forEach(t=>t.abort()),e}cancelByTarget(r){if(!r)return[];const e=this.filter(t=>t.target===r);return e.forEach(t=>t.abort()),e}};let e5=class{constructor(){Z(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(i=>{let[n,s]=i;this.on(n,s)}),()=>this.off(e);if(t){const i=e;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(t),()=>this.off(i,t)}return()=>!1}once(e,t){if(typeof e=="object"){const i=[];return Object.entries(e).forEach(n=>{let[s,o]=n;i.push(this.once(s,o))}),()=>i.forEach(n=>n())}if(t){const i=this.on(e,function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.call(this,...s),i()});return i}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const i=this.__eventListeners[e],n=i.indexOf(t);n>-1&&i.splice(n,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const i in this.__eventListeners)this._removeEventListener(i);else typeof e=="object"?Object.entries(e).forEach(i=>{let[n,s]=i;this._removeEventListener(n,s)}):this._removeEventListener(e,t)}fire(e,t){var i;if(!this.__eventListeners)return;const n=(i=this.__eventListeners[e])===null||i===void 0?void 0:i.concat();if(n)for(let s=0;s<n.length;s++)n[s].call(this,t||{})}};const nl=(r,e)=>{const t=r.indexOf(e);return t!==-1&&r.splice(t,1),r},Is=r=>{if(r===0)return 1;switch(Math.abs(r)/md){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},Ls=r=>{if(r===0)return 0;const e=r/md,t=Math.sign(r);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(r)};let ve=class Fr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new Fr(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Fr(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Fr(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Fr(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Fr(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Fr(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Fr(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Fr(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new Fr(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}midPointFrom(e){return this.lerp(e)}min(e){return new Fr(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Fr(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,i=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=i}clone(){return new Fr(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ov;const i=Ls(e),n=Is(e),s=this.subtract(t);return new Fr(s.x*n-s.y*i,s.x*i+s.y*n).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Fr(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}};const ov=new ve(0,0),uh=r=>!!r&&Array.isArray(r._objects);function gS(r){class e extends r{constructor(){super(...arguments),Z(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];const o=this._objects.push(...n);return n.forEach(a=>this._onObjectAdded(a)),o}insertAt(i){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return this._objects.splice(i,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const i=this._objects,n=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{const c=i.indexOf(l);c!==-1&&(i.splice(c,1),n.push(l),this._onObjectRemoved(l))}),n}forEachObject(i){this.getObjects().forEach((n,s,o)=>i(n,s,o))}getObjects(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return n.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...n))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,n){return!!this._objects.includes(i)||!!n&&this._objects.some(s=>s instanceof e&&s.contains(i,!0))}complexity(){return this._objects.reduce((i,n)=>i+=n.complexity?n.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(nl(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(nl(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,n){if(!i)return!1;const s=this._objects.indexOf(i);if(s!==0){const o=this.findNewLowerIndex(i,s,n);return nl(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,n){if(!i)return!1;const s=this._objects.indexOf(i);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(i,s,n);return nl(this._objects,i),this._objects.splice(o,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,n){return i!==this._objects[n]&&(nl(this._objects,i),this._objects.splice(n,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,n,s){let o;if(s){o=n;for(let a=n-1;a>=0;--a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n-1;return o}findNewUpperIndex(i,n,s){let o;if(s){o=n;for(let a=n+1;a<this._objects.length;++a)if(i.isOverlapping(this._objects[a])){o=a;break}}else o=n+1;return o}collectObjects(i){let{left:n,top:s,width:o,height:a}=i,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],d=new ve(n,s),u=d.add(new ve(o,a));for(let h=this._objects.length-1;h>=0;h--){const f=this._objects[h];f.selectable&&f.visible&&(l&&f.intersectsWithRect(d,u)||f.isContainedWithinRect(d,u)||l&&f.containsPoint(d)||l&&f.containsPoint(u))&&c.push(f)}return c}}return e}let vS=class extends e5{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}};function hh(r){return tv().requestAnimationFrame(r)}function t5(r){return tv().cancelAnimationFrame(r)}let i5=0;const yo=()=>i5++,mr=()=>{const r=jl().createElement("canvas");if(!r||r.getContext===void 0)throw new Jn("Failed to create `canvas` element");return r},r5=()=>jl().createElement("img"),_S=(r,e,t)=>r.toDataURL("image/".concat(e),t),$i=r=>r*iv,aa=r=>r/iv,n5=r=>r.every((e,t)=>e===Ur[t]),qr=(r,e,t)=>new ve(r).transform(e,t),Rn=r=>{const e=1/(r[0]*r[3]-r[1]*r[2]),t=[e*r[3],-e*r[1],-e*r[2],e*r[0],0,0],{x:i,y:n}=new ve(r[4],r[5]).transform(t,!0);return t[4]=-i,t[5]=-n,t},fr=(r,e,t)=>[r[0]*e[0]+r[2]*e[1],r[1]*e[0]+r[3]*e[1],r[0]*e[2]+r[2]*e[3],r[1]*e[2]+r[3]*e[3],t?0:r[0]*e[4]+r[2]*e[5]+r[4],t?0:r[1]*e[4]+r[3]*e[5]+r[5]],av=(r,e)=>r.reduceRight((t,i)=>i&&t?fr(i,t,e):i||t,void 0)||Ur.concat(),yS=r=>{let[e,t]=r;return Math.atan2(t,e)},Ph=r=>{const e=yS(r),t=Math.pow(r[0],2)+Math.pow(r[1],2),i=Math.sqrt(t),n=(r[0]*r[3]-r[2]*r[1])/i,s=Math.atan2(r[0]*r[2]+r[1]*r[3],t);return{angle:aa(e),scaleX:i,scaleY:n,skewX:aa(s),skewY:0,translateX:r[4]||0,translateY:r[5]||0}},pd=function(r){return[1,0,0,1,r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function gd(){let{angle:r=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=$i(r),n=Is(i),s=Ls(i);return[n,s,-s,n,e?e-(n*e-s*t):0,t?t-(s*e+n*t):0]}const lv=function(r){return[r,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,0,0]},bS=r=>Math.tan($i(r)),xS=r=>[1,0,bS(r),1,0,0],wS=r=>[1,bS(r),0,1,0,0],mf=r=>{let{scaleX:e=1,scaleY:t=1,flipX:i=!1,flipY:n=!1,skewX:s=0,skewY:o=0}=r,a=lv(i?-e:e,n?-t:t);return s&&(a=fr(a,xS(s),!0)),o&&(a=fr(a,wS(o),!0)),a},s5=r=>{const{translateX:e=0,translateY:t=0,angle:i=0}=r;let n=pd(e,t);i&&(n=fr(n,gd({angle:i})));const s=mf(r);return n5(s)||(n=fr(n,s)),n},fh=function(r){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,n){if(e&&e.aborted)return n(new ZA("loadImage"));const s=r5();let o;e&&(o=function(l){s.src="",n(l)},e.addEventListener("abort",o,{once:!0}));const a=function(){s.onload=s.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),i(s)};r?(s.onload=a,s.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),n(new Jn("Error loading ".concat(s.src)))},t&&(s.crossOrigin=t),s.src=r):a()})},Jc=function(r){let{signal:e,reviver:t=dh}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,n)=>{const s=[];e&&e.addEventListener("abort",n,{once:!0}),Promise.all(r.map(o=>pt.getClass(o.type).fromObject(o,{signal:e}).then(a=>(t(o,a),s.push(a),a)))).then(i).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),n(o)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},pf=function(r){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((t,i)=>{const n=[];e&&e.addEventListener("abort",i,{once:!0});const s=Object.values(r).map(a=>a&&a.type&&pt.has(a.type)?Jc([a],{signal:e}).then(l=>{let[c]=l;return n.push(c),c}):a),o=Object.keys(r);Promise.all(s).then(a=>a.reduce((l,c,d)=>(l[o[d]]=c,l),{})).then(t).catch(a=>{n.forEach(l=>{l.dispose&&l.dispose()}),i(a)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},Ul=function(r){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,t)=>(t in r&&(e[t]=r[t]),e),{})},cv=(r,e)=>Object.keys(r).reduce((t,i)=>(e(r[i],i,r)&&(t[i]=r[i]),t),{}),xb={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},tp=(r,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r),wb=(r,e,t,i)=>{r/=255,e/=255,t/=255;const n=Math.max(r,e,t),s=Math.min(r,e,t);let o,a;const l=(n+s)/2;if(n===s)o=a=0;else{const c=n-s;switch(a=l>.5?c/(2-n-s):c/(n+s),n){case r:o=(e-t)/c+(e<t?6:0);break;case e:o=(t-r)/c+2;break;case t:o=(r-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),i]},Sb=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(r)/(r.endsWith("%")?100:1)},xu=r=>Math.min(Math.round(r),255).toString(16).toUpperCase().padStart(2,"0"),Tb=r=>{let[e,t,i,n=1]=r;const s=Math.round(.3*e+.59*t+.11*i);return[s,s,s,n]};class mi{constructor(e){if(Z(this,"isUnrecognised",!1),e)if(e instanceof mi)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,i,n,s=1]=e;this.setSource([t,i,n,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return e in xb&&(e=xb[e]),e==="transparent"?[255,255,255,0]:mi.sourceFromHex(e)||mi.sourceFromRgb(e)||mi.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,i]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,i]=wb(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(i,"%)")}toHsla(){const[e,t,i,n]=wb(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(i,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,i,n]=this.getSource();return"".concat(xu(e)).concat(xu(t)).concat(xu(i)).concat(xu(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(Tb(this.getSource())),this}toBlackWhite(e){const[t,,,i]=Tb(this.getSource()),n=t<(e||127)?0:255;return this.setSource([n,n,n,i]),this}overlayWith(e){e instanceof mi||(e=new mi(e));const t=this.getSource(),i=e.getSource(),[n,s,o]=t.map((a,l)=>Math.round(.5*a+.5*i[l]));return this.setSource([n,s,o,t[3]]),this}static fromRgb(e){return mi.fromRgba(e)}static fromRgba(e){return new mi(mi.sourceFromRgb(e))}static sourceFromRgb(e){const t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){const[i,n,s]=t.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[i,n,s,Sb(t[4])]}}static fromHsl(e){return mi.fromHsla(e)}static fromHsla(e){return new mi(mi.sourceFromHsl(e))}static sourceFromHsl(e){const t=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!t)return;const i=(mi.parseAngletoDegrees(t[1])%360+360)%360/360,n=parseFloat(t[2])/100,s=parseFloat(t[3])/100;let o,a,l;if(n===0)o=a=l=s;else{const c=s<=.5?s*(n+1):s+n-s*n,d=2*s-c;o=tp(d,c,i+1/3),a=tp(d,c,i),l=tp(d,c,i-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),Sb(t[4])]}static fromHex(e){return new mi(mi.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let i;i=t.length<=4?t.split("").map(l=>l+l):t.match(/.{2}/g);const[n,s,o,a=255]=i.map(l=>parseInt(l,16));return[n,s,o,a/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),i=parseFloat(t);return t.includes("rad")?aa(i):t.includes("turn")?360*i:i}}const Bi=(r,e)=>parseFloat(Number(r).toFixed(e)),hl=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rv;const t=/\D{0,2}$/.exec(r),i=parseFloat(r),n=ri.DPI;switch(t==null?void 0:t[0]){case"mm":return i*n/25.4;case"cm":return i*n/2.54;case"in":return i*n;case"pt":return i*n/72;case"pc":return i*n/72*12;case"em":return i*e;default:return i}},o5=r=>{const[e,t]=r.trim().split(" "),[i,n]=(s=e)&&s!==Qr?[s.slice(1,4),s.slice(5,8)]:s===Qr?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:t||"meet",alignX:i,alignY:n}},Dh=r=>"matrix("+r.map(e=>Bi(e,ri.NUM_FRACTION_DIGITS)).join(" ")+")",Qc=function(r,e){let t,i,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const s=new mi(e),o=s.getAlpha();t=s.toRgb(),o!==1&&(i=o.toString())}else t="none";return n?"".concat(r,": ").concat(t,"; ").concat(i?"".concat(r,"-opacity: ").concat(i,"; "):""):"".concat(r,'="').concat(t,'" ').concat(i?"".concat(r,'-opacity="').concat(i,'" '):"")},_n=r=>!!r&&r.toLive!==void 0,Cb=r=>!!r&&typeof r.toObject=="function",kb=r=>!!r&&r.offsetX!==void 0&&"source"in r,SS=r=>!!r&&typeof r._renderText=="function",Zo=r=>!!r&&"multiSelectionStacking"in r;function TS(r){const e=r&&Dn(r);let t=0,i=0;if(!r||!e)return{left:t,top:i};let n=r;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===e?(t=o.scrollLeft||s.scrollLeft||0,i=o.scrollTop||s.scrollTop||0):(t+=n.scrollLeft||0,i+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:t,top:i}}const Dn=r=>r.ownerDocument||null,CS=r=>{var e;return((e=r.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},kS=function(r,e,t){let{width:i,height:n}=t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;r.width=i,r.height=n,s>1&&(r.setAttribute("width",(i*s).toString()),r.setAttribute("height",(n*s).toString()),e.scale(s,s))},Jg=(r,e)=>{let{width:t,height:i}=e;t&&(r.style.width=typeof t=="number"?"".concat(t,"px"):t),i&&(r.style.height=typeof i=="number"?"".concat(i,"px"):i)};function Eb(r){return r.onselectstart!==void 0&&(r.onselectstart=()=>!1),r.style.userSelect=Qr,r}class ES{constructor(e){Z(this,"_originalCanvasStyle",void 0),Z(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(i=e)&&i.getContext!==void 0?e:e&&jl().getElementById(e)||mr();var i;if(t.hasAttribute("data-fabric"))throw new Jn("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:i}=e;const{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(t)),n.setAttribute("height","".concat(i)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:i,ctx:n}=this.lower;kS(i,n,e,t)}setCSSDimensions(e){Jg(this.lower.el,e)}calcOffset(){return function(e){var t;const i=e&&Dn(e),n={left:0,top:0};if(!i)return n;const s=((t=CS(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};n.left+=parseInt(s.borderLeftWidth,10)||0,n.top+=parseInt(s.borderTopWidth,10)||0,n.left+=parseInt(s.paddingLeft,10)||0,n.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const a=i.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=TS(e);return{left:o.left+l.left-(a.clientLeft||0)+n.left,top:o.top+l.top-(a.clientTop||0)+n.top}}(this.lower.el)}dispose(){rs().dispose(this.lower.el),delete this.lower}}const a5={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Ur]};class vd extends gS(vS){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return vd.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new ES(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const s=super.insertAt(e,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(_o("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?uS():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const n=q({width:this.width,height:this.height},e);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}i||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const i=e,n=[...this.viewportTransform],s=qr(e,Rn(n));n[0]=t,n[3]=t;const o=qr(s,n);n[4]+=i.x-o.x,n[5]+=i.y-o.y,this.setViewportTransform(n)}setZoom(e){this.zoomToPoint(new ve(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new ve(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=hh(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,i=Rn(this.viewportTransform),n=qr({x:0,y:0},i),s=qr({x:e,y:t},i),o=n.min(s),a=n.max(s);return this.vptCoords={tl:o,tr:new ve(a.x,o.y),bl:new ve(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(t5(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const i=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,n)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const i=this.viewportTransform;e.save(),e.transform(...i),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let i=0,n=t.length;i<n;++i)t[i]&&t[i].render(e)}_renderBackgroundOrOverlay(e,t){const i=this["".concat(t,"Color")],n=this["".concat(t,"Image")],s=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!i&&!n)return;const a=_n(i);if(i){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?i.toLive(e):i,o&&e.transform(...s),a){e.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);const l=i.gradientTransform||i.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(n){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...s),n.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ve(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ve(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ve(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ve(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ve(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return qr(this.getCenterPoint(),Rn(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Zt,Zt),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const i=this.clipPath,n=i&&!i.excludeFromExport?this._toObject(i,e,t):null;return q(q(q({version:Zg},Ul(this,t)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,t))},this.__serializeBgOverlay(e,t)),n?{clipPath:n}:null)}_toObject(e,t,i){let n;this.includeDefaultValues||(n=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[t](i);return this.includeDefaultValues||(e.includeDefaultValues=!!n),s}__serializeBgOverlay(e,t){const i={},n=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return _n(o)?o.excludeFromExport||(i.background=o.toObject(t)):o&&(i.background=o),_n(a)?a.excludeFromExport||(i.overlay=a.toObject(t)):a&&(i.overlay=a),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,e,t)),s&&!s.excludeFromExport&&(i.overlayImage=this._toObject(s,e,t)),i}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const i=[];return this._setSVGPreamble(i,e),this._setSVGHeader(i,e),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",t),this._setSVGObjects(i,t),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",t),i.push("</svg>"),i.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const i=t.width||"".concat(this.width),n=t.height||"".concat(this.height),s=ri.NUM_FRACTION_DIGITS,o=t.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(Bi(-l[4]/l[0],s)," ").concat(Bi(-l[5]/l[3],s)," ").concat(Bi(this.width/l[0],s)," ").concat(Bi(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',n,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Zg,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(yo()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(_n(t)){const i=this["".concat(e,"Vpt")],n=this.viewportTransform,s={isType:()=>!1,width:this.width/(i?n[0]:1),height:this.height/(i?n[3]:1)};return t.toSVG(s,{additionalTransform:i?Dh(n):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},i=ri.fontPaths;this._objects.forEach(function s(o){e.push(o),uh(o)&&o._objects.forEach(s)}),e.forEach(s=>{if(!SS(s))return;const{styles:o,fontFamily:a}=s;!t[a]&&i[a]&&(t[a]=!0,o&&Object.values(o).forEach(l=>{Object.values(l).forEach(c=>{let{fontFamily:d=""}=c;!t[d]&&i[d]&&(t[d]=!0)})}))});const n=Object.keys(t).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(i[s],`');
		}
`)).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(e,i,t)})}_setSVGObject(e,t,i){e.push(t.toSVG(i))}_setSVGBgOverlayImage(e,t,i){const n=this[t];n&&!n.excludeFromExport&&n.toSVG&&e.push(n.toSVG(i))}_setSVGBgOverlayColor(e,t){const i=this["".concat(t,"Color")];if(i)if(_n(i)){const n=i.repeat||"",s=this.width,o=this.height,a=this["".concat(t,"Vpt")]?Dh(Rn(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(i.offsetX-s/2,'" y="').concat(i.offsetY-o/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!kb(i)?s:i.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!kb(i)?o:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Jn("`json` is undefined"));const n=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:o,background:a,overlayImage:l,overlay:c,clipPath:d}=n,u=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Jc(s,{reviver:t,signal:i}),pf({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:c,clipPath:d},{signal:i})]).then(h=>{let[f,m]=h;return this.clear(),this.add(...f),this.set(n),this.set(m),this.renderOnAddRemove=u,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=mr();return e.width=this.width,e.height=this.height,new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:i=1,multiplier:n=1,enableRetinaScaling:s=!1}=e,o=n*(s?this.getRetinaScaling():1);return _S(this.toCanvasElement(o,e),t,i)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:i,left:n,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(t||this.width)*e,l=(i||this.height)*e,c=this.getZoom(),d=this.width,u=this.height,h=this.skipControlsDrawing,f=c*e,m=this.viewportTransform,p=[f,0,0,f,(m[4]-(n||0))*e,(m[5]-(s||0))*e],g=this.enableRetinaScaling,v=mr(),b=o?this._objects.filter(S=>o(S)):this._objects;return v.width=a,v.height=l,this.enableRetinaScaling=!1,this.viewportTransform=p,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(v.getContext("2d"),b),this.viewportTransform=m,this.width=d,this.height=u,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=h,v}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Lh.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const i=()=>{this.destroy(),e(!0)};i.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}Z(vd,"ownDefaults",a5);const l5=["touchstart","touchmove","touchend"],c5=r=>{const e=TS(r.target),t=function(i){const n=i.changedTouches;return n&&n[0]?n[0]:i}(r);return new ve(t.clientX+e.left,t.clientY+e.top)},Qg=r=>l5.includes(r.type)||r.pointerType==="touch",$g=r=>{r.preventDefault(),r.stopPropagation()},Es=r=>{let e=0,t=0,i=0,n=0;for(let s=0,o=r.length;s<o;s++){const{x:a,y:l}=r[s];(a>i||!s)&&(i=a),(a<e||!s)&&(e=a),(l>n||!s)&&(n=l),(l<t||!s)&&(t=l)}return{left:e,top:t,width:i-e,height:n-t}},d5=["translateX","translateY","scaleX","scaleY"],u5=(r,e)=>Mh(r,fr(e,r.calcOwnMatrix())),Mh=(r,e)=>{const t=Ph(e),{translateX:i,translateY:n,scaleX:s,scaleY:o}=t,a=Mi(t,d5),l=new ve(i,n);r.flipX=!1,r.flipY=!1,Object.assign(r,a),r.set({scaleX:s,scaleY:o}),r.setPositionByOrigin(l,Zt,Zt)},h5=r=>{r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},AS=r=>({scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}),dv=(r,e,t)=>{const i=r/2,n=e/2,s=[new ve(-i,-n),new ve(i,-n),new ve(-i,n),new ve(i,n)].map(a=>a.transform(t)),o=Es(s);return new ve(o.width,o.height)},gf=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ur;return fr(Rn(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur),r)},vo=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ur;return r.transform(gf(e,t))},f5=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ur;return r.transform(gf(e,t),!0)},m5=(r,e,t)=>{const i=gf(e,t);return Mh(r,fr(i,r.calcOwnMatrix())),i},uv=(r,e)=>{var t;const{transform:{target:i}}=e;(t=i.canvas)===null||t===void 0||t.fire("object:".concat(r),q(q({},e),{},{target:i})),i.fire(r,e)},p5={left:-.5,top:-.5,center:0,bottom:.5,right:.5},sr=r=>typeof r=="string"?p5[r]:r-.5,Rh="not-allowed";function OS(r){return sr(r.originX)===sr(Zt)&&sr(r.originY)===sr(Zt)}function Ab(r){return .5-sr(r)}const Nn=(r,e)=>r[e],hv=(r,e,t,i)=>({e:r,transform:e,pointer:new ve(t,i)});function IS(r,e){const t=r.getTotalAngle()+aa(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function vf(r,e,t,i,n){var s;let{target:o,corner:a}=r;const l=o.controls[a],c=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,d=o.padding/c,u=function(h,f,m,p){const g=h.getRelativeCenterPoint(),v=m!==void 0&&p!==void 0?h.translateToGivenOrigin(g,Zt,Zt,m,p):new ve(h.left,h.top);return(h.angle?f.rotate(-$i(h.angle),g):f).subtract(v)}(o,new ve(i,n),e,t);return u.x>=d&&(u.x-=d),u.x<=-d&&(u.x+=d),u.y>=d&&(u.y-=d),u.y<=d&&(u.y+=d),u.x-=l.offsetX,u.y-=l.offsetY,u}const LS=(r,e,t,i)=>{const{target:n,offsetX:s,offsetY:o}=e,a=t-s,l=i-o,c=!Nn(n,"lockMovementX")&&n.left!==a,d=!Nn(n,"lockMovementY")&&n.top!==l;return c&&n.set(hi,a),d&&n.set(Jr,l),(c||d)&&uv(hS,hv(r,e,t,i)),c||d};class PS{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):Qr,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",d=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=Qc(or,this.fill);return[Qc($r,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",t,"; ","opacity: ",c,";",u,d].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(Dh(i));return"".concat(n).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=n,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:i,withShadow:n,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),a=n?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=l&&l.absolutePositioned,u=this.stroke,h=this.fill,f=this.shadow,m=[],p=e.indexOf("COMMON_PARTS");let g;l&&(l.clipPathId="CLIPPATH_".concat(yo()),g='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(i),`</clipPath>
`)),d&&m.push("<g ",a,this.getSvgCommons(),` >
`),m.push("<g ",this.getSvgTransform(!1),d?"":a+this.getSvgCommons(),` >
`);const v=[o,c,t?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[p]=v,_n(h)&&m.push(h.toSVG(this)),_n(u)&&m.push(u.toSVG(this)),f&&m.push(f.toSVG(this)),l&&m.push(g),m.push(e.join("")),m.push(`</g>
`),d&&m.push(`</g>
`),i?i(m.join("")):m.join("")}addPaintOrder(){return this.paintFirst!==or?' paint-order="'.concat(this.paintFirst,'" '):""}}function _f(r){return new RegExp("^("+r.join("|")+")\\b","i")}var Ob;const la=String.raw(Ob||(Ob=So(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),g5=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+la+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+la+"))?\\s+(.*)"),v5={cx:hi,x:hi,r:"radius",cy:Jr,y:Jr,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},ip="font-size",rp="clip-path";_f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);_f(["symbol","image","marker","pattern","view","svg"]);const Ib=_f(["symbol","g","a","svg","clipPath","defs"]),_5=new ve(1,0),DS=new ve,MS=(r,e)=>r.rotate(e),e0=(r,e)=>new ve(e).subtract(r),t0=r=>r.distanceFrom(DS),i0=(r,e)=>Math.atan2(jc(r,e),b5(r,e)),y5=r=>i0(_5,r),fv=r=>r.eq(DS)?r:r.scalarDivide(t0(r)),RS=function(r){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return fv(new ve(-r.y,r.x).scalarMultiply(e?1:-1))},jc=(r,e)=>r.x*e.y-r.y*e.x,b5=(r,e)=>r.x*e.x+r.y*e.y,Lb=(r,e,t)=>{if(r.eq(e)||r.eq(t))return!0;const i=jc(e,t),n=jc(e,r),s=jc(t,r);return i>=0?n>=0&&s<=0:!(n<=0&&s>=0)},Pb="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Db=new RegExp("(?:\\s|^)"+Pb+Pb+"("+la+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class As{constructor(e){const t=typeof e=="string"?As.parseShadow(e):e;Object.assign(this,As.ownDefaults,t),this.id=yo()}static parseShadow(e){const t=e.trim(),[,i=0,n=0,s=0]=(Db.exec(t)||[]).map(o=>parseFloat(o)||0);return{color:(t.replace(Db,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:n,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=MS(new ve(this.offsetX,this.offsetY),$i(-e.angle)),i=new mi(this.color);let n=40,s=40;return e.width&&e.height&&(n=100*Bi((Math.abs(t.x)+this.blur)/e.width,ri.NUM_FRACTION_DIGITS)+20,s=100*Bi((Math.abs(t.y)+this.blur)/e.height,ri.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Bi(this.blur?this.blur/2:0,ri.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Bi(t.x,ri.NUM_FRACTION_DIGITS),'" dy="').concat(Bi(t.y,ri.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=As.ownDefaults;return this.includeDefaultValues?e:cv(e,(i,n)=>i!==t[n])}static fromObject(e){return le(this,null,function*(){return new this(e)})}}Z(As,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),Z(As,"type","shadow"),pt.setClass(As,"shadow");const Tl=(r,e,t)=>Math.max(r,Math.min(e,t)),x5=[Jr,hi,tn,bn,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Gl,Vl],Rs=[or,$r,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],w5={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:hi,originY:Jr,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:or,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},S5=(r,e,t,i)=>-t*Math.cos(r/i*md)+t+e,T5=()=>!1;class mv{constructor(e){let{startValue:t,byValue:i,duration:n=500,delay:s=0,easing:o=S5,onStart:a=dh,onChange:l=dh,onComplete:c=dh,abort:d=T5,target:u}=e;Z(this,"_state","pending"),Z(this,"durationProgress",0),Z(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=d,this.target=u,this.startValue=t,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>hh(e),this.delay):hh(e)}tick(e){const t=(e||+new Date)-this.startTime,i=Math.min(t,this.duration);this.durationProgress=i/this.duration;const{value:n,valueProgress:s}=this.calculate(i);this.value=Object.freeze(n),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),hh(this.tick)))}register(){Lh.push(this)}unregister(){Lh.remove(this)}abort(){this._state="aborted",this.unregister()}}const C5=["startValue","endValue"];class k5 extends mv{constructor(e){let{startValue:t=0,endValue:i=100}=e;super(q(q({},Mi(e,C5)),{},{startValue:t,byValue:i-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const E5=["startValue","endValue"];class A5 extends mv{constructor(e){let{startValue:t=[0],endValue:i=[100]}=e;super(q(q({},Mi(e,E5)),{},{startValue:t,byValue:i.map((n,s)=>n-t[s])}))}calculate(e){const t=this.startValue.map((i,n)=>this.easing(e,i,this.byValue[n],this.duration,n));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const O5=["startValue","endValue","easing","onChange","onComplete","abort"],I5=(r,e,t,i)=>e+t*(1-Math.cos(r/i*md)),np=r=>r&&((e,t,i)=>r(new mi(e).toRgba(),t,i));class L5 extends mv{constructor(e){let{startValue:t,endValue:i,easing:n=I5,onChange:s,onComplete:o,abort:a}=e,l=Mi(e,O5);const c=new mi(t).getSource(),d=new mi(i).getSource();super(q(q({},l),{},{startValue:c,byValue:d.map((u,h)=>u-c[h]),easing:n,onChange:np(s),onComplete:np(o),abort:np(a)}))}calculate(e){const[t,i,n,s]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),o=[...[t,i,n].map(Math.round),Tl(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function FS(r){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(r)?new A5(r):new k5(r);return e.start(),e}function P5(r){const e=new L5(r);return e.start(),e}class zi{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.points=this.points.concat(t.filter(n=>!this.includes(n))),this}static isPointContained(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(i))return e.eq(t);if(t.x===i.x)return e.x===t.x&&(n||e.y>=Math.min(t.y,i.y)&&e.y<=Math.max(t.y,i.y));if(t.y===i.y)return e.y===t.y&&(n||e.x>=Math.min(t.x,i.x)&&e.x<=Math.max(t.x,i.x));{const s=e0(t,i),o=e0(t,e).divide(s);return n?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const i=new ve(e).setX(Math.min(e.x-1,...t.map(s=>s.x)));let n=0;for(let s=0;s<t.length;s++){const o=this.intersectSegmentSegment(t[s],t[(s+1)%t.length],e,i);if(o.includes(e))return!0;n+=+(o.status==="Intersection")}return n%2==1}static intersectLineLine(e,t,i,n){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=t.x-e.x,l=t.y-e.y,c=n.x-i.x,d=n.y-i.y,u=e.x-i.x,h=e.y-i.y,f=c*h-d*u,m=a*h-l*u,p=d*a-c*l;if(p!==0){const g=f/p,v=m/p;return(s||0<=g&&g<=1)&&(o||0<=v&&v<=1)?new zi("Intersection").append(new ve(e.x+g*a,e.y+g*l)):new zi}if(f===0||m===0){const g=s||o||zi.isPointContained(e,i,n)||zi.isPointContained(t,i,n)||zi.isPointContained(i,e,t)||zi.isPointContained(n,e,t);return new zi(g?"Coincident":void 0)}return new zi("Parallel")}static intersectSegmentLine(e,t,i,n){return zi.intersectLineLine(e,t,i,n,!1,!0)}static intersectSegmentSegment(e,t,i,n){return zi.intersectLineLine(e,t,i,n,!1,!1)}static intersectLinePolygon(e,t,i){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new zi,o=i.length;for(let a,l,c,d=0;d<o;d++){if(a=i[d],l=i[(d+1)%o],c=zi.intersectLineLine(e,t,a,l,n,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,t,i){return zi.intersectLinePolygon(e,t,i,!1)}static intersectPolygonPolygon(e,t){const i=new zi,n=e.length,s=[];for(let o=0;o<n;o++){const a=e[o],l=e[(o+1)%n],c=zi.intersectSegmentPolygon(a,l,t);c.status==="Coincident"?(s.push(c),i.append(a,l)):i.append(...c.points)}return s.length>0&&s.length===e.length?new zi("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(e,t,i){const n=t.min(i),s=t.max(i),o=new ve(s.x,n.y),a=new ve(n.x,s.y);return zi.intersectPolygonPolygon(e,[n,o,s,a])}}class D5 extends vS{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?qr(e,this.group.calcTransformMatrix()):e}setXY(e,t,i){this.group&&(e=qr(e,Rn(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,i)}getRelativeXY(){return new ve(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:i,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,t,i,n];if(this.group){const o=this.group.calcTransformMatrix();return s.map(a=>qr(a,o))}return s}intersectsWithRect(e,t){return zi.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=zi.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:i,top:n,width:s,height:o}=this.getBoundingRect();return i>=e.x&&i+s<=t.x&&n>=e.y&&n+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return zi.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=t.x&&i.x>=e.x&&i.y<=t.y&&i.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every(i=>(i.x>=t.x||i.x<=e.x)&&(i.y>=t.y||i.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return Es(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(tn,e),this._set(bn,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?aa(yS(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Ur.concat()}calcACoords(){const e=gd({angle:this.angle}),{x:t,y:i}=this.getRelativeCenterPoint(),n=pd(t,i),s=fr(n,e),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:qr({x:-a,y:-l},s),tr:qr({x:a,y:-l},s),bl:qr({x:-a,y:l},s),br:qr({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,sr(this.originX),sr(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const i=this.transformMatrixKey(e),n=this.matrixCache;return n&&n.key.every((s,o)=>s===i[o])?n.value:(this.group&&(t=fr(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:i,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const i=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=s5(n);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new ve(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=q({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),i=t.strokeWidth;let n=i,s=0;this.strokeUniform&&(n=0,s=i);const o=t.width+n,a=t.height+n;let l;return l=t.skewX===0&&t.skewY===0?new ve(o*t.scaleX,a*t.scaleY):dv(o,a,mf(t)),l.scalarAdd(s)}translateToGivenOrigin(e,t,i,n,s){let o=e.x,a=e.y;const l=sr(n)-sr(t),c=sr(s)-sr(i);if(l||c){const d=this._getTransformedDimensions();o+=l*d.x,a+=c*d.y}return new ve(o,a)}translateToCenterPoint(e,t,i){if(t===Zt&&i===Zt)return e;const n=this.translateToGivenOrigin(e,t,i,Zt,Zt);return this.angle?n.rotate($i(this.angle),e):n}translateToOriginPoint(e,t,i){const n=this.translateToGivenOrigin(e,Zt,Zt,t,i);return this.angle?n.rotate($i(this.angle),e):n}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?qr(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ve(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,i){const n=this.translateToCenterPoint(e,t,i),s=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),hi,Jr)}}const M5=["type"],R5=["extraParam"];let bs=class mh extends D5{static getDefaults(){return mh.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){_o("warn","Setting type has no effect",e)}constructor(e){super(),Z(this,"_cacheContext",null),Object.assign(this,mh.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=mr(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,i=e.height,n=ri.maxCacheSideLimit,s=ri.minCacheSideLimit;if(t<=n&&i<=n&&t*i<=ri.perfLimitSizeTotal)return t<s&&(e.width=s),i<s&&(e.height=s),e;const o=t/i,[a,l]=Bc.limitDimsByArea(o),c=Tl(s,a,n),d=Tl(s,l,n);return t>c&&(e.zoomX/=t/c,e.width=c,e.capped=!0),i>d&&(e.zoomY/=i/d,e.height=d,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),i=t.x*e.x/this.scaleX,n=t.y*e.y/this.scaleY;return{width:i+2,height:n+2,zoomX:e.x,zoomY:e.y,x:i,y:n}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,i=this._limitCacheSize(this._getCacheCanvasDimensions()),n=ri.minCacheSideLimit,s=i.width,o=i.height,a=i.zoomX,l=i.zoomY,c=s!==e.width||o!==e.height,d=this.zoomX!==a||this.zoomY!==l;if(!e||!t)return!1;let u,h,f=c||d,m=0,p=0,g=!1;if(c){const v=this._cacheCanvas.width,b=this._cacheCanvas.height,S=s>v||o>b;g=S||(s<.9*v||o<.9*b)&&v>n&&b>n,S&&!i.capped&&(s>n||o>n)&&(m=.1*s,p=.1*o)}return SS(this)&&this.path&&(f=!0,g=!0,m+=this.getHeightOfLine(0)*this.zoomX,p+=this.getHeightOfLine(0)*this.zoomY),!!f&&(g?(e.width=Math.ceil(s+m),e.height=Math.ceil(o+p)):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height)),u=i.x/2,h=i.y/2,this.cacheTranslationX=Math.round(e.width/2-u)+u,this.cacheTranslationY=Math.round(e.height/2-h)+h,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(a,l),this.zoomX=a,this.zoomY=l,!0)}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,i=this.calcTransformMatrix(!t);e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new ve(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=Ph(this.calcTransformMatrix());return new ve(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return e.scalarMultiply(t*i)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==tn&&e!==bn||(t=this._constrainScale(t)),e===tn&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof As||(t=new As(t));const i=this[e]!==t;return this[e]=t,i&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===$r&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t){if(e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",t.absolutePositioned){const i=Rn(this.calcTransformMatrix());e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}drawObject(e,t){const i=this.fill,n=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=i,this.stroke=n}_drawClipPath(e,t){t&&(t._set("canvas",this.canvas),t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,i=this._cacheContext;return!(!t||!i||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&i&&!e&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),i.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const i=t.stroke;i&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,_n(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(e,i):(e.strokeStyle=i.toLive(e),this._applyPatternGradientTransform(e,i)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:i}=t;i&&(_n(i)?(e.fillStyle=i.toLive(e),this._applyPatternGradientTransform(e,i)):e.fillStyle=i)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&(1&t.length&&t.push(...t),e.setLineDash(t))}_setShadow(e){if(!this.shadow)return;const t=this.shadow,i=this.canvas,n=this.getCanvasRetinaScaling(),[s,,,o]=(i==null?void 0:i.viewportTransform)||Ur,a=s*n,l=o*n,c=t.nonScaling?new ve(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*ri.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,e.shadowOffsetX=t.offsetX*a*c.x,e.shadowOffsetY=t.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!_n(t))return{offsetX:0,offsetY:0};const i=t.gradientTransform||t.patternTransform,n=-this.width/2+t.offsetX||0,s=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,n,s):e.transform(1,0,0,1,n,s),i&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===$r?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var i;const n=this._limitCacheSize(this._getCacheCanvasDimensions()),s=mr(),o=this.getCanvasRetinaScaling(),a=n.x/this.scaleX/o,l=n.y/this.scaleY/o;s.width=Math.ceil(a),s.height=Math.ceil(l);const c=s.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(a,0),c.lineTo(a,l),c.lineTo(0,l),c.closePath(),c.translate(a/2,l/2),c.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(c,t),c.fillStyle=t.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),e.strokeStyle=(i=c.createPattern(s,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new ve(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(pt.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=AS(this),i=this.group,n=this.shadow,s=Math.abs,o=e.enableRetinaScaling?uS():1,a=(e.multiplier||1)*o,l=e.canvasProvider||(b=>new vd(b,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&h5(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&m5(this,this.getViewportTransform()),this.setCoords();const c=mr(),d=this.getBoundingRect(),u=this.shadow,h=new ve;if(u){const b=u.blur,S=u.nonScaling?new ve(1,1):this.getObjectScaling();h.x=2*Math.round(s(u.offsetX)+b)*s(S.x),h.y=2*Math.round(s(u.offsetY)+b)*s(S.y)}const f=d.width+h.x,m=d.height+h.y;c.width=Math.ceil(f),c.height=Math.ceil(m);const p=l(c);e.format==="jpeg"&&(p.backgroundColor="#fff"),this.setPositionByOrigin(new ve(p.width/2,p.height/2),Zt,Zt);const g=this.canvas;p._objects=[this],this.set("canvas",p),this.setCoords();const v=p.toCanvasElement(a||1,e);return this.set("canvas",g),this.shadow=n,i&&(this.group=i),this.set(t),this.setCoords(),p._objects=[],p.destroy(),v}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _S(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:i,originY:n}=this;if(t){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=Zt,this.originY=Zt,this.left=s,this.top=o}if(this.set("angle",e),t){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,n);this.left=s,this.top=o,this.originX=i,this.originY=n}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Lh.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&rs().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((i,n)=>{let[s,o]=n;return i[s]=this._animate(s,o,t),i},{})}_animate(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.split("."),s=this.constructor.colorProperties.includes(n[n.length-1]),{abort:o,startValue:a,onChange:l,onComplete:c}=i,d=q(q({},i),{},{target:this,startValue:a!=null?a:n.reduce((u,h)=>u[h],this),endValue:t,abort:o==null?void 0:o.bind(this),onChange:(u,h,f)=>{n.reduce((m,p,g)=>(g===n.length-1&&(m[p]=u),m[p]),this),l&&l(u,h,f)},onComplete:(u,h,f)=>{this.setCoords(),c&&c(u,h,f)}});return s?P5(d):FS(d)}isDescendantOf(e){const{parent:t,group:i}=this;return t===e||i===e||!!t&&t.isDescendantOf(e)||!!i&&i!==t&&i.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),i=e.getAncestors();if(t.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[e,...i.slice(0,i.length-1)],common:[this]};for(let n,s=0;s<t.length;s++){if(n=t[s],n===e)return{fork:[this,...t.slice(0,s)],otherFork:[],common:t.slice(s)};for(let o=0;o<i.length;o++){if(this===i[o])return{fork:[],otherFork:[e,...i.slice(0,o)],common:[this,...t]};if(n===i[o])return{fork:[this,...t.slice(0,s)],otherFork:[e,...i.slice(0,o)],common:t.slice(s)}}}return{fork:[this,...t],otherFork:[e,...i],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const i=t.common[0]||this.canvas;if(!i)return;const n=t.fork.pop(),s=t.otherFork.pop(),o=i._objects.indexOf(n),a=i._objects.indexOf(s);return o>-1&&o>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(mh.customProperties,this.constructor.customProperties||[]);let t;const i=ri.NUM_FRACTION_DIGITS,{clipPath:n,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:c,top:d,originX:u,originY:h,width:f,height:m,strokeWidth:p,strokeLineCap:g,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:S,strokeMiterLimit:_,scaleX:x,scaleY:I,angle:T,flipX:O,flipY:E,opacity:w,visible:X,backgroundColor:H,fillRule:Y,paintFirst:k,globalCompositeOperation:D,skewX:M,skewY:L}=this;n&&!n.excludeFromExport&&(t=n.toObject(e.concat("inverted","absolutePositioned")));const J=te=>Bi(te,i),ce=q(q({},Ul(this,e)),{},{type:this.constructor.type,version:Zg,originX:u,originY:h,left:J(c),top:J(d),width:J(f),height:J(m),fill:Cb(s)?s.toObject():s,stroke:Cb(o)?o.toObject():o,strokeWidth:J(p),strokeDashArray:l&&l.concat(),strokeLineCap:g,strokeDashOffset:v,strokeLineJoin:b,strokeUniform:S,strokeMiterLimit:J(_),scaleX:J(x),scaleY:J(I),angle:J(T),flipX:O,flipY:E,opacity:J(w),shadow:a&&a.toObject(),visible:X,backgroundColor:H,fillRule:Y,paintFirst:k,globalCompositeOperation:D,skewX:J(M),skewY:J(L)},t?{clipPath:t}:null);return this.includeDefaultValues?ce:this._removeDefaultValues(ce)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),i=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return cv(e,(n,s)=>{if(s===hi||s===Jr||s==="type")return!0;const o=i[s];return n!==o&&!(Array.isArray(n)&&Array.isArray(o)&&n.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=Mi(e,M5),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=i,s=Mi(i,R5);return pf(t,s).then(o=>n?(delete o[n],new this(t[n],o)):new this(o))}static fromObject(e,t){return this._fromObject(e,t)}};Z(bs,"stateProperties",x5),Z(bs,"cacheProperties",Rs),Z(bs,"ownDefaults",w5),Z(bs,"type","FabricObject"),Z(bs,"colorProperties",[or,$r,"backgroundColor"]),Z(bs,"customProperties",[]),pt.setClass(bs),pt.setClass(bs,"object");const To=(r,e,t)=>(i,n,s,o)=>{const a=e(i,n,s,o);return a&&uv(r,q(q({},hv(i,n,s,o)),t)),a};function pa(r){return(e,t,i,n)=>{const{target:s,originX:o,originY:a}=t,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,o,a),d=r(e,t,i,n);return s.setPositionByOrigin(c,t.originX,t.originY),d}}const r0=To(Kc,pa((r,e,t,i)=>{const n=vf(e,e.originX,e.originY,t,i);if(sr(e.originX)===sr(Zt)||sr(e.originX)===sr(Qi)&&n.x<0||sr(e.originX)===sr(hi)&&n.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=OS(e)?2:1,l=s.width,c=Math.ceil(Math.abs(n.x*a/s.scaleX)-o);return s.set("width",Math.max(c,0)),l!==s.width}return!1}));function NS(r,e,t,i,n){i=i||{};const s=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,l=a?$r:or,c=!a&&(i.cornerStrokeColor||n.cornerStrokeColor);let d,u=e,h=t;r.save(),r.fillStyle=i.cornerColor||n.cornerColor||"",r.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",s>o?(d=s,r.scale(1,o/s),h=t*s/o):o>s?(d=o,r.scale(s/o,1),u=e*o/s):d=s,r.lineWidth=1,r.beginPath(),r.arc(u,h,d/2,0,Ah,!1),r[l](),c&&r.stroke(),r.restore()}function zS(r,e,t,i,n){i=i||{};const s=this.sizeX||i.cornerSize||n.cornerSize,o=this.sizeY||i.cornerSize||n.cornerSize,a=i.transparentCorners!==void 0?i.transparentCorners:n.transparentCorners,l=a?$r:or,c=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),d=s/2,u=o/2;r.save(),r.fillStyle=i.cornerColor||n.cornerColor||"",r.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor||"",r.lineWidth=1,r.translate(e,t);const h=n.getTotalAngle();r.rotate($i(h)),r["".concat(l,"Rect")](-d,-u,s,o),c&&r.strokeRect(-d,-u,s,o),r.restore()}class an{constructor(e){Z(this,"visible",!0),Z(this,"actionName",ff),Z(this,"angle",0),Z(this,"x",0),Z(this,"y",0),Z(this,"offsetX",0),Z(this,"offsetY",0),Z(this,"sizeX",0),Z(this,"sizeY",0),Z(this,"touchSizeX",0),Z(this,"touchSizeY",0),Z(this,"cursorStyle","crosshair"),Z(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,i,n){var s;let{tl:o,tr:a,br:l,bl:c}=n;return((s=t.canvas)===null||s===void 0?void 0:s.getActiveObject())===t&&t.isControlVisible(e)&&zi.isPointInPolygon(i,[o,a,l,c])}getActionHandler(e,t,i){return this.actionHandler}getMouseDownHandler(e,t,i){return this.mouseDownHandler}getMouseUpHandler(e,t,i){return this.mouseUpHandler}cursorStyleHandler(e,t,i){return t.cursorStyle}getActionName(e,t,i){return t.actionName}getVisibility(e,t){var i,n;return(i=(n=e._controlsVisibility)===null||n===void 0?void 0:n[t])!==null&&i!==void 0?i:this.visible}setVisibility(e,t,i){this.visible=e}positionHandler(e,t,i,n){return new ve(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,i,n,s,o){const a=av([pd(i,n),gd({angle:e}),lv((s?this.touchSizeX:this.sizeX)||t,(s?this.touchSizeY:this.sizeY)||t)]);return{tl:new ve(-.5,-.5).transform(a),tr:new ve(.5,-.5).transform(a),br:new ve(.5,.5).transform(a),bl:new ve(-.5,.5).transform(a)}}render(e,t,i,n,s){((n=n||{}).cornerStyle||s.cornerStyle)==="circle"?NS.call(this,e,t,i,n,s):zS.call(this,e,t,i,n,s)}}const BS=(r,e,t)=>t.lockRotation?Rh:e.cursorStyle,jS=To(fS,pa((r,e,t,i)=>{let{target:n,ex:s,ey:o,theta:a,originX:l,originY:c}=e;const d=n.translateToOriginPoint(n.getRelativeCenterPoint(),l,c);if(Nn(n,"lockRotation"))return!1;const u=Math.atan2(o-d.y,s-d.x),h=Math.atan2(i-d.y,t-d.x);let f=aa(h-u+a);if(n.snapAngle&&n.snapAngle>0){const p=n.snapAngle,g=n.snapThreshold||p,v=Math.ceil(f/p)*p,b=Math.floor(f/p)*p;Math.abs(f-b)<g?f=b:Math.abs(f-v)<g&&(f=v)}f<0&&(f=360+f),f%=360;const m=n.angle!==f;return n.angle=f,m}));function GS(r,e){const t=e.canvas,i=r[t.uniScaleKey];return t.uniformScaling&&!i||!t.uniformScaling&&i}function VS(r,e,t){const i=Nn(r,"lockScalingX"),n=Nn(r,"lockScalingY");if(i&&n||!e&&(i||n)&&t||i&&e==="x"||n&&e==="y")return!0;const{width:s,height:o,strokeWidth:a}=r;return s===0&&a===0&&e!=="y"||o===0&&a===0&&e!=="x"}const F5=["e","se","s","sw","w","nw","n","ne","e"],ol=(r,e,t)=>{const i=GS(r,t);if(VS(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",i))return Rh;const n=IS(t,e);return"".concat(F5[n],"-resize")};function pv(r,e,t,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=n.by,a=GS(r,s);let l,c,d,u,h,f;if(VS(s,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,d=e.scaleY*e.gestureScale;else{if(l=vf(e,e.originX,e.originY,t,i),h=o!=="y"?Math.sign(l.x||e.signX||1):1,f=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=h),e.signY||(e.signY=f),Nn(s,"lockScalingFlip")&&(e.signX!==h||e.signY!==f))return!1;if(u=s._getTransformedDimensions(),a&&!o){const g=Math.abs(l.x)+Math.abs(l.y),{original:v}=e,b=g/(Math.abs(u.x*v.scaleX/s.scaleX)+Math.abs(u.y*v.scaleY/s.scaleY));c=v.scaleX*b,d=v.scaleY*b}else c=Math.abs(l.x*s.scaleX/u.x),d=Math.abs(l.y*s.scaleY/u.y);OS(e)&&(c*=2,d*=2),e.signX!==h&&o!=="y"&&(e.originX=Ab(e.originX),c*=-1,e.signX=h),e.signY!==f&&o!=="x"&&(e.originY=Ab(e.originY),d*=-1,e.signY=f)}const m=s.scaleX,p=s.scaleY;return o?(o==="x"&&s.set(tn,c),o==="y"&&s.set(bn,d)):(!Nn(s,"lockScalingX")&&s.set(tn,c),!Nn(s,"lockScalingY")&&s.set(bn,d)),m!==s.scaleX||p!==s.scaleY}const Pc=To(hf,pa((r,e,t,i)=>pv(r,e,t,i))),US=To(hf,pa((r,e,t,i)=>pv(r,e,t,i,{by:"x"}))),HS=To(hf,pa((r,e,t,i)=>pv(r,e,t,i,{by:"y"}))),N5=["target","ex","ey","skewingSide"],sp={x:{counterAxis:"y",scale:tn,skew:Gl,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:bn,skew:Vl,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},z5=["ns","nesw","ew","nwse"],XS=(r,e,t)=>{if(e.x!==0&&Nn(t,"lockSkewingY")||e.y!==0&&Nn(t,"lockSkewingX"))return Rh;const i=IS(t,e)%4;return"".concat(z5[i],"-resize")};function WS(r,e,t,i,n){const{target:s}=t,{counterAxis:o,origin:a,lockSkewing:l,skew:c,flip:d}=sp[r];if(Nn(s,l))return!1;const{origin:u,flip:h}=sp[o],f=sr(t[u])*(s[h]?-1:1),m=-Math.sign(f)*(s[d]?-1:1),p=.5*-((s[c]===0&&vf(t,Zt,Zt,i,n)[r]>0||s[c]>0?1:-1)*m)+.5;return To(mS,pa((v,b,S,_)=>function(x,I,T){let{target:O,ex:E,ey:w,skewingSide:X}=I,H=Mi(I,N5);const{skew:Y}=sp[x],k=T.subtract(new ve(E,w)).divide(new ve(O.scaleX,O.scaleY))[x],D=O[Y],M=H[Y],L=Math.tan($i(M)),J=x==="y"?O._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:O._getTransformedDimensions({scaleX:1,scaleY:1}).y,ce=2*k*X/Math.max(J,1)+L,te=aa(Math.atan(ce));O.set(Y,te);const et=D!==O[Y];if(et&&x==="y"){const{skewX:ot,scaleX:Ot}=O,gt=O._getTransformedDimensions({skewY:D}),je=O._getTransformedDimensions(),At=ot!==0?gt.x/je.x:1;At!==1&&O.set(tn,At*Ot)}return et}(r,b,new ve(S,_))))(e,q(q({},t),{},{[a]:p,skewingSide:m}),i,n)}const YS=(r,e,t,i)=>WS("x",r,e,t,i),qS=(r,e,t,i)=>WS("y",r,e,t,i);function yf(r,e){return r[e.canvas.altActionKey]}const Dc=(r,e,t)=>{const i=yf(r,t);return e.x===0?i?Gl:bn:e.y===0?i?Vl:tn:""},Qo=(r,e,t)=>yf(r,t)?XS(0,e,t):ol(r,e,t),n0=(r,e,t,i)=>yf(r,e.target)?qS(r,e,t,i):US(r,e,t,i),s0=(r,e,t,i)=>yf(r,e.target)?YS(r,e,t,i):HS(r,e,t,i),gv=()=>({ml:new an({x:-.5,y:0,cursorStyleHandler:Qo,actionHandler:n0,getActionName:Dc}),mr:new an({x:.5,y:0,cursorStyleHandler:Qo,actionHandler:n0,getActionName:Dc}),mb:new an({x:0,y:.5,cursorStyleHandler:Qo,actionHandler:s0,getActionName:Dc}),mt:new an({x:0,y:-.5,cursorStyleHandler:Qo,actionHandler:s0,getActionName:Dc}),tl:new an({x:-.5,y:-.5,cursorStyleHandler:ol,actionHandler:Pc}),tr:new an({x:.5,y:-.5,cursorStyleHandler:ol,actionHandler:Pc}),bl:new an({x:-.5,y:.5,cursorStyleHandler:ol,actionHandler:Pc}),br:new an({x:.5,y:.5,cursorStyleHandler:ol,actionHandler:Pc}),mtr:new an({x:0,y:-.5,actionHandler:jS,cursorStyleHandler:BS,offsetY:-40,withConnection:!0,actionName:sv})}),ZS=()=>({mr:new an({x:.5,y:0,actionHandler:r0,cursorStyleHandler:Qo,actionName:Kc}),ml:new an({x:-.5,y:0,actionHandler:r0,cursorStyleHandler:Qo,actionName:Kc})}),KS=()=>q(q({},gv()),ZS());class $c extends bs{static getDefaults(){return q(q({},super.getDefaults()),$c.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),$c.ownDefaults),this.setOptions(e)}static createControls(){return{controls:gv()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,i=t.target,n=t.action;if(this===i&&n&&n.startsWith(ff))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const i=Object.entries(this.oCoords);for(let n=i.length-1;n>=0;n--){const[s,o]=i[n],a=this.controls[s];if(a.shouldActivate(s,this,e,t?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),i=pd(t.x,t.y),n=gd({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=fr(i,n),o=fr(e,s),a=fr(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?Ph(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),d={};return this.forEachControl((u,h)=>{const f=u.positionHandler(c,a,this,u);d[h]=Object.assign(f,this._calcCornerCoords(u,f))}),d}_calcCornerCoords(e,t){const i=this.getTotalAngle();return{corner:e.calcCornerCoords(i,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(i,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),n=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/n[0],1/n[3]),e.rotate($i(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-i.x/2,-i.y/2,i.x,i.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=q({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);e.save(),e.strokeStyle=n.borderColor,this._setLineDash(e,n.borderDashArray),this.strokeBorders(e,t),n.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:i,hasControls:n}=this,s=q({hasBorders:i,hasControls:n},t),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,c=fr(o,this.calcTransformMatrix()),d=Ph(c);e.save(),e.translate(d.translateX,d.translateY),e.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(d.angle-=180),e.rotate($i(this.group?d.angle:this.angle)),a&&this.drawBorders(e,d,t),l&&this.drawControls(e,t),e.restore()}drawBorders(e,t,i){let n;if(i&&i.forActiveSelection||this.group){const s=dv(this.width,this.height,mf(t)),o=this.isStrokeAccountedForInDimensions()?ov:(this.strokeUniform?new ve().scalarAdd(this.canvas?this.canvas.getZoom():1):new ve(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);n=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,n,i)}drawControlsConnectingLines(e,t){let i=!1;e.beginPath(),this.forEachControl((n,s)=>{n.withConnection&&n.getVisibility(this,s)&&(i=!0,e.moveTo(n.x*t.x,n.y*t.y),e.lineTo(n.x*t.x+n.offsetX,n.y*t.y+n.offsetY))}),i&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:s,cornerColor:o}=this,a=q({cornerStrokeColor:n,cornerDashArray:s,cornerColor:o},t);e.setTransform(i,0,0,i,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const d=this.oCoords[c];l.render(e,d.x,d.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(t=>{let[i,n]=t;return this.setControlVisible(i,n)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const i=this.canvas.viewportTransform;t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(t);const n=this.width+4,s=this.height+4;return t.clearRect(-n/2,-s/2,n,s),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function JS(r,e){return e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(r.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i)||Object.create(null))})}),r}Z($c,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Pr extends $c{}JS(Pr,[PS]),pt.setClass(Pr),pt.setClass(Pr,"object");const B5=(r,e,t,i)=>{const n=2*(i=Math.round(i))+1,{data:s}=r.getImageData(e-i,t-i,n,n);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class QS{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ve(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ve(1/this.options.scaleX,1/this.options.scaleY):new ve(1,1)}createSideVector(e,t){const i=e0(e,t);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(e,t,i){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new ve(e);return t.y+=t.x*Math.tan($i(this.options.skewY)),t.x+=t.y*Math.tan($i(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const j5=new ve;class fl extends QS{static getOrthogonalRotationFactor(e,t){const i=t?i0(e,t):y5(e);return Math.abs(i)<md?-1:1}constructor(e,t,i,n){super(n),Z(this,"AB",void 0),Z(this,"AC",void 0),Z(this,"alpha",void 0),Z(this,"bisector",void 0),this.A=new ve(e),this.B=new ve(t),this.C=new ve(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=i0(this.AB,this.AC),this.bisector=fv(MS(this.AB.eq(j5)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(e,t),s=RS(n),o=fl.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,i*o)}projectBevel(){const e=[];return(this.alpha%Ah==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),i=1/Math.sin(t/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),s=this.options.strokeUniform?t0(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return t0(n)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(n))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const i=[],n=new ve(fl.getOrthogonalRotationFactor(this.bisector),fl.getOrthogonalRotationFactor(new ve(this.bisector.y,this.bisector.x)));return[new ve(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new ve(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach(s=>{Lb(s,e,t)&&i.push(this.A.add(s))}),i}projectRoundWithSkew(e,t){const i=[],{skewX:n,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,c=new ve(Math.tan($i(n)),Math.tan($i(s))),d=this.strokeProjectionMagnitude,u=l?d/a/Math.sqrt(1/Ci(a,2)+1/Ci(o,2)*Ci(c.y,2)):d/Math.sqrt(1+Ci(c.y,2)),h=new ve(Math.sqrt(Math.max(Ci(d,2)-Ci(u,2),0)),u),f=l?d/Math.sqrt(1+Ci(c.x,2)*Ci(1/a,2)/Ci(1/o+1/o*c.x*c.y,2)):d/Math.sqrt(1+Ci(c.x,2)/Ci(1+c.x*c.y,2)),m=new ve(f,Math.sqrt(Math.max(Ci(d,2)-Ci(f,2),0)));return[m,m.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(p=>this.applySkew(l?p.multiply(this.strokeUniformScalar):p)).forEach(p=>{Lb(p,e,t)&&i.push(this.applySkew(this.A).add(p))}),i}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Ah==0,i=this.applySkew(this.A),n=e[t?0:2].subtract(i),s=e[t?1:0].subtract(i),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=jc(n,o)>0,l=a?n:s,c=a?s:n;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class Mb extends QS{constructor(e,t,i){super(i),this.A=new ve(e),this.T=new ve(t)}calcOrthogonalProjection(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(e,t);return this.scaleUnitVector(RS(n),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new ve(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new fl(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new ve(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(fv(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(i);e.push(n.add(t),n.subtract(t))}return e.map(t=>this.applySkew(t))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const G5=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=[];if(r.length===0)return i;const n=r.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new ve(o)),s),[new ve(r[0])]);if(n.length===1)t=!0;else if(!t){const s=n[0],o=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(n,a=>!a.eq(s));n.splice(o+1)}return n.forEach((s,o,a)=>{let l,c;o===0?(c=a[1],l=t?s:a[a.length-1]):o===a.length-1?(l=a[o-1],c=t?s:a[0]):(l=a[o-1],c=a[o+1]),t&&a.length===1?i.push(...new Mb(s,s,e).project()):!t||o!==0&&o!==a.length-1?i.push(...new fl(s,l,c,e).project()):i.push(...new Mb(s,o===0?c:l,e).project())}),i},vv=r=>{const e={};return Object.keys(r).forEach(t=>{e[t]={},Object.keys(r[t]).forEach(i=>{e[t][i]=q({},r[t][i])})}),e},V5=r=>r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),_v=r=>{const e=[];for(let t,i=0;i<r.length;i++)(t=U5(r,i))!==!1&&e.push(t);return e},U5=(r,e)=>{const t=r.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return r.charAt(e);if(55296<=t&&t<=56319){if(r.length<=e+1)throw"High surrogate without following low surrogate";const n=r.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return r.charAt(e)+r.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const i=r.charCodeAt(e-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},yv=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.fill!==e.fill||r.stroke!==e.stroke||r.strokeWidth!==e.strokeWidth||r.fontSize!==e.fontSize||r.fontFamily!==e.fontFamily||r.fontWeight!==e.fontWeight||r.fontStyle!==e.fontStyle||r.textBackgroundColor!==e.textBackgroundColor||r.deltaY!==e.deltaY||t&&(r.overline!==e.overline||r.underline!==e.underline||r.linethrough!==e.linethrough)},H5=(r,e)=>{const t=e.split(`
`),i=[];let n=-1,s={};r=vv(r);for(let o=0;o<t.length;o++){const a=_v(t[o]);if(r[o])for(let l=0;l<a.length;l++){n++;const c=r[o][l];c&&Object.keys(c).length>0&&(yv(s,c,!0)?i.push({start:n,end:n+1,style:c}):i[i.length-1].end++),s=c||{}}else n+=a.length,s={}}return i},X5=(r,e)=>{if(!Array.isArray(r))return vv(r);const t=e.split(nv),i={};let n=-1,s=0;for(let o=0;o<t.length;o++){const a=_v(t[o]);for(let l=0;l<a.length;l++)n++,r[s]&&r[s].start<=n&&n<r[s].end&&(i[o]=i[o]||{},i[o][l]=q({},r[s].style),n===r[s].end-1&&s++)}return i},Co=["display","transform",or,"fill-opacity","fill-rule","opacity",$r,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Rb(r,e){const t=r.nodeName,i=r.getAttribute("class"),n=r.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+t,"i"),e=e.replace(o,""),n&&e.length&&(o=new RegExp("#"+n+s,"i"),e=e.replace(o,"")),i&&e.length){const a=i.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),e=e.replace(o,"")}return e.length===0}function W5(r,e){let t=!0;const i=Rb(r,e.pop());return i&&e.length&&(t=function(n,s){let o,a=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=Rb(n=n.parentElement,o);return s.length===0}(r,e)),i&&t&&e.length===0}const Y5=r=>{var e;return(e=v5[r])!==null&&e!==void 0?e:r},q5=new RegExp("(".concat(la,")"),"gi"),Z5=r=>r.replace(q5," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Fb,Nb,zb,Bb,jb,Gb,Vb;const jr="(".concat(la,")"),K5=String.raw(Fb||(Fb=So(["(skewX)(",")"],["(skewX)\\(","\\)"])),jr),J5=String.raw(Nb||(Nb=So(["(skewY)(",")"],["(skewY)\\(","\\)"])),jr),Q5=String.raw(zb||(zb=So(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),jr,jr,jr),$5=String.raw(Bb||(Bb=So(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),jr,jr),e4=String.raw(jb||(jb=So(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),jr,jr),t4=String.raw(Gb||(Gb=So(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),jr,jr,jr,jr,jr,jr),bv="(?:".concat(t4,"|").concat(e4,"|").concat(Q5,"|").concat($5,"|").concat(K5,"|").concat(J5,")"),i4="(?:".concat(bv,"*)"),r4=String.raw(Vb||(Vb=So(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),i4),n4=new RegExp(r4),s4=new RegExp(bv),o4=new RegExp(bv,"g");function o0(r){const e=[];if(!(r=Z5(r).replace(/\s*([()])\s*/gi,"$1"))||r&&!n4.test(r))return[...Ur];for(const t of r.matchAll(o4)){const i=s4.exec(t[0]);if(!i)continue;let n=Ur;const s=i.filter(m=>!!m),[,o,...a]=s,[l,c,d,u,h,f]=a.map(m=>parseFloat(m));switch(o){case"translate":n=pd(l,c);break;case sv:n=gd({angle:l},{x:c,y:d});break;case ff:n=lv(l,c);break;case Gl:n=xS(l);break;case Vl:n=wS(l);break;case"matrix":n=[l,c,d,u,h,f]}e.push(n)}return av(e)}function a4(r,e,t,i){const n=Array.isArray(e);let s,o=e;if(r!==or&&r!==$r||e!==Qr){if(r==="strokeUniform")return e==="non-scaling-stroke";if(r==="strokeDashArray")o=e===Qr?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(r==="transformMatrix")o=t&&t.transformMatrix?fr(t.transformMatrix,o0(e)):o0(e);else if(r==="visible")o=e!==Qr&&e!=="hidden",t&&t.visible===!1&&(o=!1);else if(r==="opacity")o=parseFloat(e),t&&t.opacity!==void 0&&(o*=t.opacity);else if(r==="textAnchor")o=e==="start"?hi:e==="end"?Qi:Zt;else if(r==="charSpacing")s=hl(e,i)/i*1e3;else if(r==="paintFirst"){const a=e.indexOf(or),l=e.indexOf($r);o=or,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=$r)}else{if(r==="href"||r==="xlink:href"||r==="font"||r==="id")return e;if(r==="imageSmoothing")return e==="optimizeQuality";s=n?e.map(hl):hl(e,i)}}else o="";return!n&&isNaN(s)?o:s}function l4(r,e){const t=r.match(g5);if(!t)return;const i=t[1],n=t[3],s=t[4],o=t[5],a=t[6];i&&(e.fontStyle=i),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),s&&(e.fontSize=hl(s)),a&&(e.fontFamily=a),o&&(e.lineHeight=o==="normal"?1:o)}function c4(r,e){r.replace(/;\s*$/,"").split(";").forEach(t=>{if(!t)return;const[i,n]=t.split(":");e[i.trim().toLowerCase()]=n.trim()})}function d4(r){const e={},t=r.getAttribute("style");return t&&(typeof t=="string"?c4(t,e):function(i,n){Object.entries(i).forEach(s=>{let[o,a]=s;a!==void 0&&(n[o.toLowerCase()]=a)})}(t,e)),e}const u4={stroke:"strokeOpacity",fill:"fillOpacity"};function Fs(r,e,t){if(!r)return{};let i,n={},s=rv;r.parentNode&&Ib.test(r.parentNode.nodeName)&&(n=Fs(r.parentElement,e,t),n.fontSize&&(i=s=hl(n.fontSize)));const o=q(q(q({},e.reduce((c,d)=>{const u=r.getAttribute(d);return u&&(c[d]=u),c},{})),function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={};for(const h in d)W5(c,h.split(" "))&&(u=q(q({},u),d[h]));return u}(r,t)),d4(r));o[rp]&&r.setAttribute(rp,o[rp]),o[ip]&&(i=hl(o[ip],s),o[ip]="".concat(i));const a={};for(const c in o){const d=Y5(c),u=a4(d,o[c],n,i);a[d]=u}a&&a.font&&l4(a.font,a);const l=q(q({},n),a);return Ib.test(r.nodeName)?l:function(c){const d=Pr.getDefaults();return Object.entries(u4).forEach(u=>{let[h,f]=u;if(c[f]===void 0||c[h]==="")return;if(c[h]===void 0){if(!d[h])return;c[h]=d[h]}if(c[h].indexOf("url(")===0)return;const m=new mi(c[h]);c[h]=m.setAlpha(Bi(m.getAlpha()*c[f],2)).toRgba()}),c}(l)}const h4=["left","top","width","height","visible"],$S=["rx","ry"];class Ln extends Pr{static getDefaults(){return q(q({},super.getDefaults()),Ln.ownDefaults)}constructor(e){super(),Object.assign(this,Ln.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:i}=this,n=-t/2,s=-i/2,o=this.rx?Math.min(this.rx,t/2):0,a=this.ry?Math.min(this.ry,i/2):0,l=o!==0||a!==0;e.beginPath(),e.moveTo(n+o,s),e.lineTo(n+t-o,s),l&&e.bezierCurveTo(n+t-Qs*o,s,n+t,s+Qs*a,n+t,s+a),e.lineTo(n+t,s+i-a),l&&e.bezierCurveTo(n+t,s+i-Qs*a,n+t-Qs*o,s+i,n+t-o,s+i),e.lineTo(n+o,s+i),l&&e.bezierCurveTo(n+Qs*o,s+i,n,s+i-Qs*a,n,s+i-a),e.lineTo(n,s+a),l&&e.bezierCurveTo(n,s+Qs*a,n+Qs*o,s,n+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...$S,...e])}_toSVG(){const{width:e,height:t,rx:i,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(i,'" ry="').concat(n,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,this.ATTRIBUTE_NAMES,i),{left:s=0,top:o=0,width:a=0,height:l=0,visible:c=!0}=n,d=Mi(n,h4);return new this(q(q(q({},t),d),{},{left:s,top:o,width:a,height:l,visible:!!(c&&a&&l)}))})}}Z(Ln,"type","Rect"),Z(Ln,"cacheProperties",[...Rs,...$S]),Z(Ln,"ownDefaults",{rx:0,ry:0}),Z(Ln,"ATTRIBUTE_NAMES",[...Co,"x","y","rx","ry","width","height"]),pt.setClass(Ln),pt.setSVGClass(Ln);const Ts="initialization",Fh="added",xv="removed",Nh="imperative",eT=(r,e)=>{const{strokeUniform:t,strokeWidth:i,width:n,height:s,group:o}=e,a=o&&o!==r?gf(o.calcTransformMatrix(),r.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),d=t&&c?f5(new ve(i,i),void 0,r.calcTransformMatrix()):ov,u=!t&&c?i:0,h=dv(n+u,s+u,av([a,e.calcOwnMatrix()],!0)).add(d).scalarDivide(2);return[l.subtract(h),l.add(h)]};class bf{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:i,strategy:n}=e;return t===Ts||t===Nh||!!i&&n!==i}shouldLayoutClipPath(e){let{type:t,target:{clipPath:i}}=e;return t!==Ts&&i&&!i.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:i,target:n}=t;if(i===Nh&&t.overrides)return t.overrides;if(e.length===0)return;const{left:s,top:o,width:a,height:l}=Es(e.map(u=>eT(n,u)).reduce((u,h)=>u.concat(h),[])),c=new ve(a,l),d=new ve(s,o).add(c.scalarDivide(2));if(i===Ts){const u=this.getInitialSize(t,{size:c,center:d});return{center:d,relativeCorrection:new ve(0,0),size:u}}return{center:d.transform(n.calcOwnMatrix()),size:c}}}Z(bf,"type","strategy");class a0 extends bf{shouldPerformLayout(e){return!0}}Z(a0,"type","fit-content"),pt.setClass(a0);const f4=["strategy"],m4=["target","strategy","bubbles","prevStrategy"],tT="layoutManager";class ed{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new a0;Z(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=q(q({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const i=this.getLayoutResult(t);i&&this.commitLayout(t,i),this.onAfterLayout(t,i),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:i}=t;return[Ih,hS,Kc,fS,hf,mS,Oh,pS,$A].map(n=>e.on(n,s=>this.performLayout(n===Ih?{type:"object_modified",trigger:n,e:s,target:i}:{type:"object_modifying",trigger:n,e:s,target:i})))}subscribe(e,t){this.unsubscribe(e,t);const i=this.attachHandlers(e,t);this._subscriptions.set(e,i)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(i=>i()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:i}=e,{canvas:n}=t;if(i===Ts||i===Fh?this.subscribeTargets(e):i===xv&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),n&&n.fire("object:layout:before",{target:t,context:e}),i===Nh&&e.deep){const s=Mi(e,f4);t.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(q(q({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:t,strategy:i,type:n}=e,s=i.calcLayoutResult(e,t.getObjects());if(!s)return;const o=n===Ts?new ve:t.getRelativeCenterPoint(),{center:a,correction:l=new ve,relativeCorrection:c=new ve}=s,d=o.subtract(a).add(l).transform(n===Ts?Ur:Rn(t.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:o,nextCenter:a,offset:d}}commitLayout(e,t){const{target:i}=e,{result:{size:n},nextCenter:s}=t;var o,a;i.set({width:n.x,height:n.y}),this.layoutObjects(e,t),e.type===Ts?i.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+n.x*sr(i.originX),top:(a=e.y)!==null&&a!==void 0?a:s.y+n.y*sr(i.originY)}):(i.setPositionByOrigin(s,Zt,Zt),i.setCoords(),i.set("dirty",!0))}layoutObjects(e,t){const{target:i}=e;i.forEachObject(n=>{n.group===i&&this.layoutObject(e,t,n)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,i.clipPath)}layoutObject(e,t,i){let{offset:n}=t;i.set({left:i.left+n.x,top:i.top+n.y})}onAfterLayout(e,t){const{target:i,strategy:n,bubbles:s,prevStrategy:o}=e,a=Mi(e,m4),{canvas:l}=i;i.fire("layout:after",{context:e,result:t}),l&&l.fire("object:layout:after",{context:e,result:t,target:i});const c=i.parent;s&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(i),c.layoutManager.performLayout(q(q({},a),{},{target:c}))),i.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(t=>t.forEach(i=>i())),e.clear()}toObject(){return{type:tT,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}pt.setClass(ed,tT);const p4=["type","objects","layoutManager"];class g4 extends ed{performLayout(){}}class es extends gS(Pr){static getDefaults(){return q(q({},super.getDefaults()),es.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Z(this,"_activeObjects",[]),Z(this,"__objectSelectionTracker",void 0),Z(this,"__objectSelectionDisposer",void 0),Object.assign(this,es.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var i;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(n=>{this.enterGroup(n,!1)}),this.layoutManager=(i=t.layoutManager)!==null&&i!==void 0?i:new ed,this.layoutManager.performLayout({type:Ts,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(_o("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(_o("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((t,i,n)=>this.canEnterGroup(t)&&n.indexOf(t)===i)}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=this._filterObjectsBeforeEnteringGroup(t),s=super.add(...n);return this._onAfterObjectsChange(Fh,n),s}insertAt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const s=this._filterObjectsBeforeEnteringGroup(i),o=super.insertAt(e,...s);return this._onAfterObjectsChange(Fh,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(xv,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const i=this[e];return super._set(e,t),e==="canvas"&&i!==t&&(this._objects||[]).forEach(n=>{n._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:i}=t;const n=this._activeObjects;if(e)n.push(i),this._set("dirty",!0);else if(n.length>0){const s=n.indexOf(i);s>-1&&(n.splice(s,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Mh(e,fr(Rn(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===e||e.isDescendantOf(i))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Mh(e,fr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const i=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){const e=Pr.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var t;(t=this.canvas)!==null&&t!==void 0&&t.preserveObjectStacking&&this._objects[i].group!==this?(e.save(),e.transform(...Rn(this.calcTransformMatrix())),this._objects[i].render(e),e.restore()):this._objects[i].group===this&&this._objects[i].render(e)}this._drawClipPath(e,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(q({target:this,type:Nh},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const i=this.includeDefaultValues;return this._objects.filter(function(n){return!n.excludeFromExport}).map(function(n){const s=n.includeDefaultValues;n.includeDefaultValues=i;const o=n[e||"toObject"](t);return n.includeDefaultValues=s,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return q(q(q({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=Ln.prototype._toSVG.call(this),i=t.indexOf("COMMON_PARTS");t[i]='for="group" ';const n=t.join("");return e?e(n):n}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(e);i&&t.push("		",i);for(let n=0;n<this._objects.length;n++)t.push("		",this._objects[n].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],i=this._createSVGBgRect(e);i&&t.push("	",i);for(let n=0;n<this._objects.length;n++)t.push("	",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:i,objects:n=[],layoutManager:s}=e,o=Mi(e,p4);return Promise.all([Jc(n,t),pf(o,t)]).then(a=>{let[l,c]=a;const d=new this(l,q(q(q({},o),c),{},{layoutManager:new g4}));if(s){const u=pt.getClass(s.type),h=pt.getClass(s.strategy);d.layoutManager=new u(new h)}else d.layoutManager=new ed;return d.layoutManager.subscribeTargets({type:Ts,target:d,targets:d.getObjects()}),d.setCoords(),d})}}Z(es,"type","Group"),Z(es,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),pt.setClass(es);const v4=(r,e)=>Math.min(e.width/r.width,e.height/r.height),_4=(r,e)=>Math.max(e.width/r.width,e.height/r.height),l0="\\s*,?\\s*",pc="".concat(l0,"(").concat(la,")"),y4="".concat(pc).concat(pc).concat(pc).concat(l0,"([01])").concat(l0,"([01])").concat(pc).concat(pc),b4={m:"l",M:"L"},x4=(r,e,t,i,n,s,o,a,l,c,d)=>{const u=Is(r),h=Ls(r),f=Is(e),m=Ls(e),p=t*n*f-i*s*m+o,g=i*n*f+t*s*m+a;return["C",c+l*(-t*n*h-i*s*u),d+l*(-i*n*h+t*s*u),p+l*(t*n*m+i*s*f),g+l*(i*n*m-t*s*f),p,g]},Ub=(r,e,t,i)=>{const n=Math.atan2(e,r),s=Math.atan2(i,t);return s>=n?s-n:2*Math.PI-(n-s)};function Hb(r,e,t,i,n,s,o,a){let l;if(ri.cachesBoundsOfCurve&&(l=[...arguments].join(),Bc.boundsOfCurveCache[l]))return Bc.boundsOfCurveCache[l];const c=Math.sqrt,d=Math.abs,u=[],h=[[0,0],[0,0]];let f=6*r-12*t+6*n,m=-3*r+9*t-9*n+3*o,p=3*t-3*r;for(let _=0;_<2;++_){if(_>0&&(f=6*e-12*i+6*s,m=-3*e+9*i-9*s+3*a,p=3*i-3*e),d(m)<1e-12){if(d(f)<1e-12)continue;const E=-p/f;0<E&&E<1&&u.push(E);continue}const x=f*f-4*p*m;if(x<0)continue;const I=c(x),T=(-f+I)/(2*m);0<T&&T<1&&u.push(T);const O=(-f-I)/(2*m);0<O&&O<1&&u.push(O)}let g=u.length;const v=g,b=iT(r,e,t,i,n,s,o,a);for(;g--;){const{x:_,y:x}=b(u[g]);h[0][g]=_,h[1][g]=x}h[0][v]=r,h[1][v]=e,h[0][v+1]=o,h[1][v+1]=a;const S=[new ve(Math.min(...h[0]),Math.min(...h[1])),new ve(Math.max(...h[0]),Math.max(...h[1]))];return ri.cachesBoundsOfCurve&&(Bc.boundsOfCurveCache[l]=S),S}const w4=(r,e,t)=>{let[i,n,s,o,a,l,c,d]=t;const u=((h,f,m,p,g,v,b)=>{if(m===0||p===0)return[];let S=0,_=0,x=0;const I=Math.PI,T=b*iv,O=Ls(T),E=Is(T),w=.5*(-E*h-O*f),X=.5*(-E*f+O*h),H=Ci(m,2),Y=Ci(p,2),k=Ci(X,2),D=Ci(w,2),M=H*Y-H*k-Y*D;let L=Math.abs(m),J=Math.abs(p);if(M<0){const He=Math.sqrt(1-M/(H*Y));L*=He,J*=He}else x=(g===v?-1:1)*Math.sqrt(M/(H*k+Y*D));const ce=x*L*X/J,te=-x*J*w/L,et=E*ce-O*te+.5*h,ot=O*ce+E*te+.5*f;let Ot=Ub(1,0,(w-ce)/L,(X-te)/J),gt=Ub((w-ce)/L,(X-te)/J,(-w-ce)/L,(-X-te)/J);v===0&&gt>0?gt-=2*I:v===1&&gt<0&&(gt+=2*I);const je=Math.ceil(Math.abs(gt/I*2)),At=[],It=gt/je,de=8/3*Math.sin(It/4)*Math.sin(It/4)/Math.sin(It/2);let pe=Ot+It;for(let He=0;He<je;He++)At[He]=x4(Ot,pe,E,O,L,J,et,ot,de,S,_),S=At[He][5],_=At[He][6],Ot=pe,pe+=It;return At})(c-r,d-e,n,s,a,l,o);for(let h=0,f=u.length;h<f;h++)u[h][1]+=r,u[h][2]+=e,u[h][3]+=r,u[h][4]+=e,u[h][5]+=r,u[h][6]+=e;return u},S4=r=>{let e=0,t=0,i=0,n=0;const s=[];let o,a=0,l=0;for(const c of r){const d=[...c];let u;switch(d[0]){case"l":d[1]+=e,d[2]+=t;case"L":e=d[1],t=d[2],u=["L",e,t];break;case"h":d[1]+=e;case"H":e=d[1],u=["L",e,t];break;case"v":d[1]+=t;case"V":t=d[1],u=["L",e,t];break;case"m":d[1]+=e,d[2]+=t;case"M":e=d[1],t=d[2],i=d[1],n=d[2],u=["M",e,t];break;case"c":d[1]+=e,d[2]+=t,d[3]+=e,d[4]+=t,d[5]+=e,d[6]+=t;case"C":a=d[3],l=d[4],e=d[5],t=d[6],u=["C",d[1],d[2],a,l,e,t];break;case"s":d[1]+=e,d[2]+=t,d[3]+=e,d[4]+=t;case"S":o==="C"?(a=2*e-a,l=2*t-l):(a=e,l=t),e=d[3],t=d[4],u=["C",a,l,d[1],d[2],e,t],a=u[3],l=u[4];break;case"q":d[1]+=e,d[2]+=t,d[3]+=e,d[4]+=t;case"Q":a=d[1],l=d[2],e=d[3],t=d[4],u=["Q",a,l,e,t];break;case"t":d[1]+=e,d[2]+=t;case"T":o==="Q"?(a=2*e-a,l=2*t-l):(a=e,l=t),e=d[1],t=d[2],u=["Q",a,l,e,t];break;case"a":d[6]+=e,d[7]+=t;case"A":w4(e,t,d).forEach(h=>s.push(h)),e=d[6],t=d[7];break;case"z":case"Z":e=i,t=n,u=["Z"]}u?(s.push(u),o=u[0]):o=""}return s},zh=(r,e,t,i)=>Math.sqrt(Ci(t-r,2)+Ci(i-e,2)),iT=(r,e,t,i,n,s,o,a)=>l=>{const c=Ci(l,3),d=(f=>3*Ci(f,2)*(1-f))(l),u=(f=>3*f*Ci(1-f,2))(l),h=(f=>Ci(1-f,3))(l);return new ve(o*c+n*d+t*u+r*h,a*c+s*d+i*u+e*h)},rT=r=>Ci(r,2),nT=r=>2*r*(1-r),sT=r=>Ci(1-r,2),T4=(r,e,t,i,n,s,o,a)=>l=>{const c=rT(l),d=nT(l),u=sT(l),h=3*(u*(t-r)+d*(n-t)+c*(o-n)),f=3*(u*(i-e)+d*(s-i)+c*(a-s));return Math.atan2(f,h)},C4=(r,e,t,i,n,s)=>o=>{const a=rT(o),l=nT(o),c=sT(o);return new ve(n*a+t*l+r*c,s*a+i*l+e*c)},k4=(r,e,t,i,n,s)=>o=>{const a=1-o,l=2*(a*(t-r)+o*(n-t)),c=2*(a*(i-e)+o*(s-i));return Math.atan2(c,l)},Xb=(r,e,t)=>{let i=new ve(e,t),n=0;for(let s=1;s<=100;s+=1){const o=r(s/100);n+=zh(i.x,i.y,o.x,o.y),i=o}return n},E4=(r,e)=>{let t,i=0,n=0,s={x:r.x,y:r.y},o=q({},s),a=.01,l=0;const c=r.iterator,d=r.angleFinder;for(;n<e&&a>1e-4;)o=c(i),l=i,t=zh(s.x,s.y,o.x,o.y),t+n>e?(i-=a,a/=2):(s=o,i+=a,n+=t);return q(q({},o),{},{angle:d(l)})},oT=r=>{let e,t,i=0,n=0,s=0,o=0,a=0;const l=[];for(const c of r){const d={x:n,y:s,command:c[0],length:0};switch(c[0]){case"M":t=d,t.x=o=n=c[1],t.y=a=s=c[2];break;case"L":t=d,t.length=zh(n,s,c[1],c[2]),n=c[1],s=c[2];break;case"C":e=iT(n,s,c[1],c[2],c[3],c[4],c[5],c[6]),t=d,t.iterator=e,t.angleFinder=T4(n,s,c[1],c[2],c[3],c[4],c[5],c[6]),t.length=Xb(e,n,s),n=c[5],s=c[6];break;case"Q":e=C4(n,s,c[1],c[2],c[3],c[4]),t=d,t.iterator=e,t.angleFinder=k4(n,s,c[1],c[2],c[3],c[4]),t.length=Xb(e,n,s),n=c[3],s=c[4];break;case"Z":t=d,t.destX=o,t.destY=a,t.length=zh(n,s,o,a),n=o,s=a}i+=t.length,l.push(t)}return l.push({length:i,x:n,y:s}),l},A4=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oT(r),i=0;for(;e-t[i].length>0&&i<t.length-2;)e-=t[i].length,i++;const n=t[i],s=e/n.length,o=r[i];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return q(q({},new ve(n.x,n.y).lerp(new ve(n.destX,n.destY),s)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return q(q({},new ve(n.x,n.y).lerp(new ve(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-n.y,o[1]-n.x)});case"C":case"Q":return E4(n,e)}},O4=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Wb=new RegExp(y4,"g"),I4=new RegExp(la,"gi"),L4={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},P4=r=>{var e;const t=[],i=(e=r.match(O4))!==null&&e!==void 0?e:[];for(const n of i){const s=n[0];if(s==="z"||s==="Z"){t.push([s]);continue}const o=L4[s.toLowerCase()];let a=[];if(s==="a"||s==="A"){Wb.lastIndex=0;for(let l=null;l=Wb.exec(n);)a.push(...l.slice(1))}else a=n.match(I4)||[];for(let l=0;l<a.length;l+=o){const c=new Array(o),d=b4[s];c[0]=l>0&&d?d:s;for(let u=0;u<o;u++)c[u+1]=parseFloat(a[l+u]);t.push(c)}}return t},D4=(r,e)=>r.map(t=>t.map((i,n)=>n===0||e===void 0?i:Bi(i,e)).join(" ")).join(" ");function c0(r,e){const t=r.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach(i=>{let[n,s]=i;return t.setProperty(n,s)}))}class M4 extends ES{constructor(e){let{allowTouchScrolling:t=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),Z(this,"upper",void 0),Z(this,"container",void 0);const{el:n}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:t}),this.applyCanvasStyle(s,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(i),n.parentNode&&n.parentNode.replaceChild(o,n),o.append(n,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=mr();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=jl().createElement("div");return e.setAttribute("data-fabric","wrapper"),c0(e,{position:"relative"}),Eb(e),e}applyCanvasStyle(e,t){const{styles:i,allowTouchScrolling:n}=t;c0(e,q(q({},i),{},{"touch-action":n?"manipulation":Qr})),Eb(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:i,ctx:n}=this.upper;kS(i,n,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),Jg(this.upper.el,e),Jg(this.container,e)}cleanupDOM(e){const t=this.container,{el:i}=this.lower,{el:n}=this.upper;super.cleanupDOM(e),t.removeChild(n),t.removeChild(i),t.parentNode&&t.parentNode.replaceChild(i,t)}dispose(){super.dispose(),rs().dispose(this.upper.el),delete this.upper,delete this.container}}class xf extends vd{constructor(){super(...arguments),Z(this,"targets",[]),Z(this,"_hoveredTargets",[]),Z(this,"_objectsToRender",void 0),Z(this,"_currentTransform",null),Z(this,"_groupSelector",null),Z(this,"contextTopDirty",!1)}static getDefaults(){return q(q({},super.getDefaults()),xf.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new M4(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),i=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,i){const n=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-t+n,-i+n),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const a=Math.round(n*this.getRetinaScaling());return B5(s,a,a,a)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(i=>!!i&&e[i]===!0):e[t])}_shouldClearSelection(e,t){const i=this.getActiveObjects(),n=this._activeObject;return!!(!t||t&&n&&i.length>1&&i.indexOf(t)===-1&&n!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&n&&n!==t)}_shouldCenterTransform(e,t,i){if(!e)return;let n;return t===ff||t===tn||t===bn||t===Kc?n=this.centeredScaling||e.centeredScaling:t===sv&&(n=this.centeredRotation||e.centeredRotation),n?!i:i}_getOriginFromCorner(e,t){const i={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?i.x=Qi:["mr","tr","br"].includes(t)&&(i.x=hi),["tl","mt","tr"].includes(t)?i.y=Kg:["bl","mb","br"].includes(t)&&(i.y=Jr)),i}_setupCurrentTransform(e,t,i){var n;const s=t.group?vo(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=t.getActiveControl()||{},l=i&&a?(n=a.getActionHandler(e,t,a))===null||n===void 0?void 0:n.bind(a):LS,c=((f,m,p,g)=>{if(!m||!f)return"drag";const v=g.controls[m];return v.getActionName(p,v,g)})(i,o,e,t),d=e[this.centeredKey],u=this._shouldCenterTransform(t,c,d)?{x:Zt,y:Zt}:this._getOriginFromCorner(t,o),h={target:t,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:s.x-t.left,offsetY:s.y-t.top,originX:u.x,originY:u.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:$i(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:d,original:q(q({},AS(t)),{},{originX:u.x,originY:u.y})};this._currentTransform=h,this.fire("before:transform",{e,transform:h})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:i,deltaX:n,deltaY:s}=this._groupSelector,o=new ve(t,i).transform(this.viewportTransform),a=new ve(t+n,i+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(o.x,a.x),d=Math.min(o.y,a.y),u=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,d,u-c,h-d)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,d+=l,u-=l,h-=l,Pr.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,d,u-c,h-d))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),i=this._activeObject,n=this.getActiveObjects();if(this.targets=[],i&&n.length>=1){if(i.findControl(t,Qg(e))||n.length>1&&this.searchPossibleTargets([i],t))return i;if(i===this.searchPossibleTargets([i],t)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&o&&o!==i?(this.targets=s,i):o}return i}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let i=e.getCoords();const n=this.getZoom(),s=e.padding/n;if(s){const[o,a,l,c]=i,d=Math.atan2(a.y-o.y,a.x-o.x),u=Is(d)*s,h=Ls(d)*s,f=u+h,m=u-h;i=[new ve(o.x-m,o.y-f),new ve(a.x+f,a.y-m),new ve(l.x+m,l.y+f),new ve(c.x-f,c.y+m)]}return zi.isPointInPolygon(t,i)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,vo(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let i=e.length;for(;i--;){const n=e[i];if(this._checkTarget(n,t)){if(uh(n)&&n.subTargetCheck){const s=this._searchPossibleTargets(n._objects,t);s&&this.targets.push(s)}return n}}}searchPossibleTargets(e,t){const i=this._searchPossibleTargets(e,t);if(i&&uh(i)&&i.interactive&&this.targets[0]){const n=this.targets;for(let s=n.length-1;s>0;s--){const o=n[s];if(!uh(o)||!o.interactive)return o}return n[0]}return i}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.upperCanvasEl,n=i.getBoundingClientRect();let s=c5(e),o=n.width||0,a=n.height||0;o&&a||(Jr in n&&Kg in n&&(a=Math.abs(n.top-n.bottom)),Qi in n&&hi in n&&(o=Math.abs(n.right-n.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,t||(s=vo(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=o===0||a===0?new ve(1,1):new ve(i.width/o,i.height/a);return s.multiply(c)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=mr(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Zo(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let i=!1,n=!1;const s=this.getActiveObjects(),o=[],a=[];e.forEach(l=>{s.includes(l)||(i=!0,l.fire("deselected",{e:t,target:l}),a.push(l))}),s.forEach(l=>{e.includes(l)||(i=!0,l.fire("selected",{e:t,target:l}),o.push(l))}),e.length>0&&s.length>0?(n=!0,i&&this.fire("selection:updated",{e:t,selected:o,deselected:a})):s.length>0?(n=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(n=!0,this.fire("selection:cleared",{e:t,deselected:a})),n&&(this._objectsToRender=void 0)}setActiveObject(e,t){const i=this.getActiveObjects(),n=this._setActiveObject(e,t);return this._fireSelectionEvents(i,t),n}_setActiveObject(e,t){const i=this._activeObject;return i!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,Zo(e)&&i!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const i=this._activeObject;return!!i&&!i.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(e),Zo(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),i=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[i]});const n=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),n}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,i=t.target,n={e,target:i,transform:t,action:t.action};i._scaling&&(i._scaling=!1),i.setCoords(),t.actionPerformed&&(this.fire("object:modified",n),i.fire(Ih,n))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;Zo(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,i){const n=this._realizeGroupTransformOnObject(e),s=super._toObject(e,t,i);return e.set(n),s}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&Zo(t)&&this._activeObject===t){const i=Ul(e,["angle","flipX","flipY",hi,tn,bn,Gl,Vl,Jr]);return u5(e,t.calcOwnMatrix()),i}return{}}_setSVGObject(e,t,i){const n=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,i),t.set(n)}}Z(xf,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class R4{constructor(e){Z(this,"targets",[]),Z(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:n}=e.getActiveObject()||{};n&&n.focus()},i=e.upperCanvasEl;i.addEventListener("click",t),this.__disposer=()=>i.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),nl(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const F4=["target","oldTarget","fireCanvas","e"],sn={passive:!1},Ha=(r,e)=>{const t=r.getViewportPoint(e),i=r.getScenePoint(e);return{viewportPoint:t,scenePoint:i,pointer:t,absolutePointer:i}},$s=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return r.addEventListener(...t)},pn=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return r.removeEventListener(...t)},N4={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class d0 extends xf{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),Z(this,"_isClick",void 0),Z(this,"textEditingManager",new R4(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(t=>{this[t]=this[t].bind(this)}),this.addOrRemove($s,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const i=this.upperCanvasEl,n=this._getEventPrefix();e(CS(i),"resize",this._onResize),e(i,n+"down",this._onMouseDown),e(i,"".concat(n,"move"),this._onMouseMove,sn),e(i,"".concat(n,"out"),this._onMouseOut),e(i,"".concat(n,"enter"),this._onMouseEnter),e(i,"wheel",this._onMouseWheel),e(i,"contextmenu",this._onContextMenu),e(i,"dblclick",this._onDoubleClick),e(i,"dragstart",this._onDragStart),e(i,"dragend",this._onDragEnd),e(i,"dragover",this._onDragOver),e(i,"dragenter",this._onDragEnter),e(i,"dragleave",this._onDragLeave),e(i,"drop",this._onDrop),this.enablePointerEvents||e(i,"touchstart",this._onTouchStart,sn)}removeListeners(){this.addOrRemove(pn,"remove");const e=this._getEventPrefix(),t=Dn(this.upperCanvasEl);pn(t,"".concat(e,"up"),this._onMouseUp),pn(t,"touchend",this._onTouchEnd,sn),pn(t,"".concat(e,"move"),this._onMouseMove,sn),pn(t,"touchmove",this._onMouseMove,sn)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,i=q({e},Ha(this,e));this.fire("mouse:out",q(q({},i),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",q({},i)),this._hoveredTargets.forEach(n=>{this.fire("mouse:out",q(q({},i),{},{target:n})),n&&n.fire("mouseout",q({},i))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",q({e},Ha(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const i={e,target:t};return this.fire("dragstart",i),t.fire("dragstart",i),void $s(this.upperCanvasEl,"drag",this._onDragProgress)}$g(e)}_renderDragEffects(e,t,i){let n=!1;const s=this._dropTarget;s&&s!==t&&s!==i&&(s.clearContextTop(),n=!0),t==null||t.clearContextTop(),i!==t&&(i==null||i.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),n=!0),i&&(o.save(),i.transform(o),i.renderDropTargetEffect(e),o.restore(),n=!0),o.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Qr,i=t?this._activeObject:void 0,n={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:i};pn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:i,targets:n}=this.findDragTargets(e),s=this._dragSource,o={e,target:i,subTargets:n,dragSource:s,canDrop:!1,dropTarget:void 0};let a;this.fire(t,o),this._fireEnterLeaveEvents(i,o),i&&(i.canDrop(e)&&(a=i),i.fire(t,o));for(let l=0;l<n.length;l++){const c=n[l];c.canDrop(e)&&(a=c),c.fire(t,o)}this._renderDragEffects(e,s,a),this._dropTarget=a}_onDragEnter(e){const{target:t,targets:i}=this.findDragTargets(e),n={e,target:t,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(t,n)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:i}=this.findDragTargets(e),n=this._basicEventHandler("drop:before",q({e,target:t,subTargets:i,dragSource:this._dragSource},Ha(this,e)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(e){const t=this.findTarget(e),i=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:i});return this.stopContextMenu&&$g(e),this._basicEventHandler("contextmenu",n),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){e.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,i=this._getEventPrefix(),n=Dn(t);$s(n,"touchend",this._onTouchEnd,sn),$s(n,"touchmove",this._onMouseMove,sn),pn(t,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,i=this._getEventPrefix();pn(t,"".concat(i,"move"),this._onMouseMove,sn);const n=Dn(t);$s(n,"".concat(i,"up"),this._onMouseUp),$s(n,"".concat(i,"move"),this._onMouseMove,sn)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),i=Dn(this.upperCanvasEl);pn(i,"touchend",this._onTouchEnd,sn),pn(i,"touchmove",this._onMouseMove,sn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{$s(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(e)){const n=Dn(this.upperCanvasEl);pn(n,"".concat(i,"up"),this._onMouseUp),pn(n,"".concat(i,"move"),this._onMouseMove,sn),$s(t,"".concat(i,"move"),this._onMouseMove,sn)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const i=this._currentTransform,n=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,c=!1;if(i&&(this._finalizeCurrentTransform(e),c=i.actionPerformed),!n){const d=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!d&&s===this._activeObject)}if(s){const d=s.findControl(this.getViewportPoint(e),Qg(e)),{key:u,control:h}=d||{};if(l=u,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(h){const f=h.getMouseUpHandler(e,s,h);f&&(a=this.getScenePoint(e),f.call(h,e,i,a.x,a.y))}s.isMoving=!1}if(i&&(i.target!==s||i.corner!==l)){const d=i.target&&i.target.controls[i.corner],u=d&&d.getMouseUpHandler(e,i.target,d);a=a||this.getScenePoint(e),u&&u.call(d,e,i,a.x,a.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():n||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:i,subTargets:n=[]}=t;this.fire(e,t),i&&i.fire(e,t);for(let s=0;s<n.length;s++)n[s]!==i&&n[s].fire(e,t);return t}_handleEvent(e,t){const i=this._target,n=this.targets||[],s=q(q({e,target:i,subTargets:n},Ha(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(t),s),i&&i.fire("mouse".concat(t),s);for(let o=0;o<n.length;o++)n[o]!==i&&n[o].fire("mouse".concat(t),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let n=this._shouldRender(t),s=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,s=!0,n=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(t){const o=t===this._activeObject;t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const a=t.findControl(this.getViewportPoint(e),Qg(e));if(t===this._activeObject&&(a||!s)){this._setupCurrentTransform(e,t,o);const l=a?a.control:void 0,c=this.getScenePoint(e),d=l&&l.getMouseDownHandler(e,t,l);d&&d.call(l,e,this._currentTransform,c.x,c.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),n&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=vo(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const i=this.getScenePoint(e);t.deltaX=i.x-t.x,t.deltaY=i.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const i=this.findTarget(e);this._setCursorFromEvent(e,i),this._fireOverOutEvents(e,i)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const i=this._hoveredTarget,n=this._hoveredTargets,s=this.targets,o=Math.max(n.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:i,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e,target:s[a],oldTarget:n[a]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const i=this._draggedoverTarget,n=this._hoveredTargets,s=this.targets,o=Math.max(n.length,s.length);this.fireSyntheticInOutEvents("drag",q(q({},t),{},{target:e,oldTarget:i,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",q(q({},t),{},{target:s[a],oldTarget:n[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:i,oldTarget:n,fireCanvas:s,e:o}=t,a=Mi(t,F4);const{targetIn:l,targetOut:c,canvasIn:d,canvasOut:u}=N4[e],h=n!==i;if(n&&h){const f=q(q({},a),{},{e:o,target:n,nextTarget:i},Ha(this,o));s&&this.fire(u,f),n.fire(c,f)}if(i&&h){const f=q(q({},a),{},{e:o,target:i,previousTarget:n},Ha(this,o));s&&this.fire(d,f),i.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),i=this._currentTransform,n=i.target,s=n.group?vo(t,void 0,n.group.calcTransformMatrix()):t;i.shiftKey=e.shiftKey,i.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,i,s),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,i){const{action:n,actionHandler:s,target:o}=t,a=!!s&&s(e,t,i.x,i.y);a&&o.setCoords(),n==="drag"&&a&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let i=t.hoverCursor||this.hoverCursor;const n=Zo(this._activeObject)?this._activeObject:null,s=(!n||t.group!==n)&&t.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,t))}else t.subTargetCheck&&this.targets.concat().reverse().map(o=>{i=o.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(e,t){const i=this._activeObject,n=Zo(i);if(i&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(i!==t||n)&&(n||!t.isDescendantOf(i)&&!i.isDescendantOf(t))&&!t.onSelect({e})&&!i.getActiveControl()){if(n){const s=i.getObjects();if(t===i){const o=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!t.selectable)return!1}t.group===i?(i.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),e)):(i.multiSelectAdd(t),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{i.exitEditing&&i.exitEditing();const s=new(pt.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(i,t),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([i],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:i,deltaX:n,deltaY:s}=this._groupSelector,o=new ve(t,i),a=o.add(new ve(n,s)),l=o.min(a),c=o.max(a).subtract(l),d=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),u=o.eq(a)?d[0]?[d[0]]:[]:d.length>1?d.filter(h=>!h.onSelect({e})).reverse():d;if(u.length===1)this.setActiveObject(u[0],e);else if(u.length>1){const h=pt.getClass("ActiveSelection");this.setActiveObject(new h(u,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const aT={x1:0,y1:0,x2:0,y2:0},z4=q(q({},aT),{},{r1:0,r2:0}),al=(r,e)=>isNaN(r)&&typeof e=="number"?e:r,B4=/^(\d+\.\d+)%|(\d+)%$/;function lT(r){return r&&B4.test(r)}function cT(r,e){const t=typeof r=="number"?r:typeof r=="string"?parseFloat(r)/(lT(r)?100:1):NaN;return Tl(0,al(t,e),1)}const j4=/\s*;\s*/,G4=/\s*:\s*/;function V4(r,e){let t,i;const n=r.getAttribute("style");if(n){const o=n.split(j4);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,c]=o[a].split(G4).map(d=>d.trim());l==="stop-color"?t=c:l==="stop-opacity"&&(i=c)}}const s=new mi(t||r.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:cT(r.getAttribute("offset"),0),color:s.toRgb(),opacity:al(parseFloat(i||r.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function U4(r,e){const t=[],i=r.getElementsByTagName("stop"),n=cT(e,1);for(let s=i.length;s--;)t.push(V4(i[s],n));return t}function dT(r){return r.nodeName==="linearGradient"||r.nodeName==="LINEARGRADIENT"?"linear":"radial"}function uT(r){return r.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function kn(r,e){return r.getAttribute(e)}function H4(r,e){return function(t,i){let n,{width:s,height:o,gradientUnits:a}=i;return Object.keys(t).reduce((l,c)=>{const d=t[c];return d==="Infinity"?n=1:d==="-Infinity"?n=0:(n=typeof d=="string"?parseFloat(d):d,typeof d=="string"&&lT(d)&&(n*=.01,a==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(n*=s),c!=="y1"&&c!=="y2"||(n*=o)))),l[c]=n,l},{})}(dT(r)==="linear"?function(t){return{x1:kn(t,"x1")||0,y1:kn(t,"y1")||0,x2:kn(t,"x2")||"100%",y2:kn(t,"y2")||0}}(r):function(t){return{x1:kn(t,"fx")||kn(t,"cx")||"50%",y1:kn(t,"fy")||kn(t,"cy")||"50%",r1:0,x2:kn(t,"cx")||"50%",y2:kn(t,"cy")||"50%",r2:kn(t,"r")||"50%"}}(r),q(q({},e),{},{gradientUnits:uT(r)}))}class wu{constructor(e){const{type:t="linear",gradientUnits:i="pixels",coords:n={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:t,gradientUnits:i,coords:q(q({},t==="radial"?z4:aT),n),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(yo()):yo()})}addColorStop(e){for(const t in e){const i=new mi(e[t]);this.colorStops.push({offset:parseFloat(t),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(e){return q(q({},Ul(this,e)),{},{type:this.type,coords:q({},this.coords),colorStops:this.colorStops.map(t=>q({},t)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],n=this.gradientTransform?this.gradientTransform.concat():Ur.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(u=>q({},u)).sort((u,h)=>u.offset-h.offset);let a=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),n[4]-=a,n[5]-=l;const d=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(Dh(n),'"'),""].join(" ");if(this.type==="linear"){const{x1:u,y1:h,x2:f,y2:m}=this.coords;i.push("<linearGradient ",d,' x1="',u,'" y1="',h,'" x2="',f,'" y2="',m,`">
`)}else if(this.type==="radial"){const{x1:u,y1:h,x2:f,y2:m,r1:p,r2:g}=this.coords,v=p>g;i.push("<radialGradient ",d,' cx="',v?u:f,'" cy="',v?h:m,'" r="',v?p:g,'" fx="',v?f:u,'" fy="',v?m:h,`">
`),v&&(o.reverse(),o.forEach(S=>{S.offset=1-S.offset}));const b=Math.min(p,g);if(b>0){const S=b/Math.max(p,g);o.forEach(_=>{_.offset+=S*(1-_.offset)})}}return o.forEach(u=>{let{color:h,offset:f,opacity:m}=u;i.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',h,m!==void 0?";stop-opacity: "+m:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(e){const{x1:t,y1:i,x2:n,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(t,i,n,s):e.createRadialGradient(t,i,o,n,s,a);return this.colorStops.forEach(c=>{let{color:d,opacity:u,offset:h}=c;l.addColorStop(h,u!==void 0?new mi(d).setAlpha(u).toRgba():d)}),l}static fromObject(e){return le(this,null,function*(){const{colorStops:t,gradientTransform:i}=e;return new this(q(q({},e),{},{colorStops:t?t.map(n=>q({},n)):void 0,gradientTransform:i?[...i]:void 0}))})}static fromElement(e,t,i){const n=uT(e),s=t._findCenterFromElement();return new this(q({id:e.getAttribute("id")||void 0,type:dT(e),coords:H4(e,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:U4(e,i.opacity),gradientUnits:n,gradientTransform:o0(e.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:t.width/2-s.x,offsetY:t.height/2-s.y}:{offsetX:0,offsetY:0}))}}Z(wu,"type","Gradient"),pt.setClass(wu,"gradient"),pt.setClass(wu,"linear"),pt.setClass(wu,"radial");const X4=["type","source","patternTransform"];class op{get type(){return"pattern"}set type(e){_o("warn","Setting type has no effect",e)}constructor(e){Z(this,"repeat","repeat"),Z(this,"offsetX",0),Z(this,"offsetY",0),Z(this,"crossOrigin",""),this.id=yo(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:i}=this;return q(q({},Ul(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:i,offsetX:Bi(this.offsetX,ri.NUM_FRACTION_DIGITS),offsetY:Bi(this.offsetY,ri.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:i}=e;const{source:n,repeat:s,id:o}=this,a=al(this.offsetX/t,0),l=al(this.offsetY/i,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):al(n.width/t,0),d=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):al(n.height/i,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(d,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(e,t){return le(this,null,function*(){let{type:i,source:n,patternTransform:s}=e,o=Mi(e,X4);const a=yield fh(n,q(q({},t),{},{crossOrigin:o.crossOrigin}));return new this(q(q({},o),{},{patternTransform:s&&s.slice(0),source:a}))})}}Z(op,"type","Pattern"),pt.setClass(op),pt.setClass(op,"pattern");const W4=["path","left","top"],Y4=["d"];class Ko extends Pr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:n,top:s}=t,o=Mi(t,W4);super(),Object.assign(this,Ko.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof n=="number"&&this.set(hi,n),typeof s=="number"&&this.set(Jr,s)}_setPath(e,t){this.path=S4(Array.isArray(e)?e:P4(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ve(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,i=-this.pathOffset.y;e.beginPath();for(const n of this.path)switch(n[0]){case"L":e.lineTo(n[1]+t,n[2]+i);break;case"M":e.moveTo(n[1]+t,n[2]+i);break;case"C":e.bezierCurveTo(n[1]+t,n[2]+i,n[3]+t,n[4]+i,n[5]+t,n[6]+i);break;case"Q":e.quadraticCurveTo(n[1]+t,n[2]+i,n[3]+t,n[4]+i);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),{},{path:this.path.map(t=>t.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=D4(this.path,ri.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=ri.NUM_FRACTION_DIGITS;return" translate(".concat(Bi(-this.pathOffset.x,e),", ").concat(Bi(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:i,pathOffset:n}=this._calcDimensions();this.set({width:t,height:i,pathOffset:n}),e&&this.setPositionByOrigin(n,Zt,Zt)}_calcBoundsFromPath(){const e=[];let t=0,i=0,n=0,s=0;for(const o of this.path)switch(o[0]){case"L":n=o[1],s=o[2],e.push({x:t,y:i},{x:n,y:s});break;case"M":n=o[1],s=o[2],t=n,i=s;break;case"C":e.push(...Hb(n,s,o[1],o[2],o[3],o[4],o[5],o[6])),n=o[5],s=o[6];break;case"Q":e.push(...Hb(n,s,o[1],o[2],o[1],o[2],o[3],o[4])),n=o[3],s=o[4];break;case"Z":n=t,s=i}return Es(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return q(q({},e),{},{pathOffset:new ve(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,this.ATTRIBUTE_NAMES,i),{d:s}=n;return new this(s,q(q(q({},Mi(n,Y4)),t),{},{left:void 0,top:void 0}))})}}Z(Ko,"type","Path"),Z(Ko,"cacheProperties",[...Rs,"path","fillRule"]),Z(Ko,"ATTRIBUTE_NAMES",[...Co,"d"]),pt.setClass(Ko),pt.setSVGClass(Ko);const q4=["left","top","radius"],hT=["radius","startAngle","endAngle","counterClockwise"];class xs extends Pr{static getDefaults(){return q(q({},super.getDefaults()),xs.ownDefaults)}constructor(e){super(),Object.assign(this,xs.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,$i(this.startAngle),$i(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(tn)}getRadiusY(){return this.get("radius")*this.get(bn)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...hT,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,i=$i(this.startAngle),n=$i(this.endAngle),s=Is(i)*t,o=Ls(i)*t,a=Is(n)*t,l=Ls(n)*t,c=e>180?1:0,d=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(c," ").concat(d," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,this.ATTRIBUTE_NAMES,i),{left:s=0,top:o=0,radius:a=0}=n;return new this(q(q({},Mi(n,q4)),{},{radius:a,left:s-a,top:o-a}))})}static fromObject(e){return super._fromObject(e)}}Z(xs,"type","Circle"),Z(xs,"cacheProperties",[...Rs,...hT]),Z(xs,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),Z(xs,"ATTRIBUTE_NAMES",["cx","cy","r",...Co]),pt.setClass(xs),pt.setSVGClass(xs);const Z4=["x1","y1","x2","y2"],K4=["x1","y1","x2","y2"],u0=["x1","x2","y1","y2"];class fo extends Pr{constructor(){let[e,t,i,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,fo.ownDefaults),this.setOptions(s),this.x1=e,this.x2=i,this.y1=t,this.y2=n,this._setWidthHeight();const{left:o,top:a}=s;typeof o=="number"&&this.set(hi,o),typeof a=="number"&&this.set(Jr,a)}_setWidthHeight(){const{x1:e,y1:t,x2:i,y2:n}=this;this.width=Math.abs(i-e),this.height=Math.abs(n-t);const{left:s,top:o,width:a,height:l}=Es([{x:e,y:t},{x:i,y:n}]),c=new ve(s+a/2,o+l/2);this.setPositionByOrigin(c,Zt,Zt)}_set(e,t){return super._set(e,t),u0.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const i=e.strokeStyle;var n;_n(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=i}_findCenterFromElement(){return new ve((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:i,y2:n,width:s,height:o}=this,a=e<=t?-1:1,l=i<=n?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:t,y1:i,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(i,'" x2="').concat(t,'" y2="').concat(n,`" />
`)]}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,this.ATTRIBUTE_NAMES,i),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=n;return new this([s,o,a,l],Mi(n,Z4))})}static fromObject(e){let{x1:t,y1:i,x2:n,y2:s}=e,o=Mi(e,K4);return this._fromObject(q(q({},o),{},{points:[t,i,n,s]}),{extraParam:"points"})}}Z(fo,"type","Line"),Z(fo,"cacheProperties",[...Rs,...u0]),Z(fo,"ATTRIBUTE_NAMES",Co.concat(u0)),pt.setClass(fo),pt.setSVGClass(fo);class $o extends Pr{static getDefaults(){return q(q({},super.getDefaults()),$o.ownDefaults)}constructor(e){super(),Object.assign(this,$o.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,i=this.height/2;e.beginPath(),e.moveTo(-t,i),e.lineTo(0,-i),e.lineTo(t,i),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}Z($o,"type","Triangle"),Z($o,"ownDefaults",{width:100,height:100}),pt.setClass($o),pt.setSVGClass($o);const fT=["rx","ry"];class ws extends Pr{static getDefaults(){return q(q({},super.getDefaults()),ws.ownDefaults)}constructor(e){super(),Object.assign(this,ws.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(tn)}getRy(){return this.get("ry")*this.get(bn)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...fT,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Ah,!1),e.restore(),this._renderPaintInOrder(e)}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,this.ATTRIBUTE_NAMES,i);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)})}}function J4(r){if(!r)return[];const e=r.replace(/,/g," ").trim().split(/\s+/),t=[];for(let i=0;i<e.length;i+=2)t.push({x:parseFloat(e[i]),y:parseFloat(e[i+1])});return t}Z(ws,"type","Ellipse"),Z(ws,"cacheProperties",[...Rs,...fT]),Z(ws,"ownDefaults",{rx:0,ry:0}),Z(ws,"ATTRIBUTE_NAMES",[...Co,"cx","cy","rx","ry"]),pt.setClass(ws),pt.setSVGClass(ws);const Q4=["left","top"],mT={exactBoundingBox:!1};class On extends Pr{static getDefaults(){return q(q({},super.getDefaults()),On.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Z(this,"strokeDiff",void 0),Object.assign(this,On.ownDefaults),this.setOptions(t),this.points=e;const{left:i,top:n}=t;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(hi,i),typeof n=="number"&&this.set(Jr,n)}isOpen(){return!0}_projectStrokeOnPoints(e){return G5(this.points,e,this.isOpen())}_calcDimensions(e){e=q({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ve,strokeOffset:new ve,strokeDiff:new ve};const i=Es(t),n=mf(q(q({},e),{},{scaleX:1,scaleY:1})),s=Es(this.points.map(c=>qr(c,n,!0))),o=new ve(this.scaleX,this.scaleY);let a=i.left+i.width/2,l=i.top+i.height/2;return this.exactBoundingBox&&(a-=l*Math.tan($i(this.skewX)),l-=a*Math.tan($i(this.skewY))),q(q({},i),{},{pathOffset:new ve(a,l),strokeOffset:new ve(s.left,s.top).subtract(new ve(i.left,i.top)).multiply(o),strokeDiff:new ve(i.width,i.height).subtract(new ve(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=Es(this.points);return new ve(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:i,width:n,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:n,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new ve(t+n/2,i+s/2),Zt,Zt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ve(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var t,i;const{width:a,height:l}=this._calcDimensions(e);o=new ve((t=e.width)!==null&&t!==void 0?t:a,(i=e.height)!==null&&i!==void 0?i:l)}else{var n,s;o=new ve((n=e.width)!==null&&n!==void 0?n:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new ve(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const i=this.initialized&&this[e]!==t,n=super._set(e,t);return this.exactBoundingBox&&i&&((e===tn||e===bn)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),n}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject(e)),{},{points:this.points.map(t=>{let{x:i,y:n}=t;return{x:i,y:n}})})}_toSVG(){const e=[],t=this.pathOffset.x,i=this.pathOffset.y,n=ri.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(Bi(this.points[s].x-t,n),",",Bi(this.points[s].y-i,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-i,this.points[0].y-n);for(let s=0;s<t;s++){const o=this.points[s];e.lineTo(o.x-i,o.y-n)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static fromElement(e,t,i){return le(this,null,function*(){return new this(J4(e.getAttribute("points")),q(q({},Mi(Fs(e,this.ATTRIBUTE_NAMES,i),Q4)),t))})}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}Z(On,"ownDefaults",mT),Z(On,"type","Polyline"),Z(On,"layoutProperties",[Gl,Vl,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),Z(On,"cacheProperties",[...Rs,"points"]),Z(On,"ATTRIBUTE_NAMES",[...Co]),pt.setClass(On),pt.setSVGClass(On);class Su extends On{isOpen(){return!1}}Z(Su,"ownDefaults",mT),Z(Su,"type","Polygon"),pt.setClass(Su),pt.setSVGClass(Su);const pT=["fontSize","fontWeight","fontFamily","fontStyle"],gT=["underline","overline","linethrough"],vT=[...pT,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_T=[...vT,...gT,"textBackgroundColor","direction"],$4=[...pT,...gT,$r,"strokeWidth",or,"deltaY","textBackgroundColor"],eO={_reNewline:nv,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:hi,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:hi,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},qn="justify",Bh="justify-left",Gc="justify-right",Vc="justify-center";class yT extends Pr{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const i in t)for(const n in t[i])for(const s in t[i][n])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const i=t===void 0?this.styles:{0:this.styles[t]};for(const n in i)for(const s in i[n])if(i[n][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let i,n,s=0,o=!0,a=0;for(const l in t){i=0;for(const c in t[l]){const d=t[l][c]||{};s++,d[e]!==void 0?(n?d[e]!==n&&(o=!1):n=d[e],d[e]===this[e]&&delete d[e]):o=!1,Object.keys(d).length!==0?i++:delete t[l][c]}i===0&&delete t[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[e]=n,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let i,n,s;for(n in t){for(s in i=t[n],i)delete i[s][e],Object.keys(i[s]).length===0&&delete i[s];Object.keys(i).length===0&&delete t[n]}}_extendStyles(e,t){const{lineIndex:i,charIndex:n}=this.get2DCursorLocation(e);this._getLineStyle(i)||this._setLineStyle(i);const s=cv(q(q({},this._getStyleDeclaration(i,n)),t),o=>o!==void 0);this._setStyleDeclaration(i,n,s)}getSelectionStyles(e,t,i){const n=[];for(let s=e;s<(t||e);s++)n.push(this.getStyleAtPosition(s,i));return n}getStyleAtPosition(e,t){const{lineIndex:i,charIndex:n}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(i,n):this._getStyleDeclaration(i,n)}setSelectionStyles(e,t,i){for(let n=t;n<(i||t);n++)this._extendStyles(n,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var i;const n=this.styles&&this.styles[e];return n&&(i=n[t])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(e,t){return q(q({},Ul(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,i){this.styles[e][t]=i}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}Z(yT,"_styleProperties",$4);const tO=/  +/g,iO=/"/g;function ap(r,e,t,i,n){return"		".concat(function(s,o){let{left:a,top:l,width:c,height:d}=o,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ri.NUM_FRACTION_DIGITS;const h=Qc(or,s,!1),[f,m,p,g]=[a,l,c,d].map(v=>Bi(v,u));return"<rect ".concat(h,' x="').concat(f,'" y="').concat(m,'" width="').concat(p,'" height="').concat(g,'"></rect>')}(r,{left:e,top:t,width:i,height:n}),`
`)}const rO=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let lp;class Br extends yT{static getDefaults(){return q(q({},super.getDefaults()),Br.ownDefaults)}constructor(e,t){super(),Z(this,"__charBounds",[]),Object.assign(this,Br.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=oT(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(qn)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,i,n,s,o,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===qn||l!==c-1&&!this.isEndOfWrapping(l))&&(n=0,s=this._textLines[l],t=this.getLineWidth(l),t<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){i=a.length,e=(this.width-t)/i;for(let d=0;d<=s.length;d++)o=this.__charBounds[l][d],this._reSpaceAndTab.test(s[d])?(o.width+=e,o.kernedWidth+=e,o.left+=n,n+=e):o.left+=n}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const i=t?this._unwrappedTextLines:this._textLines;let n;for(n=0;n<i.length;n++){if(e<=i[n].length)return{lineIndex:n,charIndex:e};e-=i[n].length+this.missingNewlineOffset(n,t)}return{lineIndex:n-1,charIndex:i[n-1].length<e?i[n-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===$r?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,i){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Zt:e.textBaseline="middle";break;case"ascender":e.textBaseline=Jr;break;case"descender":e.textBaseline=Kg}e.font=this._getFontDeclaration(t,i)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,i=this._textLines.length;t<i;t++){const n=this.getLineWidth(t);n>e&&(e=n)}return e}_renderTextLine(e,t,i,n,s,o){this._renderChars(e,t,i,n,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,i=this._getLeftOffset();let n=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){n+=a;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let d,u,h=0,f=0,m=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let p=0;p<l;p++){const g=this.__charBounds[s][p];u=this.getValueOfPropertyAt(s,p,"textBackgroundColor"),this.path?(e.save(),e.translate(g.renderLeft,g.renderTop),e.rotate(g.angle),e.fillStyle=u,u&&e.fillRect(-g.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),g.width,a/this.lineHeight),e.restore()):u!==m?(d=i+c+f,this.direction==="rtl"&&(d=this.width-d-h),e.fillStyle=m,m&&e.fillRect(d,n,h,a/this.lineHeight),f=g.left,h=g.width,m=u):h+=g.kernedWidth}u&&!this.path&&(d=i+c+f,this.direction==="rtl"&&(d=this.width-d-h),e.fillStyle=u,e.fillRect(d,n,h,a/this.lineHeight)),n+=a}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,i,n){const s=Bc.getFontCache(t),o=this._getFontDeclaration(t),a=i+e,l=i&&o===this._getFontDeclaration(n),c=t.fontSize/this.CACHE_FONT_SIZE;let d,u,h,f;if(i&&s[i]!==void 0&&(h=s[i]),s[e]!==void 0&&(f=d=s[e]),l&&s[a]!==void 0&&(u=s[a],f=u-h),d===void 0||h===void 0||u===void 0){const m=function(){if(!lp){const p=mr();p.width=p.height=0,lp=p.getContext("2d")}return lp}();this._setTextStyles(m,t,!0),d===void 0&&(f=d=m.measureText(e).width,s[e]=d),h===void 0&&l&&i&&(h=m.measureText(i).width,s[i]=h),l&&u===void 0&&(u=m.measureText(a).width,s[a]=u,f=u-h)}return{width:d*c,kernedWidth:f*c}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,i,n=0;const s=this.pathSide===Qi,o=this.path,a=this._textLines[e],l=a.length,c=new Array(l);this.__charBounds[e]=c;for(let d=0;d<l;d++){const u=a[d];i=this._getGraphemeBox(u,e,d,t),c[d]=i,n+=i.kernedWidth,t=u}if(c[l]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let d=0;const u=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case hi:d=s?u-n:0;break;case Zt:d=(u-n)/2;break;case Qi:d=s?0:u-n}d+=this.pathStartOffset*(s?-1:1);for(let h=s?l-1:0;s?h>=0:h<l;s?h--:h++)i=c[h],d>u?d%=u:d<0&&(d+=u),this._setGraphemeOnPath(d,i),d+=i.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(e,t){const i=e+t.kernedWidth/2,n=this.path,s=A4(n.path,i,n.segmentsInfo);t.renderLeft=s.x-n.pathOffset.x,t.renderTop=s.y-n.pathOffset.y,t.angle=s.angle+(this.pathSide===Qi?Math.PI:0)}_getGraphemeBox(e,t,i,n,s){const o=this.getCompleteStyleDeclaration(t,i),a=n?this.getCompleteStyleDeclaration(t,i-1):{},l=this._measureChar(e,o,n,a);let c,d=l.kernedWidth,u=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),u+=c,d+=c);const h={width:u,left:0,height:o.fontSize,kernedWidth:d,deltaY:o.deltaY};if(i>0&&!s){const f=this.__charBounds[t][i-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let t=this.getHeightOfChar(e,0);for(let i=1,n=this._textLines[e].length;i<n;i++)t=Math.max(this.getHeightOfChar(e,i),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,t=0;for(let i=0,n=this._textLines.length;i<n;i++)e=this.getHeightOfLine(i),t+=i===n-1?e/this.lineHeight:e;return t}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let i=0;const n=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){const l=this.getHeightOfLine(o),c=l/this.lineHeight,d=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],n+d,s+i+c,o),i+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(or))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,i,n,s,o){const a=this.getHeightOfLine(o),l=this.textAlign.includes(qn),c=this.path,d=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,u=this.direction==="ltr",h=this.direction==="ltr"?1:-1,f=t.direction;let m,p,g,v,b,S="",_=0;if(t.save(),f!==this.direction&&(t.canvas.setAttribute("dir",u?"ltr":"rtl"),t.direction=u?"ltr":"rtl",t.textAlign=u?hi:Qi),s-=a*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(e,t,o,0,i.join(""),n,s),void t.restore();for(let x=0,I=i.length-1;x<=I;x++)v=x===I||this.charSpacing||c,S+=i[x],g=this.__charBounds[o][x],_===0?(n+=h*(g.kernedWidth-g.width),_+=g.width):_+=g.kernedWidth,l&&!v&&this._reSpaceAndTab.test(i[x])&&(v=!0),v||(m=m||this.getCompleteStyleDeclaration(o,x),p=this.getCompleteStyleDeclaration(o,x+1),v=yv(m,p,!1)),v&&(c?(t.save(),t.translate(g.renderLeft,g.renderTop),t.rotate(g.angle),this._renderChar(e,t,o,x,S,-_/2,0),t.restore()):(b=n,this._renderChar(e,t,o,x,S,b,s)),S="",m=p,n+=h*_,_=0);t.restore()}_applyPatternGradientTransformText(e){const t=mr(),i=this.width+this.strokeWidth,n=this.height+this.strokeWidth,s=t.getContext("2d");return t.width=i,t.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(i,0),s.lineTo(i,n),s.lineTo(0,n),s.closePath(),s.translate(i/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(t,"no-repeat")}handleFiller(e,t,i){let n,s;return _n(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(n=-this.width/2,s=-this.height/2,e.translate(n,s),e[t]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:s}):(e[t]=i.toLive(e),this._applyPatternGradientTransform(e,i)):(e[t]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:i,strokeWidth:n}=t;return e.lineWidth=n,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",i)}_setFillStyles(e,t){let{fill:i}=t;return this.handleFiller(e,"fillStyle",i)}_renderChar(e,t,i,n,s,o,a){const l=this._getStyleDeclaration(i,n),c=this.getCompleteStyleDeclaration(i,n),d=e==="fillText"&&c.fill,u=e==="strokeText"&&c.stroke&&c.strokeWidth;if(u||d){if(t.save(),t.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(t),l.deltaY&&(a+=l.deltaY),d){const h=this._setFillStyles(t,c);t.fillText(s,o-h.offsetX,a-h.offsetY)}if(u){const h=this._setStrokeStyles(t,c);t.strokeText(s,o-h.offsetX,a-h.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,i){const n=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),a={fontSize:s*i.size,deltaY:o+s*i.baseline};this.setSelectionStyles(a,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),i=this.width-t,n=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let a=0;return n===qn||n===Vc&&!o||n===Gc&&!o||n===Bh&&!o?0:(n===Zt&&(a=i/2),n===Qi&&(a=i),n===Vc&&(a=i/2),n===Gc&&(a=i),s==="rtl"&&(n===Qi||n===qn||n===Gc?a=0:n===hi||n===Bh?a=-i:n!==Zt&&n!==Vc||(a=-i/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,i){var n;return(n=this._getStyleDeclaration(e,t)[i])!==null&&n!==void 0?n:this[i]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let i=this._getTopOffset();const n=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[t];for(let l=0,c=this._textLines.length;l<c;l++){const d=this.getHeightOfLine(l);if(!this[t]&&!this.styleHas(t,l)){i+=d;continue}const u=this._textLines[l],h=d/this.lineHeight,f=this._getLineLeftOffset(l);let m,p,g=0,v=0,b=this.getValueOfPropertyAt(l,0,t),S=this.getValueOfPropertyAt(l,0,or);const _=i+h*(1-this._fontSizeFraction);let x=this.getHeightOfChar(l,0),I=this.getValueOfPropertyAt(l,0,"deltaY");for(let O=0,E=u.length;O<E;O++){const w=this.__charBounds[l][O];m=this.getValueOfPropertyAt(l,O,t),p=this.getValueOfPropertyAt(l,O,or);const X=this.getHeightOfChar(l,O),H=this.getValueOfPropertyAt(l,O,"deltaY");if(s&&m&&p)e.save(),e.fillStyle=S,e.translate(w.renderLeft,w.renderTop),e.rotate(w.angle),e.fillRect(-w.kernedWidth/2,a*X+H,w.kernedWidth,this.fontSize/15),e.restore();else if((m!==b||p!==S||X!==x||H!==I)&&v>0){let Y=n+f+g;this.direction==="rtl"&&(Y=this.width-Y-v),b&&S&&(e.fillStyle=S,e.fillRect(Y,_+a*x+I,v,this.fontSize/15)),g=w.left,v=w.width,b=m,S=p,x=X,I=H}else v+=w.kernedWidth}let T=n+f+g;this.direction==="rtl"&&(T=this.width-T-v),e.fillStyle=p,m&&p&&e.fillRect(T,_+a*x+I,v-o,this.fontSize/15),i+=d}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||Br.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,i,"".concat(s?this.CACHE_FONT_SIZE:n,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return _v(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),i=new Array(t.length),n=[`
`];let s=[];for(let o=0;o<t.length;o++)i[o]=this.graphemeSplit(t[o]),s=s.concat(i[o],n);return s.pop(),{_unwrappedLines:i,lines:t,graphemeText:s,graphemeLines:i}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q(q({},super.toObject([..._T,...e])),{},{styles:H5(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:i}=this.constructor;super.set(e,t);let n=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),n=n||i.includes(o),s=s||o==="path";else n=i.includes(e),s=e==="path";return s&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(e,t,i){return le(this,null,function*(){const n=Fs(e,Br.ATTRIBUTE_NAMES,i),s=q(q({},t),n),{textAnchor:o=hi,textDecoration:a="",dx:l=0,dy:c=0,top:d=0,left:u=0,fontSize:h=rv,strokeWidth:f=1}=s,m=Mi(s,rO),p=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),q({left:u+l,top:d+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:h},m)),g=p.getScaledHeight()/p.height,v=((p.height+p.strokeWidth)*p.lineHeight-p.height)*g,b=p.getScaledHeight()+v;let S=0;return o===Zt&&(S=p.getScaledWidth()/2),o===Qi&&(S=p.getScaledWidth()),p.set({left:p.left-S,top:p.top-(b-p.fontSize*(.07+p._fontSizeFraction))/p.lineHeight,strokeWidth:f}),p})}static fromObject(e){return this._fromObject(q(q({},e),{},{styles:X5(e.styles||{},e.text)}),{extraParam:"text"})}}Z(Br,"textLayoutProperties",vT),Z(Br,"cacheProperties",[...Rs,..._T]),Z(Br,"ownDefaults",eO),Z(Br,"type","Text"),Z(Br,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),Z(Br,"ATTRIBUTE_NAMES",Co.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),JS(Br,[class extends PS{_toSVG(){const r=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(r){return this._createBaseSVGMarkup(this._toSVG(),{reviver:r,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(r){let{textBgRects:e,textSpans:t}=r;const i=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(iO,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(r,e){const t=[],i=[];let n,s=r;this.backgroundColor&&i.push(...ap(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)n=this._getLineLeftOffset(o),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,e+n,s),this._setSVGTextLineText(t,o,e+n,s),s+=this.getHeightOfLine(o);return{textSpans:t,textBgRects:i}}_createTextCharSpan(r,e,t,i){const n=this.getSvgSpanStyles(e,r!==r.trim()||!!r.match(tO)),s=n?'style="'.concat(n,'"'):"",o=e.deltaY,a=o?' dy="'.concat(Bi(o,ri.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Bi(t,ri.NUM_FRACTION_DIGITS),'" y="').concat(Bi(i,ri.NUM_FRACTION_DIGITS),'" ').concat(a).concat(s,">").concat(V5(r),"</tspan>")}_setSVGTextLineText(r,e,t,i){const n=this.getHeightOfLine(e),s=this.textAlign.includes(qn),o=this._textLines[e];let a,l,c,d,u,h="",f=0;i+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let m=0,p=o.length-1;m<=p;m++)u=m===p||this.charSpacing,h+=o[m],c=this.__charBounds[e][m],f===0?(t+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!u&&this._reSpaceAndTab.test(o[m])&&(u=!0),u||(a=a||this.getCompleteStyleDeclaration(e,m),l=this.getCompleteStyleDeclaration(e,m+1),u=yv(a,l,!0)),u&&(d=this._getStyleDeclaration(e,m),r.push(this._createTextCharSpan(h,d,t,i)),h="",a=l,this.direction==="rtl"?t-=f:t+=f,f=0)}_setSVGTextLineBg(r,e,t,i){const n=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let d=0;d<n.length;d++){const{left:u,width:h,kernedWidth:f}=this.__charBounds[e][d];o=this.getValueOfPropertyAt(e,d,"textBackgroundColor"),o!==c?(c&&r.push(...ap(c,t+l,i,a,s)),l=u,a=h,c=o):a+=f}o&&r.push(...ap(c,t+l,i,a,s))}_getSVGLineTopOffset(r){let e,t=0;for(e=0;e<r;e++)t+=this.getHeightOfLine(e);const i=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(r){return"".concat(super.getSvgStyles(r)," white-space: pre;")}getSvgSpanStyles(r,e){const{fontFamily:t,strokeWidth:i,stroke:n,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:c}=r,d=this.getSvgTextDecoration(r);return[n?Qc($r,n):"",i?"stroke-width: ".concat(i,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",d&&"text-decoration: ".concat(d,"; "),s?Qc(or,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(r){return["overline","underline","line-through"].filter(e=>r[e.replace("-","")]).join(" ")}}]),pt.setClass(Br),pt.setSVGClass(Br);class nO{constructor(e){Z(this,"target",void 0),Z(this,"__mouseDownInPlace",!1),Z(this,"__dragStartFired",!1),Z(this,"__isDraggingOver",!1),Z(this,"__dragStartSelection",void 0),Z(this,"__dragImageDisposer",void 0),Z(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,i=t.getSelectionStartFromPointer(e);return t.isEditing&&i>=t.selectionStart&&i<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var i;let{selectionStart:n,selectionEnd:s}=t;const o=this.target,a=o.canvas,l=new ve(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(n),d=new ve(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),u=a.getScenePoint(e).subtract(d),h=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),m=d.subtract(new ve(f.left,f.top)),p=a.viewportTransform,g=m.add(u).transform(p,!0),v=o.backgroundColor,b=vv(o.styles);o.backgroundColor="";const S={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(S,0,n),o.setSelectionStyles(S,s,o.text.length),o.dirty=!0;const _=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=v,o.styles=b,o.dirty=!0,c0(_,{position:"fixed",left:"".concat(-_.width,"px"),border:Qr,width:"".concat(_.width/h,"px"),height:"".concat(_.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{_.remove()},Dn(e.target||this.target.hiddenTextarea).body.appendChild(_),(i=e.dataTransfer)===null||i===void 0||i.setDragImage(_,g.x,g.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,i=this.isActive();if(i&&e.dataTransfer){const n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},s=t._text.slice(n.selectionStart,n.selectionEnd).join(""),o=q({text:t.text,value:s},n);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return t.abortCursorAnimation(),i}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),i=this.__dragStartSelection;return t<i.selectionStart||t>i.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const i=this.targetCanDrop(t);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,i=this.targetCanDrop(t);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:i}=e,n=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let s=(t=i.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(s&&!n){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(i);const{styles:c}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},d=s[Math.max(0,s.length-1)],u=0;if(this.__dragStartSelection){const h=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>h&&l<=f?l=h:l>f&&(l-=f-h),o.removeChars(h,f),delete this.__dragStartSelection}o._reNewline.test(d)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,c,l),a.setActiveObject(o),o.enterEditing(i),o.selectionStart=Math.min(l+u,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(Oh,{index:l+u,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;const n=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((i=t.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||Qr;l===Qr?(n.selectionStart=o,n.selectionEnd=a,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),l==="move"&&(n.removeChars(o,a),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(Oh,{index:o,action:"dragend"}),s.fire("text:changed",{target:n}),s.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Yb=/[ \n\.,;!\?\-]/;class sO extends Br{constructor(){super(...arguments),Z(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:i,delay:n,onComplete:s}=e;return FS({startValue:this._currentCursorOpacity,endValue:t,duration:i,delay:n,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,i=e-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)t++,i--;for(;/\S/.test(this._text[i])&&i>-1;)t++,i--;return e-t}findWordBoundaryRight(e){let t=0,i=e;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)t++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)t++,i++;return e+t}findLineBoundaryLeft(e){let t=0,i=e-1;for(;!/\n/.test(this._text[i])&&i>-1;)t++,i--;return e-t}findLineBoundaryRight(e){let t=0,i=e;for(;!/\n/.test(this._text[i])&&i<this._text.length;)t++,i++;return e+t}searchWordBoundary(e,t){const i=this._text;let n=e>0&&this._reSpace.test(i[e])&&(t===-1||!nv.test(i[e-1]))?e-1:e,s=i[n];for(;n>0&&n<i.length&&!Yb.test(s);)n+=t,s=i[n];return t===-1&&Yb.test(s)&&n++,n}selectWord(e){e=e||this.selectionStart;const t=this.searchWordBoundary(e,-1),i=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const t=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;Dn(t).activeElement!==t&&t.focus();const i=this.getSelectionStartFromPointer(e),n=this.selectionStart,s=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&n!==s||n!==i&&s!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,i){const n=i.slice(0,e),s=this.graphemeSplit(n).length;if(e===t)return{selectionStart:s,selectionEnd:s};const o=i.slice(e,t);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,i){const n=i.slice(0,e).join("").length;return e===t?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),i=this.get2DCursorLocation(e),n=i.lineIndex,s=i.charIndex,o=this.getValueOfPropertyAt(n,s,"fontSize")*this.lineHeight,a=t.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,d=c.width/l,u=c.height/l,h=d-o,f=u-o,m=new ve(t.left+a,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ve(c.clientWidth/d,c.clientHeight/u));return m.x<0&&(m.x=0),m.x>h&&(m.x=h),m.y<0&&(m.y=0),m.y>f&&(m.y=f),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){const e=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire(Ih),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:i,charIndex:n}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(t,!0);if(i!==s){if(this.styles[i])for(let a=n;a<this._unwrappedTextLines[i].length;a++)delete this.styles[i][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){const l=this.styles[s][a];l&&(this.styles[i]||(this.styles[i]={}),this.styles[i][n+a-o]=l)}for(let a=i+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,i-s)}else if(this.styles[i]){const a=this.styles[i],l=o-n;for(let c=n;c<o;c++)delete a[c];for(const c in this.styles[i]){const d=parseInt(c,10);d>=o&&(a[d-l]=a[c],delete a[c])}}}shiftLineStyles(e,t){const i=Object.assign({},this.styles);for(const n in this.styles){const s=parseInt(n,10);s>e&&(this.styles[s+t]=i[s],i[s-t]||delete this.styles[s])}}insertNewlineStyleObject(e,t,i,n){const s={},o=this._unwrappedTextLines[e].length,a=o===t;let l=!1;i||(i=1),this.shiftLineStyles(e,i);const c=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const u in this.styles[e]){const h=parseInt(u,10);h>=t&&(l=!0,s[h-t]=this.styles[e][u],a&&t===0||delete this.styles[e][u])}let d=!1;for(l&&!a&&(this.styles[e+i]=s,d=!0),(d||o>t)&&i--;i>0;)n&&n[i-1]?this.styles[e+i]={0:q({},n[i-1])}:c?this.styles[e+i]={0:q({},c)}:delete this.styles[e+i],i--;this._forceClearCache=!0}insertCharStyleObject(e,t,i,n){this.styles||(this.styles={});const s=this.styles[e],o=s?q({},s):{};i||(i=1);for(const l in o){const c=parseInt(l,10);c>=t&&(s[c+i]=o[c],o[c-i]||delete s[c])}if(this._forceClearCache=!0,n){for(;i--;)Object.keys(n[i]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+i]=q({},n[i]));return}if(!s)return;const a=s[t?t-1:1];for(;a&&i--;)this.styles[e][t+i]=q({},a)}insertNewStyleBlock(e,t,i){const n=this.get2DCursorLocation(t,!0),s=[0];let o,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,s[0],i),i=i&&i.slice(s[0]+1)),a&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(n.lineIndex+o,0,s[o],i):i&&this.styles[n.lineIndex+o]&&i[0]&&(this.styles[n.lineIndex+o][0]=i[0]),i=i&&i.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(n.lineIndex+o,0,s[o],i)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;n>i&&this.removeStyleFromTo(i,n);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,i,t),this._text=[...this._text.slice(0,i),...s,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,i){i<=e?(t===e?this._selectionDirection=hi:this._selectionDirection===Qi&&(this._selectionDirection=hi,this.selectionEnd=e),this.selectionStart=i):i>e&&i<t?this._selectionDirection===Qi?this.selectionEnd=i:this.selectionStart=i:(t===e?this._selectionDirection=Qi:this._selectionDirection===hi&&(this._selectionDirection=Qi,this.selectionStart=t),this.selectionEnd=i)}}class oO extends sO{initHiddenTextarea(){const e=this.canvas&&Dn(this.canvas.getElement())||jl(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return t.setAttribute(a,l)});const{top:i,left:n,fontSize:s}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return t.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const i=()=>{this.updateFromTextArea(),this.fire(Oh),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void i();const n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=n.length,a=this.selectionStart,l=this.selectionEnd,c=a!==l;let d,u,h,f,m=o-s;const p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=a>p.selectionStart;c?(u=this._text.slice(a,l),m+=l-a):o<s&&(u=g?this._text.slice(l+m,l):this._text.slice(a,a-m));const v=n.slice(p.selectionEnd-m,p.selectionEnd);if(u&&u.length&&(v.length&&(d=this.getSelectionStyles(a,a+1,!1),d=v.map(()=>d[0])),c?(h=a,f=l):g?(h=l-u.length,f=l):(h=l,f=l+u.length),this.removeStyleFromTo(h,f)),v.length){const{copyPasteData:b}=rs();t&&v.join("")===b.copiedText&&!ri.disableStyleCopyPaste&&(d=b.copiedTextStyle),this.insertNewStyleBlock(v,a,d)}i()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:i,selectionEnd:n}=t;this.compositionStart=i,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=rs();e.copiedText=this.getSelectedText(),ri.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let i,n=this._getLineLeftOffset(e);return t>0&&(i=this.__charBounds[e][t-1],n+=i.left+i.width),n}getDownCursorOffset(e,t){const i=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(i),s=n.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-i;const o=n.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const i=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(i),s=n.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-i;const o=n.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),c=this._textLines[s].slice(0,o),d=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-d)}_getIndexOnLine(e,t){const i=this._textLines[e];let n,s,o=this._getLineLeftOffset(e),a=0;for(let l=0,c=i.length;l<c;l++)if(n=this.__charBounds[e][l].width,o+=n,o>t){s=!0;const d=o-n,u=o,h=Math.abs(d-t);a=Math.abs(u-t)<h?l:l-1;break}return s||(a=i.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const i=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===Qi);if(t.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){const n=this.text.length;this.selectionStart=Tl(0,this.selectionStart,n),this.selectionEnd=Tl(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===hi?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,i){let n;if(e.altKey)n=this["findWordBoundary".concat(i)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=i==="Left"?-1:1,!0;n=this["findLineBoundary".concat(i)](this[t])}return n!==void 0&&this[t]!==n&&(this[t]=n,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=hi,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===Qi&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=hi,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const i="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===hi&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Qi,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=Qi,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const cp=r=>!!r.button;class aO extends oO{constructor(){super(...arguments),Z(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new nO(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),$g(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:t}=e;this.canvas&&this.editable&&!cp(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:t}=e;this.canvas&&this.editable&&!cp(t)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:t,transform:i}=e;const n=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||cp(t)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),i=this.selectionStart,n=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(i,n,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(Rn(this.calcTransformMatrix())).add(new ve(-this._getLeftOffset(),-this._getTopOffset()));let i=0,n=0,s=0;for(let c=0;c<this._textLines.length&&i<=t.y;c++)i+=this.getHeightOfLine(c),s=c,c>0&&(n+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(s));const a=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<a;c++){const d=o+l[c].kernedWidth;if(t.x<=d){Math.abs(t.x-d)<=Math.abs(t.x-o)&&n++;break}o=d,n++}return Math.min(this.flipX?a-n:n,this._text.length)}}const Tu="moveCursorUp",Cu="moveCursorDown",ku="moveCursorLeft",Eu="moveCursorRight",Au="exitEditing",lO=q({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Au,27:Au,33:Tu,34:Cu,35:Eu,36:ku,37:ku,38:Tu,39:Eu,40:Cu},keysMapRtl:{9:Au,27:Au,33:Tu,34:Cu,35:ku,36:Eu,37:Eu,38:Tu,39:ku,40:Cu},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Cs extends aO{static getDefaults(){return q(q({},super.getDefaults()),Cs.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,q(q({},Cs.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof d0&&this.canvas.textEditingManager.remove(this),t instanceof d0&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,i)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,i)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const i=super.toCanvasElement(e);return this.isEditing=t,i}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const i=this._getLeftOffset(),n=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,t);return{left:i,top:n,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,i=0;const{charIndex:n,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)t+=this.getHeightOfLine(c);const o=this._getLineLeftOffset(s),a=this.__charBounds[s][n];a&&(i=a.left),this.charSpacing!==0&&n===this._textLines[s].length&&(i-=this._getWidthOfCharSpacing());const l={top:t,left:o+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===Qi||this.textAlign===qn||this.textAlign===Gc?l.left*=-1:this.textAlign===hi||this.textAlign===Bh?l.left=o-(i>0?i:0):this.textAlign!==Zt&&this.textAlign!==Vc||(l.left=o-(i>0?i:0))),l}renderCursorAt(e){const t=this._getCursorBoundaries(e,!0);this._renderCursor(this.canvas.contextTop,t,e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}_renderCursor(e,t,i){const n=this.get2DCursorLocation(i),s=n.lineIndex,o=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(s,o,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/l,d=this.getValueOfPropertyAt(s,o,"deltaY"),u=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-a*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(e,t),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,o,or),e.globalAlpha=this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-c/2,u+t.top+d,c,a)}renderSelection(e,t){const i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,i,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,i){const n=t.selectionStart,s=t.selectionEnd,o=this.textAlign.includes(qn),a=this.get2DCursorLocation(n),l=this.get2DCursorLocation(s),c=a.lineIndex,d=l.lineIndex,u=a.charIndex<0?0:a.charIndex,h=l.charIndex<0?0:l.charIndex;for(let f=c;f<=d;f++){const m=this._getLineLeftOffset(f)||0;let p=this.getHeightOfLine(f),g=0,v=0,b=0;if(f===c&&(v=this.__charBounds[c][u].left),f>=c&&f<d)b=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===d)if(h===0)b=this.__charBounds[d][h].left;else{const T=this._getWidthOfCharSpacing();b=this.__charBounds[d][h-1].left+this.__charBounds[d][h-1].width-T}g=p,(this.lineHeight<1||f===d&&this.lineHeight>1)&&(p/=this.lineHeight);let S=i.left+m+v,_=p,x=0;const I=b-v;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,x=p):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Qi||this.textAlign===qn||this.textAlign===Gc?S=this.width-S-I:this.textAlign===hi||this.textAlign===Bh?S=i.left+m-b:this.textAlign!==Zt&&this.textAlign!==Vc||(S=i.left+m-b)),e.fillRect(S,i.top+i.topOffset+x,I,_),i.topOffset+=g}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,or)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}}Z(Cs,"ownDefaults",lO),Z(Cs,"type","IText"),pt.setClass(Cs),pt.setClass(Cs,"i-text");class ea extends Cs{static getDefaults(){return q(q({},super.getDefaults()),ea.ownDefaults)}constructor(e,t){super(e,q(q({},ea.ownDefaults),t))}static createControls(){return{controls:KS()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(qn)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,i=0,n=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[n]===`
`&&o>0?(i=0,n++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[n])&&o>0&&(i++,n++),s[o]={line:t,offset:i},n+=e.graphemeLines[o].length,i+=e.graphemeLines[o].length;return s}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[t];i&&(t=i.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,i=0,n=e+1,s=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,i=o.offset),a&&(n=a.line,s=n===e,t=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const d in l[c]){const u=parseInt(d,10);if(u>=i&&(!s||u<t))for(const h in l[c][d])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[e];if(!i)return{};e=i.line,t=i.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,i){const n=this._styleMap[e];super._setStyleDeclaration(n.line,n.offset+t,i)}_deleteStyleDeclaration(e,t){const i=this._styleMap[e];super._deleteStyleDeclaration(i.line,i.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const i=this.getGraphemeDataForRender(e),n=[];for(let s=0;s<i.wordsData.length;s++)n.push(...this._wrapLine(s,t,i));return this.isWrapping=!1,n}getGraphemeDataForRender(e){const t=this.splitByGrapheme,i=t?"":" ";let n=0;return{wordsData:e.map((s,o)=>{let a=0;const l=t?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const d=t?[c]:this.graphemeSplit(c),u=this._measureWord(d,o,a);return n=Math.max(u,n),a+=d.length+i.length,{word:d,width:u}})}),largestWordWidth:n}}_measureWord(e,t){let i,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=e.length;o<a;o++)s+=this._getGraphemeBox(e[o],t,o+n,i,!0).kernedWidth,i=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,i){let{largestWordWidth:n,wordsData:s}=i,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],d=l?"":" ";let u=0,h=[],f=0,m=0,p=!0;t-=o;const g=Math.max(t,n,this.dynamicMinWidth),v=s[e];let b;for(f=0,b=0;b<v.length;b++){const{word:S,width:_}=v[b];f+=S.length,u+=m+_-a,u>g&&!p?(c.push(h),h=[],u=_,p=!0):u+=a,p||l||h.push(d),h=h.concat(S),m=l?0:this._measureWord([d],e,f),f++,p=!1}return b&&c.push(h),n+o>this.dynamicMinWidth&&(this.dynamicMinWidth=n-a+o),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),i=this._wrapText(t.lines,this.width),n=new Array(i.length);for(let s=0;s<i.length;s++)n[s]=i[s].join("");return t.lines=n,t.graphemeLines=i,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const i=parseInt(t,10);if(this._textLines[i]){const n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}Z(ea,"type","Textbox"),Z(ea,"textLayoutProperties",[...Cs.textLayoutProperties,"width"]),Z(ea,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),pt.setClass(ea);class qb extends bf{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:i}=e,{clipPath:n,group:s}=i;if(!n||!this.shouldPerformLayout(e))return;const{width:o,height:a}=Es(eT(i,n)),l=new ve(o,a);if(n.absolutePositioned)return{center:vo(n.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=n.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:d=new ve,correction:u=new ve}=this.calcBoundingBox(t,e)||{};return{center:d.add(c),correction:u.subtract(c),size:l}}return{center:i.getRelativeCenterPoint().add(c),size:l}}}}Z(qb,"type","clip-path"),pt.setClass(qb);class Zb extends bf{getInitialSize(e,t){let{target:i}=e,{size:n}=t;return new ve(i.width||n.x,i.height||n.y)}}Z(Zb,"type","fixed"),pt.setClass(Zb);class cO extends ed{subscribeTargets(e){const t=e.target;e.targets.reduce((i,n)=>(n.parent&&i.add(n.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[t]})})}unsubscribeTargets(e){const t=e.target,i=t.getObjects();e.targets.reduce((n,s)=>(s.parent&&n.add(s.parent),n),new Set).forEach(n=>{!i.some(s=>s.parent===n)&&n.layoutManager.unsubscribeTargets({target:n,targets:[t]})})}}class Qn extends es{static getDefaults(){return q(q({},super.getDefaults()),Qn.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Qn.ownDefaults),this.setOptions(t);const{left:i,top:n,layoutManager:s}=t;this.groupInit(e,{left:i,top:n,layoutManager:s!=null?s:new cO})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach(n=>{const s=this._objects.findIndex(a=>a.isInFrontOf(n)),o=s===-1?this.size():s;this.insertAt(o,n)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(_o("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const i=new Set;t.forEach(n=>{const{parent:s}=n;s&&i.add(s)}),e===xv?i.forEach(n=>{n._onAfterObjectsChange(Fh,t)}):i.forEach(n=>{n._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,i){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const n=q(q({hasControls:!1},i),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,n);super._renderControls(e,t),e.restore()}}Z(Qn,"type","ActiveSelection"),Z(Qn,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),pt.setClass(Qn),pt.setClass(Qn,"activeSelection");class dO{constructor(){Z(this,"resources",{})}applyFilters(e,t,i,n,s){const o=s.getContext("2d");if(!o)return;o.drawImage(t,0,0,i,n);const a={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:t,originalImageData:o.getImageData(0,0,i,n),canvasEl:s,ctx:o,filterBackend:this};e.forEach(c=>{c.applyTo(a)});const{imageData:l}=a;return l.width===i&&l.height===n||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}}class bT{constructor(){let{tileSize:e=ri.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),Z(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const i=mr();i.width=e,i.height=t;const n=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=i,this.gl=n)}applyFilters(e,t,i,n,s,o){const a=this.gl,l=s.getContext("2d");if(!a||!l)return;let c;o&&(c=this.getCachedTexture(o,t));const d={originalWidth:t.width||t.originalWidth||0,originalHeight:t.height||t.originalHeight||0,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,c?void 0:t),targetTexture:this.createTexture(a,i,n),originalTexture:c||this.createTexture(a,i,n,c?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},u=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,u),e.forEach(h=>{h&&h.applyTo(d)}),function(h){const f=h.targetCanvas,m=f.width,p=f.height,g=h.destinationWidth,v=h.destinationHeight;m===g&&p===v||(f.width=g,f.height=v)}(d),this.copyGLTo2D(a,d),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(d.sourceTexture),a.deleteTexture(d.targetTexture),a.deleteFramebuffer(u),l.setTransform(1,0,0,1,0,0),d}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,i,n,s){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:d,TEXTURE_MAG_FILTER:u,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:m}=e,p=e.createTexture();return e.bindTexture(a,p),e.texParameteri(a,u,s||o),e.texParameteri(a,h,s||o),e.texParameteri(a,f,d),e.texParameteri(a,m,d),n?e.texImage2D(a,0,l,l,c,n):e.texImage2D(a,0,l,t,i,0,l,c,null),p}getCachedTexture(e,t,i){const{textureCache:n}=this;if(n[e])return n[e];{const s=this.createTexture(this.gl,t.width,t.height,t,i);return s&&(n[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const i=e.canvas,n=t.targetCanvas,s=n.getContext("2d");if(!s)return;s.translate(0,n.height),s.scale(1,-1);const o=i.height-n.height;s.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(e,t){const i=t.targetCanvas.getContext("2d"),n=t.destinationWidth,s=t.destinationHeight,o=n*s*4;if(!i)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,n,s,e.RGBA,e.UNSIGNED_BYTE,a);const c=new ImageData(l,n,s);i.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const i=e.getExtension("WEBGL_debug_renderer_info");if(i){const n=e.getParameter(i.UNMASKED_RENDERER_WEBGL),s=e.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(t.renderer=n.toLowerCase()),s&&(t.vendor=s.toLowerCase())}return this.gpuInfo=t,t}}let dp;function uO(){const{WebGLProbe:r}=rs();return r.queryWebGL(mr()),ri.enableGLFiltering&&r.isSupported(ri.textureSize)?new bT({tileSize:ri.textureSize}):new dO}function up(){return!dp&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(dp=uO()),dp}const hO=["filters","resizeFilter","src","crossOrigin","type"],xT=["cropX","cropY"];class vn extends Pr{static getDefaults(){return q(q({},super.getDefaults()),vn.ownDefaults)}constructor(e,t){super(),Z(this,"_lastScaleX",1),Z(this,"_lastScaleY",1),Z(this,"_filterScalingX",1),Z(this,"_filterScalingY",1),this.filters=[],Object.assign(this,vn.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(yo()),this.setElement(typeof e=="string"?(this.canvas&&Dn(this.canvas.getElement())||jl()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),e.classList.add(vn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=up(!1);t instanceof bT&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&rs().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,i=this.height/2;e.beginPath(),e.moveTo(-t,-i),e.lineTo(t,-i),e.lineTo(t,i),e.lineTo(-t,i),e.lineTo(-t,-i),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach(i=>{i&&t.push(i.toObject())}),q(q({},super.toObject([...xT,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,i=-this.width/2,n=-this.height/2;let s=[],o=[],a="",l="";if(!t)return[];if(this.hasCrop()){const c=yo();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+i+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,o=['	<rect x="'.concat(i,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==or?s.concat(o,e):s.concat(e,o),s}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fh(e,{crossOrigin:t,signal:i}).then(n=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(n)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.x,s=i.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||n>t&&s>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=s);const a=mr(),l=o.width,c=o.height;a.width=l,a.height=c,this._element=a,this._lastScaleX=e.scaleX=n,this._lastScaleY=e.scaleY=s,up().applyFilters([e],o,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,i=t.naturalWidth||t.width,n=t.naturalHeight||t.height;if(this._element===this._originalElement){const s=mr();s.width=i,s.height=n,this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1);up().applyFilters(e,this._originalElement,i,n,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const i=this._filterScalingX,n=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=t.naturalWidth||t.width,d=t.naturalHeight||t.height,u=a*i,h=l*n,f=Math.min(s*i,c-u),m=Math.min(o*n,d-h),p=-s/2,g=-o/2,v=Math.min(s,c/i-a),b=Math.min(o,d/n-l);t&&e.drawImage(t,u,h,f,m,p,g,v,b)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=this.getOriginalSize();this.width=e||i.width,this.height=t||i.height}parsePreserveAspectRatioAttribute(){const e=o5(this.preserveAspectRatio||""),t=this.width,i=this.height,n={width:t,height:i};let s,o=this._element.width,a=this._element.height,l=1,c=1,d=0,u=0,h=0,f=0;return!e||e.alignX===Qr&&e.alignY===Qr?(l=t/o,c=i/a):(e.meetOrSlice==="meet"&&(l=c=v4(this._element,n),s=(t-o*l)/2,e.alignX==="Min"&&(d=-s),e.alignX==="Max"&&(d=s),s=(i-a*c)/2,e.alignY==="Min"&&(u=-s),e.alignY==="Max"&&(u=s)),e.meetOrSlice==="slice"&&(l=c=_4(this._element,n),s=o-t/l,e.alignX==="Mid"&&(h=s/2),e.alignX==="Max"&&(h=s),s=a-i/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),o=t/l,a=i/c)),{width:o,height:a,scaleX:l,scaleY:c,offsetLeft:d,offsetTop:u,cropX:h,cropY:f}}static fromObject(e,t){let{filters:i,resizeFilter:n,src:s,crossOrigin:o,type:a}=e,l=Mi(e,hO);return Promise.all([fh(s,q(q({},t),{},{crossOrigin:o})),i&&Jc(i,t),n&&Jc([n],t),pf(l,t)]).then(c=>{let[d,u=[],[h]=[],f={}]=c;return new this(d,q(q({},l),{},{src:s,filters:u,resizeFilter:h},f))})}static fromURL(e){let{crossOrigin:t=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return fh(e,{crossOrigin:t,signal:i}).then(s=>new this(s,n))}static fromElement(t){return le(this,arguments,function*(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s=Fs(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(s["xlink:href"],i,s).catch(o=>(_o("log","Unable to parse Image",o),null))})}}Z(vn,"type","Image"),Z(vn,"cacheProperties",[...Rs,...xT]),Z(vn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),Z(vn,"CSS_CANVAS","canvas-img"),Z(vn,"ATTRIBUTE_NAMES",[...Co,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),pt.setClass(vn),pt.setSVGClass(vn);_f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const wT=pS,Kb=r=>function(e,t,i){const{points:n,pathOffset:s}=i;return new ve(n[r]).subtract(s).transform(fr(i.getViewportTransform(),i.calcTransformMatrix()))},ST=(r,e,t,i)=>{const{target:n,pointIndex:s}=e,o=n,a=vo(new ve(t,i),void 0,o.calcOwnMatrix());return o.points[s]=a.add(o.pathOffset),o.setDimensions(),!0},TT=(r,e)=>function(t,i,n,s){const o=i.target,a=new ve(o.points[(r>0?r:o.points.length)-1]),l=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()),c=e(t,q(q({},i),{},{pointIndex:r}),n,s),d=a.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(l);return o.left-=d.x,o.top-=d.y,c},Jb=r=>To(wT,TT(r,ST)),h0=(r,e,t)=>{const{path:i,pathOffset:n}=r,s=i[e];return new ve(s[t]-n.x,s[t+1]-n.y).transform(fr(r.getViewportTransform(),r.calcTransformMatrix()))};function fO(r,e,t){const{commandIndex:i,pointIndex:n}=this;return h0(t,i,n)}function mO(r,e,t,i){const{target:n}=e,{commandIndex:s,pointIndex:o}=this,a=((l,c,d,u,h)=>{const{path:f,pathOffset:m}=l,p=f[(u>0?u:f.length)-1],g=new ve(p[h],p[h+1]),v=g.subtract(m).transform(l.calcOwnMatrix()),b=vo(new ve(c,d),void 0,l.calcOwnMatrix());f[u][h]=b.x+m.x,f[u][h+1]=b.y+m.y,l.setDimensions();const S=g.subtract(l.pathOffset).transform(l.calcOwnMatrix()).subtract(v);return l.left-=S.x,l.top-=S.y,l.set("dirty",!0),!0})(n,t,i,s,o);return uv(this.actionName,q(q({},hv(r,e,t,i)),{},{commandIndex:s,pointIndex:o})),a}class CT extends an{constructor(e){super(e)}render(e,t,i,n,s){const o=q(q({},n),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,t,i,o,s)}}class pO extends CT{constructor(e){super(e)}render(e,t,i,n,s){const{path:o}=s,{commandIndex:a,pointIndex:l,connectToCommandIndex:c,connectToPointIndex:d}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[u]=o[a],h=h0(s,c,d);if(u==="Q"){const f=h0(s,a,l+2);e.moveTo(f.x,f.y),e.lineTo(t,i)}else e.moveTo(t,i);e.lineTo(h.x,h.y),e.stroke(),e.restore(),super.render(e,t,i,n,s)}}const Ou=(r,e,t,i,n,s)=>new(t?pO:CT)(q(q({commandIndex:r,pointIndex:e,actionName:"modifyPath",positionHandler:fO,actionHandler:mO,connectToCommandIndex:n,connectToPointIndex:s},i),t?i.controlPointStyle:i.pointStyle));var gO=Object.freeze({__proto__:null,changeWidth:r0,createObjectDefaultControls:gv,createPathControls:function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t={};let i="M";return r.path.forEach((n,s)=>{const o=n[0];switch(o!=="Z"&&(t["c_".concat(s,"_").concat(o)]=Ou(s,n.length-2,!1,e)),o){case"C":t["c_".concat(s,"_C_CP_1")]=Ou(s,1,!0,e,s-1,(a=>a==="C"?5:a==="Q"?3:1)(i)),t["c_".concat(s,"_C_CP_2")]=Ou(s,3,!0,e,s,5);break;case"Q":t["c_".concat(s,"_Q_CP_1")]=Ou(s,1,!0,e,s,3)}i=o}),t},createPolyActionHandler:Jb,createPolyControls:function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t={};for(let i=0;i<(typeof r=="number"?r:r.points.length);i++)t["p".concat(i)]=new an(q({actionName:wT,positionHandler:Kb(i),actionHandler:Jb(i)},e));return t},createPolyPositionHandler:Kb,createResizeControls:ZS,createTextboxDefaultControls:KS,dragHandler:LS,factoryPolyActionHandler:TT,getLocalPoint:vf,polyActionHandler:ST,renderCircleControl:NS,renderSquareControl:zS,rotationStyleHandler:BS,rotationWithSnapping:jS,scaleCursorStyleHandler:ol,scaleOrSkewActionName:Dc,scaleSkewCursorStyleHandler:Qo,scalingEqually:Pc,scalingX:US,scalingXOrSkewingY:n0,scalingY:HS,scalingYOrSkewingX:s0,skewCursorStyleHandler:XS,skewHandlerX:YS,skewHandlerY:qS,wrapWithFireEvent:To,wrapWithFixedAnchor:pa});const wf=r=>r.webgl!==void 0,wv="precision highp float",vO=`
    `.concat(wv,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),_O=["type"],yO=["type"],bO=new RegExp(wv,"g");class pr{get type(){return this.constructor.type}constructor(){let e=Mi(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_O);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return vO}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:n="highp"}}=rs();n!=="highp"&&(t=t.replace(bO,wv.replace("highp",n)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!s||!o||!a)throw new Jn("Vertex, fragment shader or program creation error");if(e.shaderSource(s,i),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Jn("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Jn("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Jn('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const i=this.constructor.uniformLocations,n={};for(let s=0;s<i.length;s++)n[i[s]]=e.getUniformLocation(t,i[s]);return n}sendAttributeData(e,t,i){const n=t.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const i=e.destinationWidth,n=e.destinationHeight;e.sourceWidth===i&&e.sourceHeight===n||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,i,n)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){wf(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,i=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(i.program),this.sendAttributeData(t,i.attributeLocations,e.aPosition),t.uniform1f(i.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(i.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,i.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,i){e.activeTexture(i),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const t=mr();t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}}toObject(){const e=Object.keys(this.constructor.defaults||{});return q({type:this.type},e.reduce((t,i)=>(t[i]=this[i],t),{}))}toJSON(){return this.toObject()}static fromObject(e,t){return le(this,null,function*(){return new this(Mi(e,yO))})}}Z(pr,"type","BaseFilter"),Z(pr,"uniformLocations",[]);const xO={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Iu extends pr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(xO[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const i=new mi(this.color).getSource(),n=i[0]*this.alpha,s=i[1]*this.alpha,o=i[2]*this.alpha,a=1-this.alpha;for(let l=0;l<t.length;l+=4){const c=t[l],d=t[l+1],u=t[l+2];switch(this.mode){case"multiply":t[l]=c*n/255,t[l+1]=d*s/255,t[l+2]=u*o/255;break;case"screen":t[l]=255-(255-c)*(255-n)/255,t[l+1]=255-(255-d)*(255-s)/255,t[l+2]=255-(255-u)*(255-o)/255;break;case"add":t[l]=c+n,t[l+1]=d+s,t[l+2]=u+o;break;case"difference":t[l]=Math.abs(c-n),t[l+1]=Math.abs(d-s),t[l+2]=Math.abs(u-o);break;case"subtract":t[l]=c-n,t[l+1]=d-s,t[l+2]=u-o;break;case"darken":t[l]=Math.min(c,n),t[l+1]=Math.min(d,s),t[l+2]=Math.min(u,o);break;case"lighten":t[l]=Math.max(c,n),t[l+1]=Math.max(d,s),t[l+2]=Math.max(u,o);break;case"overlay":t[l]=n<128?2*c*n/255:255-2*(255-c)*(255-n)/255,t[l+1]=s<128?2*d*s/255:255-2*(255-d)*(255-s)/255,t[l+2]=o<128?2*u*o/255:255-2*(255-u)*(255-o)/255;break;case"exclusion":t[l]=n+c-2*n*c/255,t[l+1]=s+d-2*s*d/255,t[l+2]=o+u-2*o*u/255;break;case"tint":t[l]=n+c*a,t[l+1]=s+d*a,t[l+2]=o+u*a}}}sendUniformData(e,t){const i=new mi(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,e.uniform4fv(t.uColor,i)}}Z(Iu,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),Z(Iu,"type","BlendColor"),Z(Iu,"uniformLocations",["uColor"]),pt.setClass(Iu);const wO={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},SO=["type","image"];class Lu extends pr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return wO[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,i=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,i,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:i}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/i,1]}applyTo2d(e){let{imageData:{data:t,width:i,height:n},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=mr());const a=s.blendImage,l=a.getContext("2d");a.width!==i||a.height!==n?(a.width=i,a.height=n):l.clearRect(0,0,i,n),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,i,n);const c=l.getImageData(0,0,i,n).data;for(let d=0;d<t.length;d+=4){const u=t[d],h=t[d+1],f=t[d+2],m=t[d+3],p=c[d],g=c[d+1],v=c[d+2],b=c[d+3];switch(this.mode){case"multiply":t[d]=u*p/255,t[d+1]=h*g/255,t[d+2]=f*v/255,t[d+3]=m*b/255;break;case"mask":t[d+3]=b}}}sendUniformData(e,t){const i=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,i)}toObject(){return q(q({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(e,t){return le(this,null,function*(){let{type:i,image:n}=e,s=Mi(e,SO);return vn.fromObject(n,t).then(o=>new this(q(q({},s),{},{image:o})))})}}Z(Lu,"type","BlendImage"),Z(Lu,"defaults",{mode:"multiply",alpha:1}),Z(Lu,"uniformLocations",["uTransformMatrix","uImage"]),pt.setClass(Lu);class Pu extends pr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){wf(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:t,imageData:i,filterBackend:{resources:n}}=e;const{width:s,height:o}=i;n.blurLayer1||(n.blurLayer1=mr(),n.blurLayer2=mr());const a=n.blurLayer1,l=n.blurLayer2;a.width===s&&a.height===o||(l.width=a.width=s,l.height=a.height=o);const c=a.getContext("2d"),d=l.getContext("2d"),u=15,h=.06*this.blur*.5;let f,m,p,g;for(c.putImageData(i,0,0),d.clearRect(0,0,s,o),g=-15;g<=u;g++)f=(Math.random()-.5)/4,m=g/u,p=h*m*s+f,d.globalAlpha=1-Math.abs(m),d.drawImage(a,p,f),c.drawImage(l,0,0),d.globalAlpha=1,d.clearRect(0,0,l.width,l.height);for(g=-15;g<=u;g++)f=(Math.random()-.5)/4,m=g/u,p=h*m*o+f,d.globalAlpha=1-Math.abs(m),d.drawImage(a,f,p),c.drawImage(l,0,0),d.globalAlpha=1,d.clearRect(0,0,l.width,l.height);t.drawImage(a,0,0);const v=t.getImageData(0,0,a.width,a.height);return c.globalAlpha=1,c.clearRect(0,0,a.width,a.height),v}sendUniformData(e,t){const i=this.chooseRightDelta();e.uniform2fv(t.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const t=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const i=e*this.blur*.12;return this.horizontal?t[0]=i:t[1]=i,t}}Z(Pu,"type","Blur"),Z(Pu,"defaults",{blur:0}),Z(Pu,"uniformLocations",["uDelta"]),pt.setClass(Pu);class Du extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const i=Math.round(255*this.brightness);for(let n=0;n<t.length;n+=4)t[n]=t[n]+i,t[n+1]=t[n+1]+i,t[n+2]=t[n+2]+i}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}Z(Du,"type","Brightness"),Z(Du,"defaults",{brightness:0}),Z(Du,"uniformLocations",["uBrightness"]),pt.setClass(Du);class ll extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,i=this.matrix,n=this.colorsOnly;for(let s=0;s<t.length;s+=4){const o=t[s],a=t[s+1],l=t[s+2];if(n)t[s]=o*i[0]+a*i[1]+l*i[2]+255*i[4],t[s+1]=o*i[5]+a*i[6]+l*i[7]+255*i[9],t[s+2]=o*i[10]+a*i[11]+l*i[12]+255*i[14];else{const c=t[s+3];t[s]=o*i[0]+a*i[1]+l*i[2]+c*i[3]+255*i[4],t[s+1]=o*i[5]+a*i[6]+l*i[7]+c*i[8]+255*i[9],t[s+2]=o*i[10]+a*i[11]+l*i[12]+c*i[13]+255*i[14],t[s+3]=o*i[15]+a*i[16]+l*i[17]+c*i[18]+255*i[19]}}}sendUniformData(e,t){const i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],s=[i[4],i[9],i[14],i[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,n),e.uniform4fv(t.uConstants,s)}toObject(){return q(q({},super.toObject()),{},{matrix:[...this.matrix]})}}function ga(r,e){var t;const i=(Z(t=class extends ll{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",r),Z(t,"defaults",{colorsOnly:!1,matrix:e}),t);return pt.setClass(i,r),i}Z(ll,"type","ColorMatrix"),Z(ll,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),Z(ll,"uniformLocations",["uColorMatrix","uConstants"]),pt.setClass(ll);ga("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);ga("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);ga("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);ga("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);ga("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);ga("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);ga("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Qb extends pr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){wf(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(i=>pt.getClass(i.type).fromObject(i,t))).then(i=>new this({subFilters:i}))}}Z(Qb,"type","Composed"),pt.setClass(Qb);class Mu extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const i=Math.floor(255*this.contrast),n=259*(i+255)/(255*(259-i));for(let s=0;s<t.length;s+=4)t[s]=n*(t[s]-128)+128,t[s+1]=n*(t[s+1]-128)+128,t[s+2]=n*(t[s+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}Z(Mu,"type","Contrast"),Z(Mu,"defaults",{contrast:0}),Z(Mu,"uniformLocations",["uContrast"]),pt.setClass(Mu);const TO={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Ru extends pr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return TO[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,i=t.data,n=this.matrix,s=Math.round(Math.sqrt(n.length)),o=Math.floor(s/2),a=t.width,l=t.height,c=e.ctx.createImageData(a,l),d=c.data,u=this.opaque?1:0;let h,f,m,p,g,v,b,S,_,x,I,T,O;for(I=0;I<l;I++)for(x=0;x<a;x++){for(g=4*(I*a+x),h=0,f=0,m=0,p=0,O=0;O<s;O++)for(T=0;T<s;T++)b=I+O-o,v=x+T-o,b<0||b>=l||v<0||v>=a||(S=4*(b*a+v),_=n[O*s+T],h+=i[S]*_,f+=i[S+1]*_,m+=i[S+2]*_,u||(p+=i[S+3]*_));d[g]=h,d[g+1]=f,d[g+2]=m,d[g+3]=u?i[g+3]:p}e.imageData=c}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return q(q({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}Z(Ru,"type","Convolute"),Z(Ru,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),Z(Ru,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),pt.setClass(Ru);const kT="Gamma";class Fu extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const i=this.gamma,n=1/i[0],s=1/i[1],o=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,n),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<t.length;l+=4)t[l]=a.r[t[l]],t[l+1]=a.g[t[l+1]],t[l+2]=a.b[t[l+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:kT,gamma:this.gamma.concat()}}}Z(Fu,"type",kT),Z(Fu,"defaults",{gamma:[1,1,1]}),Z(Fu,"uniformLocations",["uGamma"]),pt.setClass(Fu);const CO={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Nu extends pr{applyTo2d(e){let{imageData:{data:t}}=e;for(let i,n=0;n<t.length;n+=4){switch(this.mode){case"average":i=(t[n]+t[n+1]+t[n+2])/3;break;case"lightness":i=(Math.min(t[n],t[n+1],t[n+2])+Math.max(t[n],t[n+1],t[n+2]))/2;break;case"luminosity":i=.21*t[n]+.72*t[n+1]+.07*t[n+2]}t[n]=i,t[n+1]=i,t[n+2]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return CO[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}Z(Nu,"type","Grayscale"),Z(Nu,"defaults",{mode:"average"}),Z(Nu,"uniformLocations",["uMode"]),pt.setClass(Nu);class hp extends ll{calculateMatrix(){const e=this.rotation*Math.PI,t=Is(e),i=Ls(e),n=1/3,s=Math.sqrt(n)*i,o=1-t;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=t+o/3,this.matrix[1]=n*o-s,this.matrix[2]=n*o+s,this.matrix[5]=n*o+s,this.matrix[6]=t+n*o,this.matrix[7]=n*o-s,this.matrix[10]=n*o-s,this.matrix[11]=n*o+s,this.matrix[12]=t+n*o}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}Z(hp,"type","HueRotation"),Z(hp,"defaults",{rotation:0}),pt.setClass(hp);class zu extends pr{applyTo2d(e){let{imageData:{data:t}}=e;for(let i=0;i<t.length;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2],this.alpha&&(t[i+3]=255-t[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}Z(zu,"type","Invert"),Z(zu,"defaults",{alpha:!1,invert:!0}),Z(zu,"uniformLocations",["uInvert","uAlpha"]),pt.setClass(zu);class Bu extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const i=this.noise;for(let n=0;n<t.length;n+=4){const s=(.5-Math.random())*i;t[n]+=s,t[n+1]+=s,t[n+2]+=s}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}Z(Bu,"type","Noise"),Z(Bu,"defaults",{noise:0}),Z(Bu,"uniformLocations",["uNoise","uSeed"]),pt.setClass(Bu);class ju extends pr{applyTo2d(e){let{imageData:{data:t,width:i,height:n}}=e;for(let s=0;s<n;s+=this.blocksize)for(let o=0;o<i;o+=this.blocksize){const a=4*s*i+4*o,l=t[a],c=t[a+1],d=t[a+2],u=t[a+3];for(let h=s;h<Math.min(s+this.blocksize,n);h++)for(let f=o;f<Math.min(o+this.blocksize,i);f++){const m=4*h*i+4*f;t[m]=l,t[m+1]=c,t[m+2]=d,t[m+3]=u}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}Z(ju,"type","Pixelate"),Z(ju,"defaults",{blocksize:4}),Z(ju,"uniformLocations",["uBlocksize"]),pt.setClass(ju);class Gu extends pr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const i=255*this.distance,n=new mi(this.color).getSource(),s=[n[0]-i,n[1]-i,n[2]-i],o=[n[0]+i,n[1]+i,n[2]+i];for(let a=0;a<t.length;a+=4){const l=t[a],c=t[a+1],d=t[a+2];l>s[0]&&c>s[1]&&d>s[2]&&l<o[0]&&c<o[1]&&d<o[2]&&(t[a+3]=0)}}sendUniformData(e,t){const i=new mi(this.color).getSource(),n=this.distance,s=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],o=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];e.uniform4fv(t.uLow,s),e.uniform4fv(t.uHigh,o)}}Z(Gu,"type","RemoveColor"),Z(Gu,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),Z(Gu,"uniformLocations",["uLow","uHigh"]),pt.setClass(Gu);class Vu extends pr{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,i=this.getFilterWindow(),n=new Array(i);for(let s=1;s<=i;s++)n[s-1]=e(s*t);return n}generateShader(e){const t=new Array(e);for(let i=1;i<=e;i++)t[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map((i,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){wf(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const i=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(i)/i}}applyTo2d(e){const t=e.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;const s=t.width,o=t.height,a=Math.round(s*i),l=Math.round(o*n);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,a,l):new ImageData(a,l),e.imageData=c}sliceByTwo(e,t,i,n,s){const o=e.imageData,a=.5;let l=!1,c=!1,d=t*a,u=i*a;const h=e.filterBackend.resources;let f=0,m=0;const p=t;let g=0;h.sliceByTwo||(h.sliceByTwo=mr());const v=h.sliceByTwo;(v.width<1.5*t||v.height<i)&&(v.width=1.5*t,v.height=i);const b=v.getContext("2d");for(b.clearRect(0,0,1.5*t,i),b.putImageData(o,0,0),n=Math.floor(n),s=Math.floor(s);!l||!c;)t=d,i=u,n<Math.floor(d*a)?d=Math.floor(d*a):(d=n,l=!0),s<Math.floor(u*a)?u=Math.floor(u*a):(u=s,c=!0),b.drawImage(v,f,m,t,i,p,g,d,u),f=p,m=g,g+=u;return b.getImageData(f,m,n,s)}lanczosResize(e,t,i,n,s){const o=e.imageData.data,a=e.ctx.createImageData(n,s),l=a.data,c=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,u=this.rcpScaleY,h=2/this.rcpScaleX,f=2/this.rcpScaleY,m=Math.ceil(d*this.lanczosLobes/2),p=Math.ceil(u*this.lanczosLobes/2),g={},v={x:0,y:0},b={x:0,y:0};return function S(_){let x,I,T,O,E,w,X,H,Y,k,D;for(v.x=(_+.5)*d,b.x=Math.floor(v.x),x=0;x<s;x++){for(v.y=(x+.5)*u,b.y=Math.floor(v.y),E=0,w=0,X=0,H=0,Y=0,I=b.x-m;I<=b.x+m;I++)if(!(I<0||I>=t)){k=Math.floor(1e3*Math.abs(I-v.x)),g[k]||(g[k]={});for(let M=b.y-p;M<=b.y+p;M++)M<0||M>=i||(D=Math.floor(1e3*Math.abs(M-v.y)),g[k][D]||(g[k][D]=c(Math.sqrt(Math.pow(k*h,2)+Math.pow(D*f,2))/1e3)),T=g[k][D],T>0&&(O=4*(M*t+I),E+=T,w+=T*o[O],X+=T*o[O+1],H+=T*o[O+2],Y+=T*o[O+3]))}O=4*(x*n+_),l[O]=w/E,l[O+1]=X/E,l[O+2]=H/E,l[O+3]=Y/E}return++_<n?S(_):a}(0)}bilinearFiltering(e,t,i,n,s){let o,a,l,c,d,u,h,f,m,p,g,v,b,S=0;const _=this.rcpScaleX,x=this.rcpScaleY,I=4*(t-1),T=e.imageData.data,O=e.ctx.createImageData(n,s),E=O.data;for(h=0;h<s;h++)for(f=0;f<n;f++)for(d=Math.floor(_*f),u=Math.floor(x*h),m=_*f-d,p=x*h-u,b=4*(u*t+d),g=0;g<4;g++)o=T[b+g],a=T[b+4+g],l=T[b+I+g],c=T[b+I+4+g],v=o*(1-m)*(1-p)+a*m*(1-p)+l*p*(1-m)+c*m*p,E[S++]=v;return O}hermiteFastResize(e,t,i,n,s){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(a/2),d=e.imageData.data,u=e.ctx.createImageData(n,s),h=u.data;for(let f=0;f<s;f++)for(let m=0;m<n;m++){const p=4*(m+f*n);let g=0,v=0,b=0,S=0,_=0,x=0,I=0;const T=(f+.5)*a;for(let O=Math.floor(f*a);O<(f+1)*a;O++){const E=Math.abs(T-(O+.5))/c,w=(m+.5)*o,X=E*E;for(let H=Math.floor(m*o);H<(m+1)*o;H++){let Y=Math.abs(w-(H+.5))/l;const k=Math.sqrt(X+Y*Y);k>1&&k<-1||(g=2*k*k*k-3*k*k+1,g>0&&(Y=4*(H+O*t),I+=g*d[Y+3],b+=g,d[Y+3]<255&&(g=g*d[Y+3]/250),S+=g*d[Y],_+=g*d[Y+1],x+=g*d[Y+2],v+=g))}}h[p]=S/v,h[p+1]=_/v,h[p+2]=x/v,h[p+3]=I/b}return u}}Z(Vu,"type","Resize"),Z(Vu,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),Z(Vu,"uniformLocations",["uDelta","uTaps"]),pt.setClass(Vu);class Uu extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const i=-this.saturation;for(let n=0;n<t.length;n+=4){const s=Math.max(t[n],t[n+1],t[n+2]);t[n]+=s!==t[n]?(s-t[n])*i:0,t[n+1]+=s!==t[n+1]?(s-t[n+1])*i:0,t[n+2]+=s!==t[n+2]?(s-t[n+2])*i:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}Z(Uu,"type","Saturation"),Z(Uu,"defaults",{saturation:0}),Z(Uu,"uniformLocations",["uSaturation"]),pt.setClass(Uu);class Hu extends pr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const i=-this.vibrance;for(let n=0;n<t.length;n+=4){const s=Math.max(t[n],t[n+1],t[n+2]),o=(t[n]+t[n+1]+t[n+2])/3,a=2*Math.abs(s-o)/255*i;t[n]+=s!==t[n]?(s-t[n])*a:0,t[n+1]+=s!==t[n+1]?(s-t[n+1])*a:0,t[n+2]+=s!==t[n+2]?(s-t[n+2])*a:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}Z(Hu,"type","Vibrance"),Z(Hu,"defaults",{vibrance:0}),Z(Hu,"uniformLocations",["uVibrance"]),pt.setClass(Hu);function kO(r,e){const t=r*Math.PI/180;let n=e._objects.map(o=>{let a=o.left-e.left,l=o.top-e.top,c=a*Math.cos(t)-l*Math.sin(t)+e.left,d=a*Math.sin(t)+l*Math.cos(t)+e.top;return new ve(c,d)}).map(o=>o.y);return Math.max(...n)-Math.min(...n)}function EO(r,...e){let t=-90,i=90,n=1;for(;i-t>n;){let o=t+(i-t)/3,a=i-(i-t)/3,l=r(o,...e),c=r(a,...e);l<c?i=a:t=o}return(t+i)/2}function AO(r){r.on("mouse:wheel",function(e){let t=e.e.deltaY,i=r.getZoom();i*=Ci(.999,t),i>20&&(i=20),i<.01&&(i=.01),r.zoomToPoint({x:e.e.offsetX,y:e.e.offsetY},i),e.e.preventDefault(),e.e.stopPropagation()}),r.on("mouse:down",function(e){e.e.button===2&&(r.isDragging=!0,r.selection=!1,r.lastPosX=e.e.clientX,r.lastPosY=e.e.clientY)}),r.on("mouse:move",function(e){if(r.isDragging){let t=r.viewportTransform;t[4]+=e.e.clientX-r.lastPosX,t[5]+=e.e.clientY-r.lastPosY,r.requestRenderAll(),r.lastPosX=e.e.clientX,r.lastPosY=e.e.clientY}}),r.on("mouse:up",function(e){r.setViewportTransform(r.viewportTransform),r.isDragging=!1,r.selection=!0})}class OO{constructor(e,t,i,n){this.root={x:e,y:t,w:i,h:n}}fit(e){var t,i,n,s=e.length;for(t=0;t<s;t++)n=e[t],(i=this.findNode(this.root,n.w,n.h))?n.fit=this.splitNode(i,n.w,n.h):n.fit=this.growNode(n.w,n.h)}findNode(e,t,i){return e.used?this.findNode(e.right,t,i)||this.findNode(e.down,t,i):t<=e.w&&i<=e.h?e:null}splitNode(e,t,i){return e.used=!0,e.down={x:e.x,y:e.y+i,w:e.w,h:e.h-i},e.right={x:e.x+t,y:e.y,w:e.w-t,h:i},e}growNode(e,t){var i=e<=this.root.w,n=t<=this.root.h,s=n&&this.root.h>=this.root.w+e,o=i&&this.root.w>=this.root.h+t;return s?this.growRight(e,t):o?this.growDown(e,t):n?this.growRight(e,t):i?this.growDown(e,t):null}growRight(e,t){this.root={used:!0,x:0,y:0,w:this.root.w+e,h:this.root.h,down:this.root,right:{x:this.root.w,y:0,w:e,h:this.root.h}};var i=this.findNode(this.root,e,t);return i?this.splitNode(i,e,t):null}growDown(e,t){this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+t,down:{x:0,y:this.root.h,w:this.root.w,h:t},right:this.root};var i=this.findNode(this.root,e,t);return i?this.splitNode(i,e,t):null}}function IO(r){let e;return{c(){e=ai("canvas"),ae(e,"width","600"),ae(e,"height","400")},m(t,i){Me(t,e,i),r[6](e)},p:Pt,i:Pt,o:Pt,d(t){t&&Le(e),r[6](null)}}}function $b(r){return r.getObjects().reduce((e,t)=>(t.isLCC&&(e.minLeft=Math.min(e.minLeft,t.left),e.minTop=Math.min(e.minTop,t.top),e.maxLeft=Math.max(e.maxLeft,t.left),e.maxTop=Math.max(e.maxTop,t.top)),e),{minLeft:1/0,minTop:1/0,maxLeft:-1/0,maxTop:-1/0})}function LO(r,e,t){let{simulation:i}=e,{nodePositions:n}=e,s,o;const a=new Map,l=new Map,c=new Map;function d(v,b,S){v.angle=S;const _=new es([],{originX:"center",originY:"center",objectCaching:!1});return v.forEachObject(x=>{v.remove(x),_.add(x)}),o.remove(v),l.set(b,_),o.add(_),p(_),_.setCoords(),_}function u(v){if(!o)return;const b=10;let S=[];l.forEach((I,T)=>{let O=I;if(I._objects.length>1){const E=EO(kO,I);O=d(I,T,E)}S.push({w:O.width+b,h:O.height+b,componentId:T})});const _=$b(o);S.sort((I,T)=>I.w===T.w?T.h-I.h:T.w-I.w),new OO(_.maxLeft+b+S[0].w/2,_.minTop,_.maxLeft-_.minLeft,_.maxTop-_.minTop).fit(S),S.forEach(I=>{if(I.fit){const T=l.get(I.componentId);T.left=I.fit.x,T.top=I.fit.y,T.setCoords(),p(T)}}),o.renderAll()}const h={controls:{mtr:gO.createObjectDefaultControls().mtr}};Qn.createControls=()=>h,es.createControls=()=>h,Qn.ownDefaults=fn(Ui({},Qn.ownDefaults),{lockScalingX:!0,lockScalingY:!0});function f(){o.discardActiveObject()}function m(){i.forEachNode(v=>{const b=c.get(v.id);if(b.isLCC){t(1,n[v.id]={x:b.left,y:b.top},n);return}const _=new ve(b.left,b.top).transform(b.group.calcTransformMatrix());t(1,n[v.id]={x:_.x,y:_.y},n)})}function p(v,b=[1,0,0,1,0,0]){const S="_objects"in v;if(S){v._objects.forEach(I=>{p(I,v.calcTransformMatrix())});return}const x=new ve(v.left,v.top).transform(S?v.calcTransformMatrix():b);v.linksDeparting.forEach(I=>{a.get(I).set({x1:x.x,y1:x.y})}),v.linksArriving.forEach(I=>{a.get(I).set({x2:x.x,y2:x.y})})}uf(()=>{o=new d0(s,{fireRightClick:!0,stopContextMenu:!0}),AO(o),o.on({"object:moving":x=>p(x.target),"object:rotating":x=>p(x.target)}),i.forEachLink(x=>{const I=n[x.fromId||x.source],T=n[x.toId||x.target],O=[I.x,I.y,T.x,T.y],E=new fo(O,{fill:null,stroke:"#909090",strokeWidth:1,selectable:!1,evented:!1,objectCaching:!1});a.set(x.id,E),o.add(E)}),i.forEachNode(x=>{const I=[],T=[];x.links&&x.links.forEach(X=>{X.fromId===x.id?I.push(X.id):T.push(X.id)});const O=n[x.id],E="data"in x?x.data.component||null:x.component||null,w=new Ln({left:O.x,top:O.y,fill:x.color||x.data.color||"#000000",width:x.size||x.data.size||10,height:x.size||x.data.size||10,angle:90,hasControls:!1,originX:"center",originY:"center",objectCaching:!1,linksDeparting:I,linksArriving:T,isLCC:E===null});if(c.set(x.id,w),E===null){o.add(w);return}if(!l.has(E)){const X=new es([w],{originX:"center",originY:"center",objectCaching:!1});l.set(E,X),o.add(X);return}l.get(E).add(w)}),o.requestRenderAll();const v=$b(o),b=(v.minLeft+v.maxLeft)/2,S=(v.minTop+v.maxTop)/2;Math.min(v.maxLeft-v.minLeft,v.maxTop-v.minTop),Math.min(s.clientWidth,s.clientHeight);const _=new ve(-s.clientWidth/2+b,-s.clientHeight/2+S);o.absolutePan(_)}),sS(()=>{m(),o.dispose()});function g(v){en[v?"unshift":"push"](()=>{s=v,t(0,s)})}return r.$$set=v=>{"simulation"in v&&t(2,i=v.simulation),"nodePositions"in v&&t(1,n=v.nodePositions)},[s,n,i,u,f,m,g]}class PO extends cr{constructor(e){super(),lr(this,e,LO,IO,Oi,{simulation:2,nodePositions:1,packComponents:3,discardActiveSelection:4,persistNodePositions:5})}get packComponents(){return this.$$.ctx[3]}get discardActiveSelection(){return this.$$.ctx[4]}get persistNodePositions(){return this.$$.ctx[5]}}var Xi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Sv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ET(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var _d={random:AT,randomIterator:DO};function AT(r){var e=typeof r=="number"?r:+new Date,t=function(){return e=e+2127912214+(e<<12)&4294967295,e=(e^3345072700^e>>>19)&4294967295,e=e+374761393+(e<<5)&4294967295,e=(e+3550635116^e<<9)&4294967295,e=e+4251993797+(e<<3)&4294967295,e=(e^3042594569^e>>>16)&4294967295,(e&268435455)/268435456};return{next:function(i){return Math.floor(t()*i)},nextDouble:function(){return t()}}}function DO(r,e){var t=e||AT();if(typeof t.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(i){var n,s,o;for(n=r.length-1;n>0;--n)s=t.next(n+1),o=r[s],r[s]=r[n],r[n]=o,i(o);r.length&&i(r[0])},shuffle:function(){var i,n,s;for(i=r.length-1;i>0;--i)n=t.next(i+1),s=r[n],r[n]=r[i],r[i]=s;return r}}}var fp,e1;function Hl(){if(e1)return fp;e1=1,fp=r;function r(e,t){var i;if(e||(e={}),t){for(i in t)if(t.hasOwnProperty(i)){var n=e.hasOwnProperty(i),s=typeof t[i],o=!n||typeof e[i]!==s;o?e[i]=t[i]:s==="object"&&(e[i]=r(e[i],t[i]))}}return e}return fp}var mp,t1;function va(){if(t1)return mp;t1=1,mp=function(t){e(t);var i=r(t);return t.on=i.on,t.off=i.off,t.fire=i.fire,t};function r(t){var i=Object.create(null);return{on:function(n,s,o){if(typeof s!="function")throw new Error("callback is expected to be a function");var a=i[n];return a||(a=i[n]=[]),a.push({callback:s,ctx:o}),t},off:function(n,s){var o=typeof n=="undefined";if(o)return i=Object.create(null),t;if(i[n]){var a=typeof s!="function";if(a)delete i[n];else for(var l=i[n],c=0;c<l.length;++c)l[c].callback===s&&l.splice(c,1)}return t},fire:function(n){var s=i[n];if(!s)return t;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var a=0;a<s.length;++a){var l=s[a];l.callback.apply(l.ctx,o)}return t}}}function e(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var i=["on","fire","off"],n=0;n<i.length;++n)if(t.hasOwnProperty(i[n]))throw new Error("Subject cannot be eventified, since it already has property '"+i[n]+"'")}return mp}var pp,i1;function MO(){return i1||(i1=1,pp="0.10.1"),pp}var gp,r1;function Tv(){if(r1)return gp;r1=1,gp=e;var r=va();function e(a){a=a||{},"uniqueLinkId"in a&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now own each graph
is considered to be not a multigraph by default (each edge is unique).`),a.multigraph=a.uniqueLinkId),a.multigraph===void 0&&(a.multigraph=!1);var l=typeof Object.create=="function"?Object.create(null):{},c=[],d={},u=0,h=0,f=je(),m=a.multigraph?Y:H,p=[],g=ot,v=ot,b=ot,S=ot,_={addNode:O,addLink:X,removeLink:D,removeNode:w,getNode:E,getNodesCount:function(){return u},getLinksCount:function(){return c.length},getLinks:k,forEachNode:f,forEachLinkedNode:ce,forEachLink:J,beginUpdate:b,endUpdate:S,clear:L,hasLink:M,hasNode:E,getLink:M};return r(_),x(),_;function x(){var de=_.on;_.on=pe;function pe(){return _.beginUpdate=b=Ot,_.endUpdate=S=gt,g=I,v=T,_.on=de,de.apply(_,arguments)}}function I(de,pe){p.push({link:de,changeType:pe})}function T(de,pe){p.push({node:de,changeType:pe})}function O(de,pe){if(de===void 0)throw new Error("Invalid node identifier");b();var He=E(de);return He?(He.data=pe,v(He,"update")):(He=new i(de,pe),u++,v(He,"add")),l[de]=He,S(),He}function E(de){return l[de]}function w(de){var pe=E(de);if(!pe)return!1;b();var He=pe.links;if(He){pe.links=null;for(var dt=0;dt<He.length;++dt)D(He[dt])}return delete l[de],u--,v(pe,"remove"),S(),!0}function X(de,pe,He){b();var dt=E(de)||O(de),Oe=E(pe)||O(pe),Gt=m(de,pe,He);return c.push(Gt),n(dt,Gt),de!==pe&&n(Oe,Gt),g(Gt,"add"),S(),Gt}function H(de,pe,He){var dt=o(de,pe);return new s(de,pe,He,dt)}function Y(de,pe,He){var dt=o(de,pe),Oe=d.hasOwnProperty(dt);if(Oe||M(de,pe)){Oe||(d[dt]=0);var Gt="@"+ ++d[dt];dt=o(de+Gt,pe+Gt)}return new s(de,pe,He,dt)}function k(de){var pe=E(de);return pe?pe.links:null}function D(de){if(!de)return!1;var pe=t(de,c);if(pe<0)return!1;b(),c.splice(pe,1);var He=E(de.fromId),dt=E(de.toId);return He&&(pe=t(de,He.links),pe>=0&&He.links.splice(pe,1)),dt&&(pe=t(de,dt.links),pe>=0&&dt.links.splice(pe,1)),g(de,"remove"),S(),!0}function M(de,pe){var He=E(de),dt;if(!He||!He.links)return null;for(dt=0;dt<He.links.length;++dt){var Oe=He.links[dt];if(Oe.fromId===de&&Oe.toId===pe)return Oe}return null}function L(){b(),f(function(de){w(de.id)}),S()}function J(de){var pe,He;if(typeof de=="function")for(pe=0,He=c.length;pe<He;++pe)de(c[pe])}function ce(de,pe,He){var dt=E(de);if(dt&&dt.links&&typeof pe=="function")return He?et(dt.links,de,pe):te(dt.links,de,pe)}function te(de,pe,He){for(var dt,Oe=0;Oe<de.length;++Oe){var Gt=de[Oe],ei=Gt.fromId===pe?Gt.toId:Gt.fromId;if(dt=He(l[ei],Gt),dt)return!0}}function et(de,pe,He){for(var dt,Oe=0;Oe<de.length;++Oe){var Gt=de[Oe];if(Gt.fromId===pe&&(dt=He(l[Gt.toId],Gt),dt))return!0}}function ot(){}function Ot(){h+=1}function gt(){h-=1,h===0&&p.length>0&&(_.fire("changed",p),p.length=0)}function je(){return Object.keys?At:It}function At(de){if(typeof de=="function"){for(var pe=Object.keys(l),He=0;He<pe.length;++He)if(de(l[pe[He]]))return!0}}function It(de){if(typeof de=="function"){var pe;for(pe in l)if(de(l[pe]))return!0}}}function t(a,l){if(!l)return-1;if(l.indexOf)return l.indexOf(a);var c=l.length,d;for(d=0;d<c;d+=1)if(l[d]===a)return d;return-1}function i(a,l){this.id=a,this.links=null,this.data=l}function n(a,l){a.links?a.links.push(l):a.links=[l]}function s(a,l,c,d){this.fromId=a,this.toId=l,this.data=c,this.id=d}function o(a,l){return a.toString()+" "+l.toString()}return gp}var vp,n1;function RO(){if(n1)return vp;n1=1,vp=e;var r=Tv();function e(i,n,s){var o;n=n||t,s=s||t,typeof i=="string"?o=JSON.parse(i):o=i;var a=r(),l;if(o.links===void 0||o.nodes===void 0)throw new Error("Cannot load graph without links and nodes");for(l=0;l<o.nodes.length;++l){var c=n(o.nodes[l]);if(!c.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");a.addNode(c.id,c.data)}for(l=0;l<o.links.length;++l){var d=s(o.links[l]);if(!d.hasOwnProperty("fromId")||!d.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");a.addLink(d.fromId,d.toId,d.data)}return a}function t(i){return i}return vp}var _p,s1;function FO(){if(s1)return _p;s1=1,_p=r;function r(e,t,i){var n={nodes:[],links:[]},s=t||c,o=i||d;return e.forEachNode(a),e.forEachLink(l),JSON.stringify(n);function a(u){n.nodes.push(s(u))}function l(u){n.links.push(o(u))}function c(u){var h={id:u.id};return u.data!==void 0&&(h.data=u.data),h}function d(u){var h={fromId:u.fromId,toId:u.toId};return u.data!==void 0&&(h.data=u.data),h}}return _p}var Xa={},yp,o1;function NO(){if(o1)return yp;o1=1,yp=r;function r(n,s){var o,a=Object.create(null);if(s=(s||"both").toLowerCase(),s==="both"||s==="inout")o=i;else if(s==="in")o=e;else if(s==="out")o=t;else throw new Error("Expected centrality degree kind is: in, out or both");return n.forEachNode(l),a;function l(c){var d=n.getLinks(c.id);a[c.id]=o(d,c.id)}}function e(n,s){var o=0;if(!n)return o;for(var a=0;a<n.length;a+=1)o+=n[a].toId===s?1:0;return o}function t(n,s){var o=0;if(!n)return o;for(var a=0;a<n.length;a+=1)o+=n[a].fromId===s?1:0;return o}function i(n){return n?n.length:0}return yp}var bp,a1;function zO(){if(a1)return bp;a1=1,bp=r;function r(e,t){var i=[],n=[],s=Object.create(null),o=Object.create(null),a=Object.create(null),l=Object.create(null),c,d=Object.create(null);return e.forEachNode(h),e.forEachNode(f),t||Object.keys(d).forEach(u),d;function u(v){d[v]/=2}function h(v){d[v.id]=0}function f(v){c=v.id,g(c),m()}function m(){for(e.forEachNode(p);n.length;){for(var v=n.pop(),b=(1+l[v])/a[v],S=s[v],_=0;_<S.length;++_){var x=S[_];l[x]+=a[x]*b}v!==c&&(d[v]+=l[v])}}function p(v){l[v.id]=0}function g(v){for(e.forEachNode(_),o[v]=0,a[v]=1,i.push(v);i.length;){var b=i.shift();n.push(b),e.forEachLinkedNode(b,S,t)}function S(I){x(I.id)}function _(I){var T=I.id;s[T]=[],o[T]=-1,a[T]=0}function x(I){o[I]===-1&&(o[I]=o[b]+1,i.push(I)),o[I]===o[b]+1&&(a[I]+=a[b],s[I].push(b))}}}return bp}var xp,l1;function BO(){if(l1)return xp;l1=1,xp=r;function r(e,t){var i=[],n=Object.create(null),s,o=Object.create(null);return e.forEachNode(a),e.forEachNode(l),o;function a(u){o[u.id]=0}function l(u){s=u.id,d(s),c()}function c(){var u=Object.keys(n).map(function(m){return n[m]}).filter(function(m){return m!==-1}),h=u.length,f=u.reduce(function(m,p){return m+p});f>0?o[s]=(h-1)/f:o[s]=0}function d(u){for(e.forEachNode(f),n[u]=0,i.push(u);i.length;){var h=i.shift();e.forEachLinkedNode(h,m,t)}function f(p){var g=p.id;n[g]=-1}function m(p){var g=p.id;n[g]===-1&&(n[g]=n[h]+1,i.push(g))}}}return xp}var wp,c1;function jO(){if(c1)return wp;c1=1,wp=r;function r(e,t){var i=[],n=Object.create(null),s,o=Object.create(null);return e.forEachNode(a),e.forEachNode(l),o;function a(u){o[u.id]=0}function l(u){s=u.id,d(s),c()}function c(){var u=0;Object.keys(n).forEach(function(h){var f=n[h];u<f&&(u=f)}),o[s]=u}function d(u){for(e.forEachNode(f),n[u]=0,i.push(u);i.length;){var h=i.shift();e.forEachLinkedNode(h,m,t)}function f(p){var g=p.id;n[g]=-1}function m(p){var g=p.id;n[g]===-1&&(n[g]=n[h]+1,i.push(g))}}}return wp}var d1;function GO(){return d1||(d1=1,Xa.degree=NO(),Xa.betweenness=zO(),Xa.closeness=BO(),Xa.eccentricity=jO()),Xa}var Sp,u1;function VO(){if(u1)return Sp;u1=1;var r=GO();Sp=e;function e(){return{betweennessCentrality:t,degreeCentrality:i}}function t(s){var o=r.betweenness(s);return n(o)}function i(s,o){var a=r.degree(s,o);return n(a)}function n(s){return Object.keys(s).sort(o).map(a);function o(l,c){return s[c]-s[l]}function a(l){return{key:l,value:s[l]}}}return Sp}var Tp,h1;function UO(){if(h1)return Tp;h1=1,Tp=r;function r(){return{density:function(e,t){var i=e.getNodesCount();return i===0?NaN:t?e.getLinksCount()/(i*(i-1)):2*e.getLinksCount()/(i*(i-1))}}}return Tp}var Cp,f1;function OT(){if(f1)return Cp;f1=1,Cp=r;function r(e,t,i,n,s,o,a,l){var c,d,u,h,f,m,p,g,v,b,S,_,x,I={x:0,y:0};return c=n-t,u=e-i,f=i*t-e*n,v=c*s+u*o+f,b=c*a+u*l+f,v!==0&&b!==0&&v>=0==b>=4||(d=l-o,h=s-a,m=a*o-s*l,p=d*e+h*t+m,g=d*i+h*n+m,p!==0&&g!==0&&p>=0==g>=0)||(S=c*h-d*u,S===0)?null:(_=S<0?-S/2:S/2,_=0,x=u*m-h*f,I.x=(x<0?x-_:x+_)/S,x=d*f-c*m,I.y=(x<0?x-_:x+_)/S,I)}return Cp}var kp,m1;function HO(){if(m1)return kp;m1=1;var r=OT();kp=e;function e(t,i,n,s,o,a,l,c){return r(t,i,t,s,o,a,l,c)||r(t,s,n,s,o,a,l,c)||r(n,s,n,i,o,a,l,c)||r(n,i,t,i,o,a,l,c)}return kp}var Ep,p1;function Sf(){if(p1)return Ep;p1=1,Ep=r;function r(i){return{createProgram:s,extendArray:o,copyArrayPart:e,swapArrayPart:t,getLocations:a,context:i};function n(l,c){var d=i.createShader(c);if(i.shaderSource(d,l),i.compileShader(d),!i.getShaderParameter(d,i.COMPILE_STATUS)){var u=i.getShaderInfoLog(d);throw window.alert(u),u}return d}function s(l,c){var d=i.createProgram(),u=n(l,i.VERTEX_SHADER),h=n(c,i.FRAGMENT_SHADER);if(i.attachShader(d,u),i.attachShader(d,h),i.linkProgram(d),!i.getProgramParameter(d,i.LINK_STATUS)){var f=i.getShaderInfoLog(d);throw window.alert(f),f}return d}function o(l,c,d){if((c+1)*d>l.length){var u=new Float32Array(l.length*d*2);return u.set(l),u}return l}function a(l,c){for(var d={},u=0;u<c.length;++u){var h=c[u],f=-1;if(h[0]==="a"&&h[1]==="_"){if(f=i.getAttribLocation(l,h),f===-1)throw new Error("Program doesn't have required attribute: "+h);d[h.slice(2)]=f}else if(h[0]==="u"&&h[1]==="_"){if(f=i.getUniformLocation(l,h),f===null)throw new Error("Program doesn't have required uniform: "+h);d[h.slice(2)]=f}else throw new Error("Couldn't figure out your intent. All uniforms should start with 'u_' prefix, and attributes with 'a_'")}return d}}function e(i,n,s,o){for(var a=0;a<o;++a)i[n+a]=i[s+a]}function t(i,n,s,o){for(var a=0;a<o;++a){var l=i[n+a];i[n+a]=i[s+a],i[s+a]=l}}return Ep}var Ap,g1;function IT(){if(g1)return Ap;g1=1,Ap=r();function r(){return{on:e,off:e,stop:e}}function e(){}return Ap}var Op,v1;function LT(){if(v1)return Op;v1=1;var r=IT();Op=e();function e(){return typeof document===void 0?r:{on:t,off:i}}function t(n,s){document.addEventListener(n,s)}function i(n,s){document.removeEventListener(n,s)}return Op}var Ip,_1;function PT(){if(_1)return Ip;_1=1;var r=LT();Ip=e;function e(t){if(t.webglInputEvents)return t.webglInputEvents;var i=null,n=[],s=[],o=[],a=[],l=[],c=[],d=[],u,h,f=t.getGraphicsRoot();Y(f);var m={mouseEnter:T,mouseLeave:I,mouseDown:x,mouseUp:_,mouseMove:S,click:b,dblClick:v,mouseCapture:g,releaseMouseCapture:p};return t.webglInputEvents=m,m;function p(){i=null}function g(k){i=k}function v(k){return typeof k=="function"&&d.push(k),m}function b(k){return typeof k=="function"&&c.push(k),m}function S(k){return typeof k=="function"&&l.push(k),m}function _(k){return typeof k=="function"&&a.push(k),m}function x(k){return typeof k=="function"&&o.push(k),m}function I(k){return typeof k=="function"&&s.push(k),m}function T(k){return typeof k=="function"&&n.push(k),m}function O(k,D,M){if(k&&k.size){var L=k.position,J=k.size;return L.x-J<D&&D<L.x+J&&L.y-J<M&&M<L.y+J}return!0}function E(k){return t.getNodeAtClientPos(k,O)}function w(k){k.stopPropagation?k.stopPropagation():k.cancelBubble=!0}function X(k){return w(k),!1}function H(k,D){var M,L;for(M=0;M<k.length;M+=1)if(L=k[M].apply(void 0,D),L)return!0}function Y(k){var D={x:0,y:0},M=null,L=1,J=+new Date,ce=function(ot){H(l,[M,ot]),D.x=ot.clientX,D.y=ot.clientY},te=function(){r.off("mousemove",ce),r.off("mouseup",te)},et=function(){h=k.getBoundingClientRect()};window.addEventListener("resize",et),et(),k.addEventListener("mousemove",function(ot){if(!i){L++%7===0&&(et(),L=1);var Ot=!1,gt;D.x=ot.clientX-h.left,D.y=ot.clientY-h.top,gt=E(D),gt&&M!==gt?(M&&H(s,[M]),M=gt,Ot=Ot||H(n,[M])):gt===null&&M!==gt&&(Ot=Ot||H(s,[M]),M=null),Ot&&w(ot)}}),k.addEventListener("mousedown",function(ot){var Ot=!1,gt;et(),D.x=ot.clientX-h.left,D.y=ot.clientY-h.top,gt=[E(D),ot],gt[0]?(Ot=H(o,gt),r.on("mousemove",ce),r.on("mouseup",te),u=window.document.onselectstart,window.document.onselectstart=X,M=gt[0]):M=null,Ot&&w(ot)}),k.addEventListener("mouseup",function(ot){var Ot=+new Date,gt;D.x=ot.clientX-h.left,D.y=ot.clientY-h.top;var je=E(D),At=je===M;gt=[je||M,ot],gt[0]&&(window.document.onselectstart=u,Ot-J<400&&At?H(d,gt):H(c,gt),J=Ot,H(a,gt)&&w(ot))})}}return Ip}var Xu={exports:{}},gc={exports:{}},y1;function XO(){if(y1)return gc.exports;y1=1,gc.exports=r,gc.exports.random=r,gc.exports.randomIterator=s;function r(o){var a=typeof o=="number"?o:+new Date;return new e(a)}function e(o){this.seed=o}e.prototype.next=n,e.prototype.nextDouble=i,e.prototype.uniform=i,e.prototype.gaussian=t;function t(){var o,a,l;do a=this.nextDouble()*2-1,l=this.nextDouble()*2-1,o=a*a+l*l;while(o>=1||o===0);return a*Math.sqrt(-2*Math.log(o)/o)}function i(){var o=this.seed;return o=o+2127912214+(o<<12)&4294967295,o=(o^3345072700^o>>>19)&4294967295,o=o+374761393+(o<<5)&4294967295,o=(o+3550635116^o<<9)&4294967295,o=o+4251993797+(o<<3)&4294967295,o=(o^3042594569^o>>>16)&4294967295,this.seed=o,(o&268435455)/268435456}function n(o){return Math.floor(this.nextDouble()*o)}function s(o,a){var l=a||r();if(typeof l.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:d,shuffle:c};function c(){var u,h,f;for(u=o.length-1;u>0;--u)h=l.next(u+1),f=o[h],o[h]=o[u],o[u]=f;return o}function d(u){var h,f,m;for(h=o.length-1;h>0;--h)f=l.next(h+1),m=o[f],o[f]=o[h],o[h]=m,u(m);o.length&&u(o[0])}}return gc.exports}var b1;function WO(){if(b1)return Xu.exports;b1=1;var r=Tv();Xu.exports=e(r),Xu.exports.factory=e;function e(t){return{ladder:i,complete:s,completeBipartite:o,balancedBinTree:d,path:a,circularLadder:n,grid:l,grid3:c,noLinks:u,wattsStrogatz:f,cliqueCircle:h};function i(m){if(!m||m<0)throw new Error("Invalid number of nodes");var p=t(),g;for(g=0;g<m-1;++g)p.addLink(g,g+1),p.addLink(m+g,m+g+1),p.addLink(g,m+g);return p.addLink(m-1,2*m-1),p}function n(m){if(!m||m<0)throw new Error("Invalid number of nodes");var p=i(m);return p.addLink(0,m-1),p.addLink(m,2*m-1),p}function s(m){if(!m||m<1)throw new Error("At least two nodes are expected for complete graph");var p=t(),g,v;for(g=0;g<m;++g)for(v=g+1;v<m;++v)g!==v&&p.addLink(g,v);return p}function o(m,p){if(!m||!p||m<0||p<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var g=t(),v,b;for(v=0;v<m;++v)for(b=m;b<m+p;++b)g.addLink(v,b);return g}function a(m){if(!m||m<0)throw new Error("Invalid number of nodes");var p=t(),g;for(p.addNode(0),g=1;g<m;++g)p.addLink(g-1,g);return p}function l(m,p){if(m<1||p<1)throw new Error("Invalid number of nodes in grid graph");var g=t(),v,b;if(m===1&&p===1)return g.addNode(0),g;for(v=0;v<m;++v)for(b=0;b<p;++b){var S=v+b*m;v>0&&g.addLink(S,v-1+b*m),b>0&&g.addLink(S,v+(b-1)*m)}return g}function c(m,p,g){if(m<1||p<1||g<1)throw new Error("Invalid number of nodes in grid3 graph");var v=t(),b,S,_;if(m===1&&p===1&&g===1)return v.addNode(0),v;for(_=0;_<g;++_)for(b=0;b<m;++b)for(S=0;S<p;++S){var x=_*m*p,I=b+S*m+x;b>0&&v.addLink(I,b-1+S*m+x),S>0&&v.addLink(I,b+(S-1)*m+x),_>0&&v.addLink(I,b+S*m+(_-1)*m*p)}return v}function d(m){if(m<0)throw new Error("Invalid number of nodes in balanced tree");var p=t(),g=Math.pow(2,m),v;for(m===0&&p.addNode(1),v=1;v<g;++v){var b=v,S=b*2,_=b*2+1;p.addLink(b,S),p.addLink(b,_)}return p}function u(m){if(m<0)throw new Error("Number of nodes should be >= 0");var p=t(),g;for(g=0;g<m;++g)p.addNode(g);return p}function h(m,p){if(m<1)throw new Error("Invalid number of cliqueCount in cliqueCircle");if(p<1)throw new Error("Invalid number of cliqueSize in cliqueCircle");for(var g=t(),v=0;v<m;++v)b(p,v*p),v>0&&g.addLink(v*p,v*p-1);return g.addLink(0,g.getNodesCount()-1),g;function b(S,_){for(var x=0;x<S;++x)g.addNode(x+_);for(var x=0;x<S;++x)for(var I=x+1;I<S;++I)g.addLink(x+_,I+_)}}function f(m,p,g,v){if(p>=m)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var b=XO().random(v||42),S=t(),_,x;for(_=0;_<m;++_)S.addNode(_);for(var I=Math.floor(p/2+1),T=1;T<I;++T)for(_=0;_<m;++_)x=(T+_)%m,S.addLink(_,x);for(T=1;T<I;++T)for(_=0;_<m;++_)if(b.nextDouble()<g){var O=_;x=(T+_)%m;var E=b.next(m),w=E===O||S.hasLink(O,E);if(w&&S.getLinks(O).length===m-1)continue;for(;w;)E=b.next(m),w=E===O||S.hasLink(O,E);var X=S.hasLink(O,x);S.removeLink(X),S.addLink(O,E)}return S}}return Xu.exports}var Lp,x1;function DT(){if(x1)return Lp;x1=1,Lp=r();function r(){if(typeof window=="undefined"||!window.hasOwnProperty("navigator"))return{browser:"",version:"0"};var e=window.navigator.userAgent.toLowerCase(),t=/(webkit)[ \/]([\w.]+)/,i=/(opera)(?:.*version)?[ \/]([\w.]+)/,n=/(msie) ([\w.]+)/,s=/(mozilla)(?:.*? rv:([\w.]+))?/,o=t.exec(e)||i.exec(e)||n.exec(e)||e.indexOf("compatible")<0&&s.exec(e)||[];return{browser:o[1]||"",version:o[2]||"0"}}return Lp}var Pp,w1;function MT(){if(w1)return Pp;w1=1,Pp=r;function r(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while((e=e.offsetParent)!==null);return[t,i]}return Pp}var Dp,S1;function Cv(){if(S1)return Dp;S1=1,Dp=i;var r=LT(),e=DT(),t=MT();function i(n){var s,o,a,l,c,d,u=0,h=0,f,m=!1,p=0,g=function(D){var M=0,L=0;return D=D||window.event,D.pageX||D.pageY?(M=D.pageX,L=D.pageY):(D.clientX||D.clientY)&&(M=D.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,L=D.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop),[M,L]},v=function(D,M,L){o&&o(D,{x:M-u,y:L-h}),u=M,h=L},b=function(D){D.stopPropagation?D.stopPropagation():D.cancelBubble=!0},S=function(D){D.preventDefault&&D.preventDefault()},_=function(D){return b(D),!1},x=function(D){D=D||window.event,v(D,D.clientX,D.clientY)},I=function(D){if(D=D||window.event,m)return b(D),!1;var M=D.button===1&&window.event!==null||D.button===0;if(M)return u=D.clientX,h=D.clientY,f=D.target||D.srcElement,s&&s(D,{x:u,y:h}),r.on("mousemove",x),r.on("mouseup",T),b(D),c=window.document.onselectstart,d=window.document.ondragstart,window.document.onselectstart=_,f.ondragstart=_,!1},T=function(D){D=D||window.event,r.off("mousemove",x),r.off("mouseup",T),window.document.onselectstart=c,f.ondragstart=d,f=null,a&&a(D)},O=function(D){if(typeof l=="function"){D=D||window.event,D.preventDefault&&D.preventDefault(),D.returnValue=!1;var M,L=g(D),J=t(n),ce={x:L[0]-J[0],y:L[1]-J[1]};D.wheelDelta?M=D.wheelDelta/360:M=D.detail/-9,l(D,M,ce)}},E=function(D){!l&&D?e.browser==="webkit"?n.addEventListener("mousewheel",O,!1):n.addEventListener("DOMMouseScroll",O,!1):l&&!D&&(e.browser==="webkit"?n.removeEventListener("mousewheel",O,!1):n.removeEventListener("DOMMouseScroll",O,!1)),l=D},w=function(D,M){return(D.clientX-M.clientX)*(D.clientX-M.clientX)+(D.clientY-M.clientY)*(D.clientY-M.clientY)},X=function(D){if(D.touches.length===1){b(D);var M=D.touches[0];v(D,M.clientX,M.clientY)}else if(D.touches.length===2){var L=w(D.touches[0],D.touches[1]),J=0;L<p?J=-1:L>p&&(J=1),l(D,J,{x:D.touches[0].clientX,y:D.touches[0].clientY}),p=L,b(D),S(D)}},H=function(D){m=!1,r.off("touchmove",X),r.off("touchend",H),r.off("touchcancel",H),f=null,a&&a(D)},Y=function(D,M){b(D),S(D),u=M.clientX,h=M.clientY,f=D.target||D.srcElement,s&&s(D,{x:u,y:h}),m||(m=!0,r.on("touchmove",X),r.on("touchend",H),r.on("touchcancel",H))},k=function(D){if(D.touches.length===1)return Y(D,D.touches[0]);D.touches.length===2&&(b(D),S(D),p=w(D.touches[0],D.touches[1]))};return n.addEventListener("mousedown",I),n.addEventListener("touchstart",k),{onStart:function(D){return s=D,this},onDrag:function(D){return o=D,this},onStop:function(D){return a=D,this},onScroll:function(D){return E(D),this},release:function(){n.removeEventListener("mousedown",I),n.removeEventListener("touchstart",k),r.off("mousemove",x),r.off("mouseup",T),r.off("touchmove",X),r.off("touchend",H),r.off("touchcancel",H),E(null)}}}return Dp}var Mp,T1;function kv(){if(T1)return Mp;T1=1,Mp=e;var r=Cv();function e(t,i){var n={};return{bindDragNDrop:s};function s(o,a){var l;if(a){var c=i.getNodeUI(o.id);l=r(c),typeof a.onStart=="function"&&l.onStart(a.onStart),typeof a.onDrag=="function"&&l.onDrag(a.onDrag),typeof a.onStop=="function"&&l.onStop(a.onStop),n[o.id]=l}else(l=n[o.id])&&(l.release(),delete n[o.id])}}return Mp}var Rp,C1;function RT(){if(C1)return Rp;C1=1,Rp=e;var r=PT();function e(t,i){var n=r(i),s=null,o={},a={x:0,y:0};return n.mouseDown(function(l,c){s=l,a.x=c.clientX,a.y=c.clientY,n.mouseCapture(s);var d=o[l.id];return d&&d.onStart&&d.onStart(c,a),!0}).mouseUp(function(l){n.releaseMouseCapture(s),s=null;var c=o[l.id];return c&&c.onStop&&c.onStop(),!0}).mouseMove(function(l,c){if(s){var d=o[s.id];return d&&d.onDrag&&d.onDrag(c,{x:c.clientX-a.x,y:c.clientY-a.y}),a.x=c.clientX,a.y=c.clientY,!0}}),{bindDragNDrop:function(l,c){o[l.id]=c,c||delete o[l.id]}}}return Rp}var Fp,k1;function FT(){if(k1)return Fp;k1=1,Fp=r();function r(){var t=0,i=["ms","moz","webkit","o"],n,s;for(typeof window!="undefined"?s=window:typeof Xi!="undefined"?s=Xi:s={setTimeout:e,clearTimeout:e},n=0;n<i.length&&!s.requestAnimationFrame;++n){var o=i[n];s.requestAnimationFrame=s[o+"RequestAnimationFrame"],s.cancelAnimationFrame=s[o+"CancelAnimationFrame"]||s[o+"CancelRequestAnimationFrame"]}return s.requestAnimationFrame||(s.requestAnimationFrame=l),s.cancelAnimationFrame||(s.cancelAnimationFrame=c),a;function a(d){var u;return h(),{stop:f,restart:m};function h(){u=s.requestAnimationFrame(h),d()||f()}function f(){s.cancelAnimationFrame(u),u=0}function m(){u||h()}}function l(d){var u=new Date().getTime(),h=Math.max(0,16-(u-t)),f=s.setTimeout(function(){d(u+h)},h);return t=u+h,f}function c(d){s.clearTimeout(d)}}function e(){}return Fp}var Np,E1;function NT(){if(E1)return Np;E1=1,Np=r;function r(e){if(!e)throw{message:"Cannot get dimensions of undefined container"};var t=e.clientWidth,i=e.clientHeight;return{left:0,top:0,width:t,height:i}}return Np}var zp,A1;function YO(){if(A1)return zp;A1=1;var r=va();zp=e;function e(t){if(console.log("This method is deprecated. Please use Viva.events() instead"),!t)return t;var i=t.on!==void 0||t.off!==void 0||t.fire!==void 0;if(i)return{extend:function(){return t},on:t.on,stop:t.off};return{extend:n,on:t.on,stop:t.off};function n(){var s=r(t);return s.addEventListener=s.on,s}}return zp}var Wu={exports:{}},Bp,O1;function qO(){if(O1)return Bp;O1=1,Bp=r;function r(e,t,i,n,s){this.from=e,this.to=t,this.length=i,this.coeff=n,this.weight=typeof s=="number"?s:1}return Bp}var jp,I1;function Ev(){if(I1)return jp;I1=1,jp=r;function r(t,i,n){var s=Object.prototype.toString.call(n)==="[object Array]";if(s)for(var o=0;o<n.length;++o)e(t,i,n[o]);else for(var a in t)e(t,i,a)}function e(t,i,n){if(t.hasOwnProperty(n)){if(typeof i[n]=="function")return;i[n]=function(s){return s!==void 0?(t[n]=s,i):t[n]}}}return jp}var Gp,L1;function ZO(){return L1||(L1=1,Gp=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}),Gp}var Vp,P1;function KO(){if(P1)return Vp;P1=1,Vp=r;function r(){this.stack=[],this.popIdx=0}r.prototype={isEmpty:function(){return this.popIdx===0},push:function(t,i){var n=this.stack[this.popIdx];n?(n.node=t,n.body=i):this.stack[this.popIdx]=new e(t,i),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};function e(t,i){this.node=t,this.body=i}return Vp}var Up,D1;function JO(){return D1||(D1=1,Up=function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return i<1e-8&&n<1e-8}),Up}var Hp,M1;function QO(){if(M1)return Hp;M1=1,Hp=function(t){t=t||{},t.gravity=typeof t.gravity=="number"?t.gravity:-1,t.theta=typeof t.theta=="number"?t.theta:.8;var i=_d.random(1984),n=ZO(),s=KO(),o=JO(),a=t.gravity,l=[],c=new s,d=t.theta,u=[],h=0,f=m();return{insertBodies:g,getRoot:function(){return f},updateBodyForce:p,options:function(b){return b?(typeof b.gravity=="number"&&(a=b.gravity),typeof b.theta=="number"&&(d=b.theta),this):{gravity:a,theta:d}}};function m(){var b=u[h];return b?(b.quad0=null,b.quad1=null,b.quad2=null,b.quad3=null,b.body=null,b.mass=b.massX=b.massY=0,b.left=b.right=b.top=b.bottom=0):(b=new n,u[h]=b),++h,b}function p(b){var S=l,_,x,I,T,O=0,E=0,w=1,X=0,H=1;for(S[0]=f;w;){var Y=S[X],k=Y.body;w-=1,X+=1;var D=k!==b;k&&D?(x=k.pos.x-b.pos.x,I=k.pos.y-b.pos.y,T=Math.sqrt(x*x+I*I),T===0&&(x=(i.nextDouble()-.5)/50,I=(i.nextDouble()-.5)/50,T=Math.sqrt(x*x+I*I)),_=a*k.mass*b.mass/(T*T*T),O+=_*x,E+=_*I):D&&(x=Y.massX/Y.mass-b.pos.x,I=Y.massY/Y.mass-b.pos.y,T=Math.sqrt(x*x+I*I),T===0&&(x=(i.nextDouble()-.5)/50,I=(i.nextDouble()-.5)/50,T=Math.sqrt(x*x+I*I)),(Y.right-Y.left)/T<d?(_=a*Y.mass*b.mass/(T*T*T),O+=_*x,E+=_*I):(Y.quad0&&(S[H]=Y.quad0,w+=1,H+=1),Y.quad1&&(S[H]=Y.quad1,w+=1,H+=1),Y.quad2&&(S[H]=Y.quad2,w+=1,H+=1),Y.quad3&&(S[H]=Y.quad3,w+=1,H+=1)))}b.force.x+=O,b.force.y+=E}function g(b){var S=Number.MAX_VALUE,_=Number.MAX_VALUE,x=Number.MIN_VALUE,I=Number.MIN_VALUE,T,O=b.length;for(T=O;T--;){var E=b[T].pos.x,w=b[T].pos.y;E<S&&(S=E),E>x&&(x=E),w<_&&(_=w),w>I&&(I=w)}var X=x-S,H=I-_;for(X>H?I=_+X:x=S+H,h=0,f=m(),f.left=S,f.right=x,f.top=_,f.bottom=I,T=O-1,T>=0&&(f.body=b[T]);T--;)v(b[T])}function v(b){for(c.reset(),c.push(f,b);!c.isEmpty();){var S=c.pop(),_=S.node,x=S.body;if(_.body){var k=_.body;if(_.body=null,o(k.pos,x.pos)){var D=3;do{var M=i.nextDouble(),L=(_.right-_.left)*M,J=(_.bottom-_.top)*M;k.pos.x=_.left+L,k.pos.y=_.top+J,D-=1}while(D>0&&o(k.pos,x.pos));if(D===0&&o(k.pos,x.pos))return}c.push(_,k),c.push(_,x)}else{var I=x.pos.x,T=x.pos.y;_.mass=_.mass+x.mass,_.massX=_.massX+x.mass*I,_.massY=_.massY+x.mass*T;var O=0,E=_.left,w=(_.right+E)/2,X=_.top,H=(_.bottom+X)/2;I>w&&(O=O+1,E=w,w=_.right),T>H&&(O=O+2,X=H,H=_.bottom);var Y=r(_,O);Y?c.push(Y,x):(Y=m(),Y.left=E,Y.top=X,Y.right=w,Y.bottom=H,Y.body=x,e(_,O,Y))}}}};function r(t,i){return i===0?t.quad0:i===1?t.quad1:i===2?t.quad2:i===3?t.quad3:null}function e(t,i,n){i===0?t.quad0=n:i===1?t.quad1=n:i===2?t.quad2=n:i===3&&(t.quad3=n)}return Hp}var Xp,R1;function $O(){return R1||(R1=1,Xp=function(r,e){var t=_d.random(42),i={x1:0,y1:0,x2:0,y2:0};return{box:i,update:n,reset:function(){i.x1=i.y1=0,i.x2=i.y2=0},getBestNewPosition:function(s){var o=i,a=0,l=0;if(s.length){for(var c=0;c<s.length;++c)a+=s[c].pos.x,l+=s[c].pos.y;a/=s.length,l/=s.length}else a=(o.x1+o.x2)/2,l=(o.y1+o.y2)/2;var d=e.springLength;return{x:a+t.next(d)-d/2,y:l+t.next(d)-d/2}}};function n(){var s=r.length;if(s!==0){for(var o=Number.MAX_VALUE,a=Number.MAX_VALUE,l=Number.MIN_VALUE,c=Number.MIN_VALUE;s--;){var d=r[s];d.isPinned?(d.pos.x=d.prevPos.x,d.pos.y=d.prevPos.y):(d.prevPos.x=d.pos.x,d.prevPos.y=d.pos.y),d.pos.x<o&&(o=d.pos.x),d.pos.x>l&&(l=d.pos.x),d.pos.y<a&&(a=d.pos.y),d.pos.y>c&&(c=d.pos.y)}i.x1=o,i.x2=l,i.y1=a,i.y2=c}}}),Xp}var Wp,F1;function eI(){return F1||(F1=1,Wp=function(r){var e=Hl(),t=Ev();r=e(r,{dragCoeff:.02});var i={update:function(n){n.force.x-=r.dragCoeff*n.velocity.x,n.force.y-=r.dragCoeff*n.velocity.y}};return t(r,i,["dragCoeff"]),i}),Wp}var Yp,N1;function tI(){return N1||(N1=1,Yp=function(r){var e=Hl(),t=_d.random(42),i=Ev();r=e(r,{springCoeff:2e-4,springLength:80});var n={update:function(s){var o=s.from,a=s.to,l=s.length<0?r.springLength:s.length,c=a.pos.x-o.pos.x,d=a.pos.y-o.pos.y,u=Math.sqrt(c*c+d*d);u===0&&(c=(t.nextDouble()-.5)/50,d=(t.nextDouble()-.5)/50,u=Math.sqrt(c*c+d*d));var h=u-l,f=(!s.coeff||s.coeff<0?r.springCoeff:s.coeff)*h/u*s.weight;o.force.x+=f*c,o.force.y+=f*d,a.force.x-=f*c,a.force.y-=f*d}};return i(r,n,["springCoeff","springLength"]),n}),Yp}var qp,z1;function iI(){if(z1)return qp;z1=1,qp=r;function r(e,t){var i=0,n=0,s=0,o=0,a,l=e.length;if(l===0)return 0;for(a=0;a<l;++a){var c=e[a],d=t/c.mass;c.velocity.x+=d*c.force.x,c.velocity.y+=d*c.force.y;var u=c.velocity.x,h=c.velocity.y,f=Math.sqrt(u*u+h*h);f>1&&(c.velocity.x=u/f,c.velocity.y=h/f),i=t*c.velocity.x,s=t*c.velocity.y,c.pos.x+=i,c.pos.y+=s,n+=Math.abs(i),o+=Math.abs(s)}return(n*n+o*o)/l}return qp}var Zp,B1;function rI(){if(B1)return Zp;B1=1,Zp={Body:r,Vector2d:e,Body3d:t,Vector3d:i};function r(n,s){this.pos=new e(n,s),this.prevPos=new e(n,s),this.force=new e,this.velocity=new e,this.mass=1}r.prototype.setPosition=function(n,s){this.prevPos.x=this.pos.x=n,this.prevPos.y=this.pos.y=s};function e(n,s){n&&typeof n!="number"?(this.x=typeof n.x=="number"?n.x:0,this.y=typeof n.y=="number"?n.y:0):(this.x=typeof n=="number"?n:0,this.y=typeof s=="number"?s:0)}e.prototype.reset=function(){this.x=this.y=0};function t(n,s,o){this.pos=new i(n,s,o),this.prevPos=new i(n,s,o),this.force=new i,this.velocity=new i,this.mass=1}t.prototype.setPosition=function(n,s,o){this.prevPos.x=this.pos.x=n,this.prevPos.y=this.pos.y=s,this.prevPos.z=this.pos.z=o};function i(n,s,o){n&&typeof n!="number"?(this.x=typeof n.x=="number"?n.x:0,this.y=typeof n.y=="number"?n.y:0,this.z=typeof n.z=="number"?n.z:0):(this.x=typeof n=="number"?n:0,this.y=typeof s=="number"?s:0,this.z=typeof o=="number"?o:0)}return i.prototype.reset=function(){this.x=this.y=this.z=0},Zp}var Kp,j1;function nI(){if(j1)return Kp;j1=1;var r=rI();return Kp=function(e){return new r.Body(e)},Kp}var Jp,G1;function V1(){if(G1)return Jp;G1=1,Jp=r;function r(e){var t=qO(),i=Ev(),n=Hl(),s=va();e=n(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20});var o=e.createQuadTree||QO(),a=e.createBounds||$O(),l=e.createDragForce||eI(),c=e.createSpringForce||tI(),d=e.integrator||iI(),u=e.createBody||nI(),h=[],f=[],m=o(e),p=a(h,e),g=c(e),v=l(e),b=!0,S=0,_={bodies:h,quadTree:m,springs:f,settings:e,step:function(){x();var I=d(h,e.timeStep);return p.update(),I},addBody:function(I){if(!I)throw new Error("Body is required");return h.push(I),I},addBodyAt:function(I){if(!I)throw new Error("Body position is required");var T=u(I);return h.push(T),T},removeBody:function(I){if(I){var T=h.indexOf(I);if(!(T<0))return h.splice(T,1),h.length===0&&p.reset(),!0}},addSpring:function(I,T,O,E,w){if(!I||!T)throw new Error("Cannot add null spring to force simulator");typeof O!="number"&&(O=-1);var X=new t(I,T,O,w>=0?w:-1,E);return f.push(X),X},getTotalMovement:function(){return S},removeSpring:function(I){if(I){var T=f.indexOf(I);if(T>-1)return f.splice(T,1),!0}},getBestNewBodyPosition:function(I){return p.getBestNewPosition(I)},getBBox:function(){return b&&(p.update(),b=!1),p.box},invalidateBBox:function(){b=!0},gravity:function(I){return I!==void 0?(e.gravity=I,m.options({gravity:I}),this):e.gravity},theta:function(I){return I!==void 0?(e.theta=I,m.options({theta:I}),this):e.theta}};return i(e,_),s(_),_;function x(){var I,T=h.length;if(T)for(m.insertBodies(h);T--;)I=h[T],I.isPinned||(I.force.reset(),m.updateBodyForce(I),v.update(I));for(T=f.length;T--;)g.update(f[T])}}return Jp}var Qp,U1;function sI(){if(U1)return Qp;U1=1,Qp=function(t){e(t);var i=r(t);return t.on=i.on,t.off=i.off,t.fire=i.fire,t};function r(t){var i=Object.create(null);return{on:function(n,s,o){if(typeof s!="function")throw new Error("callback is expected to be a function");var a=i[n];return a||(a=i[n]=[]),a.push({callback:s,ctx:o}),t},off:function(n,s){var o=typeof n=="undefined";if(o)return i=Object.create(null),t;if(i[n]){var a=typeof s!="function";if(a)delete i[n];else for(var l=i[n],c=0;c<l.length;++c)l[c].callback===s&&l.splice(c,1)}return t},fire:function(n){var s=i[n];if(!s)return t;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var a=0;a<s.length;++a){var l=s[a];l.callback.apply(l.ctx,o)}return t}}}function e(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var i=["on","fire","off"],n=0;n<i.length;++n)if(t.hasOwnProperty(i[n]))throw new Error("Subject cannot be eventified, since it already has property '"+i[n]+"'")}return Qp}var H1;function zT(){if(H1)return Wu.exports;H1=1,Wu.exports=e,Wu.exports.simulator=V1();var r=sI();function e(i,n){if(!i)throw new Error("Graph structure cannot be undefined");var s=V1(),o=s(n),a=Y;n&&typeof n.nodeMass=="function"&&(a=n.nodeMass);var l=Object.create(null),c={},d=0,u=o.settings.springTransform||t;_(),v();var h=!1,f={step:function(){if(d===0)return!0;var k=o.step();f.lastMove=k,f.fire("step");var D=k/d,M=D<=.01;return h!==M&&(h=M,b(M)),M},getNodePosition:function(k){return H(k).pos},setNodePosition:function(k){var D=H(k);D.setPosition.apply(D,Array.prototype.slice.call(arguments,1)),o.invalidateBBox()},getLinkPosition:function(k){var D=c[k];if(D)return{from:D.from.pos,to:D.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:m,pinNode:function(k,D){var M=H(k.id);M.isPinned=!!D},isNodePinned:function(k){return H(k.id).isPinned},dispose:function(){i.off("changed",S),f.fire("disposed")},getBody:g,getSpring:p,simulator:o,graph:i,lastMove:0};return r(f),f;function m(k){Object.keys(l).forEach(function(D){k(l[D],D)})}function p(k,D){var M;if(D===void 0)typeof k!="object"?M=k:M=k.id;else{var L=i.hasLink(k,D);if(!L)return;M=L.id}return c[M]}function g(k){return l[k]}function v(){i.on("changed",S)}function b(k){f.fire("stable",k)}function S(k){for(var D=0;D<k.length;++D){var M=k[D];M.changeType==="add"?(M.node&&x(M.node.id),M.link&&T(M.link)):M.changeType==="remove"&&(M.node&&I(M.node),M.link&&O(M.link))}d=i.getNodesCount()}function _(){d=0,i.forEachNode(function(k){x(k.id),d+=1}),i.forEachLink(T)}function x(k){var D=l[k];if(!D){var M=i.getNode(k);if(!M)throw new Error("initBody() was called with unknown node id");var L=M.position;if(!L){var J=E(M);L=o.getBestNewBodyPosition(J)}D=o.addBodyAt(L),D.id=k,l[k]=D,w(k),X(M)&&(D.isPinned=!0)}}function I(k){var D=k.id,M=l[D];M&&(l[D]=null,delete l[D],o.removeBody(M))}function T(k){w(k.fromId),w(k.toId);var D=l[k.fromId],M=l[k.toId],L=o.addSpring(D,M,k.length);u(k,L),c[k.id]=L}function O(k){var D=c[k.id];if(D){var M=i.getNode(k.fromId),L=i.getNode(k.toId);M&&w(M.id),L&&w(L.id),delete c[k.id],o.removeSpring(D)}}function E(k){var D=[];if(!k.links)return D;for(var M=Math.min(k.links.length,2),L=0;L<M;++L){var J=k.links[L],ce=J.fromId!==k.id?l[J.fromId]:l[J.toId];ce&&ce.pos&&D.push(ce)}return D}function w(k){var D=l[k];if(D.mass=a(k),Number.isNaN(D.mass))throw new Error("Node mass should be a number")}function X(k){return k&&(k.isPinned||k.data&&k.data.isPinned)}function H(k){var D=l[k];return D||(x(k),D=l[k]),D}function Y(k){var D=i.getLinks(k);return D?1+D.length/3:1}}function t(){}return Wu.exports}var $p,X1;function BT(){if(X1)return $p;X1=1,$p=r;function r(e,t,i,n){this.x1=e||0,this.y1=t||0,this.x2=i||0,this.y2=n||0}return $p}var eg,W1;function oI(){if(W1)return eg;W1=1,eg=i;var r=Hl(),e=_d.random,t=BT();function i(n,s){s=r(s,{maxX:1024,maxY:1024,seed:"Deterministic randomness made me do this"});var o=e(s.seed),a=new t(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),l={},c=function(v){return{x:o.next(s.maxX),y:o.next(s.maxY)}},d=function(v,b){v.x<b.x1&&(b.x1=v.x),v.x>b.x2&&(b.x2=v.x),v.y<b.y1&&(b.y1=v.y),v.y>b.y2&&(b.y2=v.y)},u=typeof Object.create=="function"?Object.create(null):{},h=function(v){u[v.id]=c(v),d(u[v.id],a)},f=function(){n.getNodesCount()!==0&&(a.x1=Number.MAX_VALUE,a.y1=Number.MAX_VALUE,a.x2=Number.MIN_VALUE,a.y2=Number.MIN_VALUE,n.forEachNode(h))},m=function(v){l[v.id]=v},p=function(v){for(var b=0;b<v.length;++b){var S=v[b];S.node&&(S.changeType==="add"?h(S.node):delete u[S.node.id]),S.link&&(S.changeType==="add"?m(S.link):delete l[S.link.id])}};return n.forEachNode(h),n.forEachLink(m),n.on("changed",p),{run:function(v){this.step()},step:function(){return f(),!0},getGraphRect:function(){return a},dispose:function(){n.off("change",p)},isNodePinned:function(v){return!0},pinNode:function(v,b){},getNodePosition:g,getLinkPosition:function(v){var b=l[v];return{from:g(b.fromId),to:g(b.toId)}},setNodePosition:function(v,b,S){var _=u[v];_&&(_.x=b,_.y=S)},placeNode:function(v){return typeof v=="function"?(c=v,f(),this):c(v)}};function g(v){return u[v]}}return eg}var tg,Y1;function jT(){if(Y1)return tg;Y1=1,tg=r;function r(e){this.canvas=window.document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.isDirty=!1,this.canvas.width=this.canvas.height=e}return tg}var ig,q1;function GT(){if(q1)return ig;q1=1;var r=jT();ig=e;function e(i){var n=Math.sqrt(i||1024)<<0,s=n,o=1,a={},l,c=0,d=[],u=[];if(!t(i))throw"Tiles per texture should be power of two.";var h={isDirty:!1,clearDirty:f,remove:m,getTextures:p,getCoordinates:g,load:v};return h;function f(){var O;for(h.isDirty=!1,O=0;O<d.length;++O)d[O].isDirty=!1}function m(O){var E=a[O];if(!E)return!1;if(delete a[O],o-=1,o===E.offset)return!0;var w=_(E.offset),X=_(o);T(X,w);var H=a[u[o]];return H.offset=E.offset,u[E.offset]=u[o],I(),!0}function p(){return d}function g(O){return a[O]}function v(O,E){if(a.hasOwnProperty(O))E(a[O]);else{var w=new window.Image,X=o;o+=1,w.crossOrigin="anonymous",w.onload=function(){I(),S(X,w,E)},w.src=O}}function b(){var O=new r(n*s);d.push(O)}function S(O,E,w){var X=_(O),H={offset:O};X.textureNumber>=d.length&&b();var Y=d[X.textureNumber];Y.ctx.drawImage(E,X.col*s,X.row*s,s,s),u[O]=E.src,a[E.src]=H,Y.isDirty=!0,w(H)}function _(O){var E=O/i<<0,w=O%i,X=w/n<<0,H=w%n;return{textureNumber:E,row:X,col:H}}function x(){h.isDirty=!0,c=0,l=null}function I(){l&&(window.clearTimeout(l),c+=1,l=null),c>10?x():l=window.setTimeout(x,400)}function T(O,E){var w=d[O.textureNumber].canvas,X=d[E.textureNumber].ctx,H=E.col*s,Y=E.row*s;X.drawImage(w,O.col*s,O.row*s,s,s,H,Y,s,s),d[O.textureNumber].isDirty=!0,d[E.textureNumber].isDirty=!0}}function t(i){return(i&i-1)===0}return ig}var rg,Z1;function aI(){if(Z1)return rg;Z1=1;var r=GT(),e=Sf();rg=t;function t(c){var o=18,a=i(),l=n(),c=c||1024,d,u,h,f,m,p,g=0,v=new Float32Array(64),b,S,_,x;return{load:O,position:E,createNode:w,removeNode:X,replaceProperties:H,updateTransform:Y,updateSize:k,render:D};function I(M,L){M.nativeObject&&h.deleteTexture(M.nativeObject);var J=h.createTexture();h.activeTexture(h["TEXTURE"+L]),h.bindTexture(h.TEXTURE_2D,J),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,M.canvas),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_NEAREST),h.generateMipmap(h.TEXTURE_2D),h.uniform1i(p["sampler"+L],L),M.nativeObject=J}function T(){if(d.isDirty){var M=d.getTextures(),L;for(L=0;L<M.length;++L)(M[L].isDirty||!M[L].nativeObject)&&I(M[L],L);d.clearDirty()}}function O(M){h=M,m=e(M),d=new r(c),u=m.createProgram(l,a),h.useProgram(u),p=m.getLocations(u,["a_vertexPos","a_customAttributes","u_screenSize","u_transform","u_sampler0","u_sampler1","u_sampler2","u_sampler3","u_tilesPerTexture"]),h.uniform1f(p.tilesPerTexture,c),h.enableVertexAttribArray(p.vertexPos),h.enableVertexAttribArray(p.customAttributes),f=h.createBuffer()}function E(M,L){var J=M.id*o;v[J]=L.x-M.size,v[J+1]=-L.y-M.size,v[J+2]=M._offset*4,v[J+3]=L.x+M.size,v[J+4]=-L.y-M.size,v[J+5]=M._offset*4+1,v[J+6]=L.x-M.size,v[J+7]=-L.y+M.size,v[J+8]=M._offset*4+2,v[J+9]=L.x-M.size,v[J+10]=-L.y+M.size,v[J+11]=M._offset*4+2,v[J+12]=L.x+M.size,v[J+13]=-L.y-M.size,v[J+14]=M._offset*4+1,v[J+15]=L.x+M.size,v[J+16]=-L.y+M.size,v[J+17]=M._offset*4+3}function w(M){v=m.extendArray(v,g,o),g+=1;var L=d.getCoordinates(M.src);L?M._offset=L.offset:(M._offset=0,d.load(M.src,function(J){M._offset=J.offset}))}function X(M){g>0&&(g-=1),M.id<g&&g>0&&(M.src&&d.remove(M.src),m.copyArrayPart(v,M.id*o,g*o,o))}function H(M,L){L._offset=M._offset}function Y(M){x=!0,_=M}function k(M,L){b=M,S=L,x=!0}function D(){h.useProgram(u),h.bindBuffer(h.ARRAY_BUFFER,f),h.bufferData(h.ARRAY_BUFFER,v,h.DYNAMIC_DRAW),x&&(x=!1,h.uniformMatrix4fv(p.transform,!1,_),h.uniform2f(p.screenSize,b,S)),h.vertexAttribPointer(p.vertexPos,2,h.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),h.vertexAttribPointer(p.customAttributes,1,h.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,2*4),T(),h.drawArrays(h.TRIANGLES,0,g*6)}}function i(){return["precision mediump float;","varying vec4 color;","varying vec3 vTextureCoord;","uniform sampler2D u_sampler0;","uniform sampler2D u_sampler1;","uniform sampler2D u_sampler2;","uniform sampler2D u_sampler3;","void main(void) {","   if (vTextureCoord.z == 0.) {","     gl_FragColor = texture2D(u_sampler0, vTextureCoord.xy);","   } else if (vTextureCoord.z == 1.) {","     gl_FragColor = texture2D(u_sampler1, vTextureCoord.xy);","   } else if (vTextureCoord.z == 2.) {","     gl_FragColor = texture2D(u_sampler2, vTextureCoord.xy);","   } else if (vTextureCoord.z == 3.) {","     gl_FragColor = texture2D(u_sampler3, vTextureCoord.xy);","   } else { gl_FragColor = vec4(0, 1, 0, 1); }","}"].join(`
`)}function n(){return["attribute vec2 a_vertexPos;","attribute float a_customAttributes;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","uniform float u_tilesPerTexture;","varying vec3 vTextureCoord;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0, 1);","float corner = mod(a_customAttributes, 4.);","float tileIndex = mod(floor(a_customAttributes / 4.), u_tilesPerTexture);","float tilesPerRow = sqrt(u_tilesPerTexture);","float tileSize = 1./tilesPerRow;","float tileColumn = mod(tileIndex, tilesPerRow);","float tileRow = floor(tileIndex/tilesPerRow);","if(corner == 0.0) {","  vTextureCoord.xy = vec2(0, 1);","} else if(corner == 1.0) {","  vTextureCoord.xy = vec2(1, 1);","} else if(corner == 2.0) {","  vTextureCoord.xy = vec2(0, 0);","} else {","  vTextureCoord.xy = vec2(1, 0);","}","vTextureCoord *= tileSize;","vTextureCoord.x += tileColumn * tileSize;","vTextureCoord.y += tileRow * tileSize;","vTextureCoord.z = floor(floor(a_customAttributes / 4.)/u_tilesPerTexture);","}"].join(`
`)}return rg}var ng,K1;function VT(){if(K1)return ng;K1=1;var r=Sf();ng=e;function e(){var t=6,i=2*(2*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT),n=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join(`
`),s=["attribute vec2 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0.0, 1.0);","   color = a_color.abgr;","}"].join(`
`),o,a,l,c,d,u=0,h,f=new ArrayBuffer(16*i),m=new Float32Array(f),p=new Uint32Array(f),g,v,b,S,_=function(){if((u+1)*i>f.byteLength){var x=new ArrayBuffer(f.byteLength*2),I=new Float32Array(x),T=new Uint32Array(x);T.set(p),m=I,p=T,f=x}};return{load:function(x){a=x,c=r(x),o=c.createProgram(s,n),a.useProgram(o),d=c.getLocations(o,["a_vertexPos","a_color","u_screenSize","u_transform"]),a.enableVertexAttribArray(d.vertexPos),a.enableVertexAttribArray(d.color),l=a.createBuffer()},position:function(x,I,T){var O=x.id,E=O*t;m[E]=I.x,m[E+1]=I.y,p[E+2]=x.color,m[E+3]=T.x,m[E+4]=T.y,p[E+5]=x.color},createLink:function(x){_(),u+=1,h=x.id},removeLink:function(x){u>0&&(u-=1),x.id<u&&u>0&&c.copyArrayPart(p,x.id*t,u*t,t)},updateTransform:function(x){S=!0,b=x},updateSize:function(x,I){g=x,v=I,S=!0},render:function(){a.useProgram(o),a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,f,a.DYNAMIC_DRAW),S&&(S=!1,a.uniformMatrix4fv(d.transform,!1,b),a.uniform2f(d.screenSize,g,v)),a.vertexAttribPointer(d.vertexPos,2,a.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(d.color,4,a.UNSIGNED_BYTE,!0,3*Float32Array.BYTES_PER_ELEMENT,2*4),a.drawArrays(a.LINES,0,u*2),h=u-1},bringToFront:function(x){h>x.id&&c.swapArrayPart(m,x.id*t,h*t,t),h>0&&(h-=1)},getFrontLinkId:function(){return h}}}return ng}var sg,J1;function UT(){if(J1)return sg;J1=1;var r=Sf();sg=e;function e(){var t=4,i=3*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT,n=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join(`
`),s=["attribute vec3 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos.xy/u_screenSize, 0, 1);","   gl_PointSize = a_vertexPos.z * u_transform[0][0];","   color = a_color.abgr;","}"].join(`
`),o,a,l,c,d,u=new ArrayBuffer(16*i),h=new Float32Array(u),f=new Uint32Array(u),m=0,p,g,v,b;return{load:_,position:x,updateTransform:I,updateSize:T,removeNode:O,createNode:E,replaceProperties:w,render:X};function S(){if((m+1)*i>=u.byteLength){var H=new ArrayBuffer(u.byteLength*2),Y=new Float32Array(H),k=new Uint32Array(H);k.set(f),h=Y,f=k,u=H}}function _(H){a=H,d=r(H),o=d.createProgram(s,n),a.useProgram(o),c=d.getLocations(o,["a_vertexPos","a_color","u_screenSize","u_transform"]),a.enableVertexAttribArray(c.vertexPos),a.enableVertexAttribArray(c.color),l=a.createBuffer()}function x(H,Y){var k=H.id;h[k*t]=Y.x,h[k*t+1]=-Y.y,h[k*t+2]=H.size,f[k*t+3]=H.color}function I(H){b=!0,v=H}function T(H,Y){p=H,g=Y,b=!0}function O(H){m>0&&(m-=1),H.id<m&&m>0&&d.copyArrayPart(f,H.id*t,m*t,t)}function E(){S(),m+=1}function w(){}function X(){a.useProgram(o),a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,u,a.DYNAMIC_DRAW),b&&(b=!1,a.uniformMatrix4fv(c.transform,!1,v),a.uniform2f(c.screenSize,p,g)),a.vertexAttribPointer(c.vertexPos,3,a.FLOAT,!1,t*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(c.color,4,a.UNSIGNED_BYTE,!0,t*Float32Array.BYTES_PER_ELEMENT,3*4),a.drawArrays(a.POINTS,0,m)}}return sg}var og,Q1;function Av(){if(Q1)return og;Q1=1,og=r;function r(e){var t=10414335;if(typeof e=="string"&&e)if(e.length===4&&(e=e.replace(/([^#])/g,"$1$1")),e.length===9)t=parseInt(e.substr(1),16);else if(e.length===7)t=parseInt(e.substr(1),16)<<8|255;else throw'Color expected in hex format with preceding "#". E.g. #00ff00. Got value: '+e;else typeof e=="number"&&(t=e);return t}return og}var ag,$1;function HT(){if($1)return ag;$1=1;var r=Av();ag=e;function e(t){return{color:r(t)}}return ag}var lg,ex;function XT(){if(ex)return lg;ex=1;var r=Av();lg=e;function e(t,i){return{size:typeof t=="number"?t:10,color:r(i)}}return lg}var cg,tx;function lI(){if(tx)return cg;tx=1,cg=r;function r(e,t){return{_texture:0,_offset:0,size:typeof e=="number"?e:32,src:t}}return cg}var dg,ix;function cI(){if(ix)return dg;ix=1,dg=a;var r=RT(),e=VT(),t=UT(),i=XT(),n=HT(),s=va(),o=Hl();function a(l){l=o(l,{enableBlending:!0,preserveDrawingBuffer:!1,clearColor:!1,clearColorValue:{r:1,g:1,b:1,a:1}});var c,d,u,h,f,m=0,p=0,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],v,b,S=[],_=[],x,I={},T={},O=e(),E=t(),w=function(L){return i()},X=function(L){return n(3014898687)},H=function(){O.updateTransform(g),E.updateTransform(g)},Y=function(){g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},k=function(){c&&d&&(h=d.width=Math.max(c.offsetWidth,1),f=d.height=Math.max(c.offsetHeight,1),u&&u.viewport(0,0,h,f),O&&O.updateSize(h/2,f/2),E&&E.updateSize(h/2,f/2))},D=function(L){L.fire("rescaled")};d=window.document.createElement("canvas");var M={getLinkUI:function(L){return T[L]},getNodeUI:function(L){return I[L]},node:function(L){if(typeof L=="function")return w=L,this},link:function(L){if(typeof L=="function")return X=L,this},placeNode:function(L){return v=L,this},placeLink:function(L){return b=L,this},inputManager:r,beginRender:function(){},endRender:function(){p>0&&O.render(),m>0&&E.render()},bringLinkToFront:function(L){var J=O.getFrontLinkId(),ce,te;O.bringToFront(L),J>L.id&&(ce=L.id,te=_[J],_[J]=_[ce],_[J].id=J,_[ce]=te,_[ce].id=ce)},graphCenterChanged:function(L,J){g[12]=2*L/h-1,g[13]=1-2*J/f,H()},addLink:function(L,J){var ce=p++,te=X(L);return te.id=ce,te.pos=J,O.createLink(te),_[ce]=te,T[L.id]=te,te},addNode:function(L,J){var ce=m++,te=w(L);return te.id=ce,te.position=J,te.node=L,E.createNode(te),S[ce]=te,I[L.id]=te,te},translateRel:function(L,J){g[12]+=2*g[0]*L/h/g[0],g[13]-=2*g[5]*J/f/g[5],H()},scale:function(L,J){var ce=2*J.x/h-1,te=1-2*J.y/f;return ce-=g[12],te-=g[13],g[12]+=ce*(1-L),g[13]+=te*(1-L),g[0]*=L,g[5]*=L,H(),D(this),g[0]},resetScale:function(){return Y(),u&&(k(),H()),this},updateSize:k,init:function(L){var J={};if(l.preserveDrawingBuffer&&(J.preserveDrawingBuffer=!0),c=L,k(),Y(),c.appendChild(d),u=d.getContext("experimental-webgl",J),!u){var ce="Could not initialize WebGL. Seems like the browser doesn't support it.";throw window.alert(ce),ce}if(l.enableBlending&&(u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),u.enable(u.BLEND)),l.clearColor){var te=l.clearColorValue;u.clearColor(te.r,te.g,te.b,te.a),this.beginRender=function(){u.clear(u.COLOR_BUFFER_BIT)}}O.load(u),O.updateSize(h/2,f/2),E.load(u),E.updateSize(h/2,f/2),H(),typeof x=="function"&&x(d)},release:function(L){d&&L&&L.removeChild(d)},isSupported:function(){var L=window.document.createElement("canvas"),J=L&&L.getContext&&L.getContext("experimental-webgl");return J},releaseLink:function(L){p>0&&(p-=1);var J=T[L.id];delete T[L.id],O.removeLink(J);var ce=J.id;if(ce<p){if(p===0||p===ce)return;var te=_[p];_[ce]=te,te.id=ce}},releaseNode:function(L){m>0&&(m-=1);var J=I[L.id];delete I[L.id],E.removeNode(J);var ce=J.id;if(ce<m){if(m===0||m===ce)return;var te=S[m];S[ce]=te,te.id=ce,E.replaceProperties(J,te)}},renderNodes:function(){for(var L={x:0,y:0},J=0;J<m;++J){var ce=S[J];L.x=ce.position.x,L.y=ce.position.y,v&&v(ce,L),E.position(ce,L)}},renderLinks:function(){if(!this.omitLinksRendering)for(var L={x:0,y:0},J={x:0,y:0},ce=0;ce<p;++ce){var te=_[ce],et=te.pos.from;J.x=et.x,J.y=-et.y,et=te.pos.to,L.x=et.x,L.y=-et.y,b&&b(te,J,L),O.position(te,J,L)}},getGraphicsRoot:function(L){return typeof L=="function"&&(d?L(d):x=L),d},setNodeProgram:function(L){if(!u&&L)E=L;else if(L)throw"Not implemented. Cannot swap shader on the fly... Yet."},setLinkProgram:function(L){if(!u&&L)O=L;else if(L)throw"Not implemented. Cannot swap shader on the fly... Yet."},transformClientToGraphCoordinates:function(L){return L.x=2*L.x/h-1,L.y=1-2*L.y/f,L.x=(L.x-g[12])/g[0],L.y=(L.y-g[13])/g[5],L.x=L.x*(h/2),L.y=L.y*(-f/2),L},transformGraphToClientCoordinates:function(L){return L.x=L.x/(h/2),L.y=L.y/(-f/2),L.x=L.x*g[0]+g[12],L.y=L.y*g[5]+g[13],L.x=(L.x+1)*h/2,L.y=(1-L.y)*f/2,L},getNodeAtClientPos:function(L,J){if(typeof J!="function")return null;this.transformClientToGraphCoordinates(L);for(var ce=0;ce<m;++ce)if(J(S[ce],L.x,L.y))return S[ce].node;return null}};return s(M),M}return dg}var ug,rx;function dI(){if(rx)return ug;rx=1,ug=r();function r(){return typeof DOMParser=="undefined"?{parseFromString:e}:new DOMParser}function e(){throw new Error("DOMParser is not supported by this platform. Please open issue here https://github.com/anvaka/simplesvg")}return ug}var hg,nx;function uI(){if(nx)return hg;nx=1;var r=dI(),e=Ov();hg=t;function t(n){try{return n=i(n),e(r.parseFromString(n,"text/xml").documentElement)}catch(s){throw s}}function i(n){if(n){var s='xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"',o=n.match(/^<\w+/);if(o){var a=o[0].length;return n.substr(0,a)+" "+s+" "+n.substr(a)}else throw new Error("Cannot parse input text: invalid xml?")}}return hg}var fg,sx;function hI(){if(sx)return fg;sx=1,fg=e;var r=/{{(.+?)}}/;function e(s){var o=Object.create(null);return t(s,o),{link:function(a){Object.keys(o).forEach(function(c){var d=o[c];d.forEach(l)});function l(c){c(a)}}}}function t(s,o){var a=s.nodeType,l=a===1||a===3;if(l){var c;if(s.hasChildNodes()){var d=s.childNodes;for(c=0;c<d.length;++c)t(d[c],o)}if(a===3&&n(s,o),!!s.attributes){var u=s.attributes;for(c=0;c<u.length;++c)i(u[c],s,o)}}}function i(s,o,a){var l=s.value;if(!l)return;var c=l.match(r);if(!c)return;var d=s.localName,u=c[1],h=u.indexOf(".")<0;if(!h)throw new Error("simplesvg currently does not support nested bindings");var f=a[u];f?f.push(m):f=a[u]=[m];function m(p){o.setAttributeNS(null,d,p[u])}}function n(s,o){var a=s.nodeValue;if(!a)return;var l=a.match(r);if(!l)return;var c=l[1];c.indexOf(".")<0;var d=o[c];d?d.push(u):d=o[c]=[u];function u(h){s.nodeValue=h[c]}}return fg}var mg,ox;function fI(){if(ox)return mg;ox=1,e.removeEventListener=t,e.addEventListener=e,mg=e;var r=null;function e(a,l,c,d){return r=r||(document.addEventListener?{add:i,rm:n}:{add:s,rm:o}),r.add(a,l,c,d)}function t(a,l,c,d){return r=r||(document.addEventListener?{add:i,rm:n}:{add:s,rm:o}),r.rm(a,l,c,d)}function i(a,l,c,d){a.addEventListener(l,c,d)}function n(a,l,c,d){a.removeEventListener(l,c,d)}function s(a,l,c,d){if(d)throw new Error("cannot useCapture in oldIE");a.attachEvent("on"+l,c)}function o(a,l,c,d){a.detachEvent("on"+l,c)}return mg}var pg,ax;function Ov(){if(ax)return pg;ax=1,pg=n,n.compile=uI();var r=n.compileTemplate=hI(),e=fI(),t="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xlink";function n(o,a){var l=s(o);if(a===void 0)return l;for(var c=Object.keys(a),d=0;d<c.length;++d){var u=c[d],h=a[u];u==="link"?l.link(h):l.attr(u,h)}return l}function s(o){var a=o;if(typeof o=="string")a=window.document.createElementNS(t,o);else if(o.simplesvg)return o;var l;return a.simplesvg=!0,a.attr=f,a.append=h,a.link=m,a.text=p,a.on=d,a.off=u,a.dataSource=c,a;function c(g){return l||(l=r(a)),l.link(g),a}function d(g,v,b){return e.addEventListener(a,g,v,b),a}function u(g,v,b){return e.removeEventListener(a,g,v,b),a}function h(g){var v=n(g);return a.appendChild(v),v}function f(g,v){return arguments.length===2?(v!==null?a.setAttributeNS(null,g,v):a.removeAttributeNS(null,g),a):a.getAttributeNS(null,g)}function m(g){return arguments.length?(a.setAttributeNS(i,"xlink:href",g),a):a.getAttributeNS(i,"xlink:href")}function p(g){return g!==void 0?(a.textContent=g,a):a.textContent}}return pg}var gg,lx;function WT(){if(lx)return gg;lx=1,gg=i;var r=Ov(),e=va(),t=kv();function i(){var n,s,o=0,a=0,l,c=1,d={},u={},h=function(T){return r("rect").attr("width",10).attr("height",10).attr("fill","#00a2e8")},f=function(T,O){T.attr("x",O.x-5).attr("y",O.y-5)},m=function(T){return r("line").attr("stroke","#999")},p=function(T,O,E){T.attr("x1",O.x).attr("y1",O.y).attr("x2",E.x).attr("y2",E.y)},g=function(T){T.fire("rescaled")},v={x:0,y:0},b={x:0,y:0},S={x:0,y:0},_=function(){if(n){var T="matrix("+c+", 0, 0,"+c+","+o+","+a+")";n.attr("transform",T)}};s=I();var x={getNodeUI:function(T){return d[T]},getLinkUI:function(T){return u[T]},node:function(T){if(typeof T=="function")return h=T,this},link:function(T){if(typeof T=="function")return m=T,this},placeNode:function(T){return f=T,this},placeLink:function(T){return p=T,this},beginRender:function(){},endRender:function(){},graphCenterChanged:function(T,O){o=T,a=O,_()},inputManager:t,translateRel:function(T,O){var E=s.createSVGPoint(),w=n.getCTM(),X=s.createSVGPoint().matrixTransform(w.inverse());E.x=T,E.y=O,E=E.matrixTransform(w.inverse()),E.x=(E.x-X.x)*w.a,E.y=(E.y-X.y)*w.d,w.e+=E.x,w.f+=E.y;var H="matrix("+w.a+", 0, 0,"+w.d+","+w.e+","+w.f+")";n.attr("transform",H)},scale:function(T,O){var E=s.createSVGPoint();E.x=O.x,E.y=O.y,E=E.matrixTransform(n.getCTM().inverse());var w=s.createSVGMatrix().translate(E.x,E.y).scale(T).translate(-E.x,-E.y),X=n.getCTM().multiply(w);c=X.a,o=X.e,a=X.f;var H="matrix("+X.a+", 0, 0,"+X.d+","+X.e+","+X.f+")";return n.attr("transform",H),g(this),c},resetScale:function(){c=1;var T="matrix(1, 0, 0, 1, 0, 0)";return n.attr("transform",T),g(this),this},init:function(T){T.appendChild(s),_(),typeof l=="function"&&l(s)},release:function(T){s&&T&&T.removeChild(s)},addLink:function(T,O){var E=m(T);if(E)return E.position=O,E.link=T,u[T.id]=E,n.childElementCount>0?n.insertBefore(E,n.firstChild):n.appendChild(E),E},releaseLink:function(T){var O=u[T.id];O&&(n.removeChild(O),delete u[T.id])},addNode:function(T,O){var E=h(T);if(E)return E.position=O,E.node=T,d[T.id]=E,n.appendChild(E),E},releaseNode:function(T){var O=d[T.id];O&&(n.removeChild(O),delete d[T.id])},renderNodes:function(){for(var T in d)if(d.hasOwnProperty(T)){var O=d[T];v.x=O.position.x,v.y=O.position.y,f(O,v,O.node)}},renderLinks:function(){for(var T in u)if(u.hasOwnProperty(T)){var O=u[T];b.x=O.position.from.x,b.y=O.position.from.y,S.x=O.position.to.x,S.y=O.position.to.y,p(O,b,S,O.link)}},getGraphicsRoot:function(T){return typeof T=="function"&&(s?T(s):l=T),s},getSvgRoot:function(){return s}};return e(x),x;function I(){var T=r("svg");return n=r("g").attr("buffered-rendering","dynamic"),T.appendChild(n),T}}return gg}var vg,cx;function mI(){if(cx)return vg;cx=1;var r=IT();vg=e();function e(){return typeof window=="undefined"?r:{on:t,off:i}}function t(n,s){window.addEventListener(n,s)}function i(n,s){window.removeEventListener(n,s)}return vg}var _g,dx;function pI(){if(dx)return _g;dx=1,_g=l;var r=va(),e=zT(),t=WT(),i=mI(),n=kv(),s=FT(),o=NT(),a=Cv();function l(c,d){var u=30;d=d||{};var h=d.layout,f=d.graphics,m=d.container,p=d.interactive!==void 0?d.interactive:!0,g,v,b=!1,S=!0,_=!1,x=!1,I=!1,T={offsetX:0,offsetY:0,scale:1},O=r({}),E;return{run:function(rt){return b||(X(),M(),gt(),L(),Gt(),b=!0),k(rt),this},reset:function(){f.resetScale(),L(),T.scale=1},pause:function(){I=!0,v.stop()},resume:function(){I=!1,v.restart()},rerender:function(){return H(),this},zoomOut:function(){return Oe(!0)},zoomIn:function(){return Oe(!1)},getTransform:function(){return T},moveTo:function(rt,_t){f.graphCenterChanged(T.offsetX-rt*T.scale,T.offsetY-_t*T.scale),H()},getGraphics:function(){return f},getLayout:function(){return h},dispose:function(){ei()},on:function(rt,_t){return O.on(rt,_t),this},off:function(rt,_t){return O.off(rt,_t),this}};function w(rt){return typeof p=="string"?p.indexOf(rt)>=0:typeof p=="boolean"?p:!0}function X(){m=m||window.document.body,h=h||e(c,{springLength:80,springCoeff:2e-4}),f=f||t(c,{container:m}),d.hasOwnProperty("renderLinks")||(d.renderLinks=!0),d.prerender=d.prerender||0,g=(f.inputManager||n)(c,f)}function H(){f.beginRender(),d.renderLinks&&f.renderLinks(),f.renderNodes(),f.endRender()}function Y(){return _=h.step()&&!x,H(),!_}function k(rt){v||(rt!==void 0?v=s(function(){if(rt-=1,rt<0){var _t=!1;return _t}return Y()},u):v=s(Y,u))}function D(){I||(_=!1,v.restart())}function M(){if(typeof d.prerender=="number"&&d.prerender>0)for(var rt=0;rt<d.prerender;rt+=1)h.step()}function L(){var rt=h.getGraphRect(),_t=o(m),vi=(rt.x2+rt.x1)/2,Si=(rt.y2+rt.y1)/2;T.offsetX=_t.width/2-(vi*T.scale-vi),T.offsetY=_t.height/2-(Si*T.scale-Si),f.graphCenterChanged(T.offsetX,T.offsetY),S=!1}function J(rt){var _t=h.getNodePosition(rt.id);f.addNode(rt,_t)}function ce(rt){f.releaseNode(rt)}function te(rt){var _t=h.getLinkPosition(rt.id);f.addLink(rt,_t)}function et(rt){f.releaseLink(rt)}function ot(rt){if(w("node")){var _t=!1;g.bindDragNDrop(rt,{onStart:function(){_t=h.isNodePinned(rt),h.pinNode(rt,!0),x=!0,D()},onDrag:function(vi,Si){var Vs=h.getNodePosition(rt.id);h.setNodePosition(rt.id,Vs.x+Si.x/T.scale,Vs.y+Si.y/T.scale),x=!0,H()},onStop:function(){h.pinNode(rt,_t),x=!1}})}}function Ot(rt){g.bindDragNDrop(rt,null)}function gt(){f.init(m),c.forEachNode(J),d.renderLinks&&c.forEachLink(te)}function je(){f.release(m)}function At(rt){var _t=rt.node;rt.changeType==="add"?(J(_t),ot(_t),S&&L()):rt.changeType==="remove"?(Ot(_t),ce(_t),c.getNodesCount()===0&&(S=!0)):rt.changeType==="update"&&(Ot(_t),ce(_t),J(_t),ot(_t))}function It(rt){var _t=rt.link;if(rt.changeType==="add")d.renderLinks&&te(_t);else if(rt.changeType==="remove")d.renderLinks&&et(_t);else if(rt.changeType==="update")throw"Update type is not implemented. TODO: Implement me!"}function de(rt){var _t,vi;for(_t=0;_t<rt.length;_t+=1)vi=rt[_t],vi.node?At(vi):vi.link&&It(vi);D()}function pe(){L(),Y()}function He(){E&&(E.release(),E=null)}function dt(){c.off("changed",de)}function Oe(rt,_t){if(!_t){var vi=o(m);_t={x:vi.width/2,y:vi.height/2}}var Si=Math.pow(1+.4,rt?-.2:.2);return T.scale=f.scale(Si,_t),H(),O.fire("scale",T.scale),T.scale}function Gt(){i.on("resize",pe),He(),w("drag")&&(E=a(m),E.onDrag(function(rt,_t){f.translateRel(_t.x,_t.y),H(),O.fire("drag",_t)})),w("scroll")&&(E||(E=a(m)),E.onScroll(function(rt,_t,vi){Oe(_t<0,vi)})),c.forEachNode(ot),dt(),c.on("changed",de)}function ei(){b=!1,dt(),He(),i.off("resize",pe),O.off(),v.stop(),c.forEachLink(function(rt){d.renderLinks&&et(rt)}),c.forEachNode(function(rt){Ot(rt),ce(rt)}),h.dispose(),je()}}return _g}var Yu=_d,YT={lazyExtend:function(){return Hl().apply(this,arguments)},randomIterator:function(){return Yu.randomIterator.apply(Yu,arguments)},random:function(){return Yu.random.apply(Yu,arguments)},events:va()};YT.Graph={version:MO(),graph:Tv(),serializer:function(){return{loadFromJSON:RO(),storeToJSON:FO()}},centrality:VO(),operations:UO(),geom:function(){return{intersect:OT(),intersectRect:HO()}},webgl:Sf(),webglInputEvents:PT(),generator:function(){return WO()},Input:{domInputManager:kv(),webglInputManager:RT()},Utils:{dragndrop:Cv(),findElementPosition:MT(),timer:FT(),getDimension:NT(),events:YO()},Layout:{forceDirected:zT(),constant:oI()},View:{Texture:jT(),webglAtlas:GT(),webglImageNodeProgram:aI(),webglLinkProgram:VT(),webglNodeProgram:UT(),webglLine:HT(),webglSquare:XT(),webglImage:lI(),webglGraphics:cI(),_webglUtil:{parseColor:Av()},svgGraphics:WT(),renderer:pI(),cssGraphics:function(){throw new Error("cssGraphics is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},svgNodeFactory:function(){throw new Error("svgNodeFactory is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},community:function(){throw new Error("community is deprecated. Please use vivagraph < 0.7 if you need it, or `https://github.com/anvaka/ngraph.slpa` module")}},Rect:BT(),svg:Ov(),BrowserInfo:DT()};var gI=YT;const Mc=Sv(gI);function vI(r,e){return Mc.Graph.Layout.forceDirected(r,e)}function _I(r,e){var t,i=1;r==null&&(r=0),e==null&&(e=0);function n(){var s,o=t.length,a,l=0,c=0;for(s=0;s<o;++s)a=t[s],l+=a.x,c+=a.y;for(l=(l/o-r)*i,c=(c/o-e)*i,s=0;s<o;++s)a=t[s],a.x-=l,a.y-=c}return n.initialize=function(s){t=s},n.x=function(s){return arguments.length?(r=+s,n):r},n.y=function(s){return arguments.length?(e=+s,n):e},n.strength=function(s){return arguments.length?(i=+s,n):i},n}function yI(r){const e=+this._x.call(null,r),t=+this._y.call(null,r);return qT(this.cover(e,t),e,t,r)}function qT(r,e,t,i){if(isNaN(e)||isNaN(t))return r;var n,s=r._root,o={data:i},a=r._x0,l=r._y0,c=r._x1,d=r._y1,u,h,f,m,p,g,v,b;if(!s)return r._root=o,r;for(;s.length;)if((p=e>=(u=(a+c)/2))?a=u:c=u,(g=t>=(h=(l+d)/2))?l=h:d=h,n=s,!(s=s[v=g<<1|p]))return n[v]=o,r;if(f=+r._x.call(null,s.data),m=+r._y.call(null,s.data),e===f&&t===m)return o.next=s,n?n[v]=o:r._root=o,r;do n=n?n[v]=new Array(4):r._root=new Array(4),(p=e>=(u=(a+c)/2))?a=u:c=u,(g=t>=(h=(l+d)/2))?l=h:d=h;while((v=g<<1|p)===(b=(m>=h)<<1|f>=u));return n[b]=s,n[v]=o,r}function bI(r){var e,t,i=r.length,n,s,o=new Array(i),a=new Array(i),l=1/0,c=1/0,d=-1/0,u=-1/0;for(t=0;t<i;++t)isNaN(n=+this._x.call(null,e=r[t]))||isNaN(s=+this._y.call(null,e))||(o[t]=n,a[t]=s,n<l&&(l=n),n>d&&(d=n),s<c&&(c=s),s>u&&(u=s));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),t=0;t<i;++t)qT(this,o[t],a[t],r[t]);return this}function xI(r,e){if(isNaN(r=+r)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,n=this._x1,s=this._y1;if(isNaN(t))n=(t=Math.floor(r))+1,s=(i=Math.floor(e))+1;else{for(var o=n-t||1,a=this._root,l,c;t>r||r>=n||i>e||e>=s;)switch(c=(e<i)<<1|r<t,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:n=t+o,s=i+o;break;case 1:t=n-o,s=i+o;break;case 2:n=t+o,i=s-o;break;case 3:t=n-o,i=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._y0=i,this._x1=n,this._y1=s,this}function wI(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r}function SI(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gr(r,e,t,i,n){this.node=r,this.x0=e,this.y0=t,this.x1=i,this.y1=n}function TI(r,e,t){var i,n=this._x0,s=this._y0,o,a,l,c,d=this._x1,u=this._y1,h=[],f=this._root,m,p;for(f&&h.push(new Gr(f,n,s,d,u)),t==null?t=1/0:(n=r-t,s=e-t,d=r+t,u=e+t,t*=t);m=h.pop();)if(!(!(f=m.node)||(o=m.x0)>d||(a=m.y0)>u||(l=m.x1)<n||(c=m.y1)<s))if(f.length){var g=(o+l)/2,v=(a+c)/2;h.push(new Gr(f[3],g,v,l,c),new Gr(f[2],o,v,g,c),new Gr(f[1],g,a,l,v),new Gr(f[0],o,a,g,v)),(p=(e>=v)<<1|r>=g)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=m)}else{var b=r-+this._x.call(null,f.data),S=e-+this._y.call(null,f.data),_=b*b+S*S;if(_<t){var x=Math.sqrt(t=_);n=r-x,s=e-x,d=r+x,u=e+x,i=f.data}}return i}function CI(r){if(isNaN(d=+this._x.call(null,r))||isNaN(u=+this._y.call(null,r)))return this;var e,t=this._root,i,n,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,h,f,m,p,g,v;if(!t)return this;if(t.length)for(;;){if((m=d>=(h=(o+l)/2))?o=h:l=h,(p=u>=(f=(a+c)/2))?a=f:c=f,e=t,!(t=t[g=p<<1|m]))return this;if(!t.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(i=e,v=g)}for(;t.data!==r;)if(n=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,n?(s?n.next=s:delete n.next,this):e?(s?e[g]=s:delete e[g],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[v]=t:this._root=t),this):(this._root=s,this)}function kI(r){for(var e=0,t=r.length;e<t;++e)this.remove(r[e]);return this}function EI(){return this._root}function AI(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r}function OI(r){var e=[],t,i=this._root,n,s,o,a,l;for(i&&e.push(new Gr(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!r(i=t.node,s=t.x0,o=t.y0,a=t.x1,l=t.y1)&&i.length){var c=(s+a)/2,d=(o+l)/2;(n=i[3])&&e.push(new Gr(n,c,d,a,l)),(n=i[2])&&e.push(new Gr(n,s,d,c,l)),(n=i[1])&&e.push(new Gr(n,c,o,a,d)),(n=i[0])&&e.push(new Gr(n,s,o,c,d))}return this}function II(r){var e=[],t=[],i;for(this._root&&e.push(new Gr(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var n=i.node;if(n.length){var s,o=i.x0,a=i.y0,l=i.x1,c=i.y1,d=(o+l)/2,u=(a+c)/2;(s=n[0])&&e.push(new Gr(s,o,a,d,u)),(s=n[1])&&e.push(new Gr(s,d,a,l,u)),(s=n[2])&&e.push(new Gr(s,o,u,d,c)),(s=n[3])&&e.push(new Gr(s,d,u,l,c))}t.push(i)}for(;i=t.pop();)r(i.node,i.x0,i.y0,i.x1,i.y1);return this}function LI(r){return r[0]}function PI(r){return arguments.length?(this._x=r,this):this._x}function DI(r){return r[1]}function MI(r){return arguments.length?(this._y=r,this):this._y}function Iv(r,e,t){var i=new Lv(e==null?LI:e,t==null?DI:t,NaN,NaN,NaN,NaN);return r==null?i:i.addAll(r)}function Lv(r,e,t,i,n,s){this._x=r,this._y=e,this._x0=t,this._y0=i,this._x1=n,this._y1=s,this._root=void 0}function ux(r){for(var e={data:r.data},t=e;r=r.next;)t=t.next={data:r.data};return e}var Hr=Iv.prototype=Lv.prototype;Hr.copy=function(){var r=new Lv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return r;if(!e.length)return r._root=ux(e),r;for(t=[{source:e,target:r._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(i=e.source[n])&&(i.length?t.push({source:i,target:e.target[n]=new Array(4)}):e.target[n]=ux(i));return r};Hr.add=yI;Hr.addAll=bI;Hr.cover=xI;Hr.data=wI;Hr.extent=SI;Hr.find=TI;Hr.remove=CI;Hr.removeAll=kI;Hr.root=EI;Hr.size=AI;Hr.visit=OI;Hr.visitAfter=II;Hr.x=PI;Hr.y=MI;function Vr(r){return function(){return r}}function go(r){return(r()-.5)*1e-6}function RI(r){return r.x+r.vx}function FI(r){return r.y+r.vy}function NI(r){var e,t,i,n=1,s=1;typeof r!="function"&&(r=Vr(r==null?1:+r));function o(){for(var c,d=e.length,u,h,f,m,p,g,v=0;v<s;++v)for(u=Iv(e,RI,FI).visitAfter(a),c=0;c<d;++c)h=e[c],p=t[h.index],g=p*p,f=h.x+h.vx,m=h.y+h.vy,u.visit(b);function b(S,_,x,I,T){var O=S.data,E=S.r,w=p+E;if(O){if(O.index>h.index){var X=f-O.x-O.vx,H=m-O.y-O.vy,Y=X*X+H*H;Y<w*w&&(X===0&&(X=go(i),Y+=X*X),H===0&&(H=go(i),Y+=H*H),Y=(w-(Y=Math.sqrt(Y)))/Y*n,h.vx+=(X*=Y)*(w=(E*=E)/(g+E)),h.vy+=(H*=Y)*w,O.vx-=X*(w=1-w),O.vy-=H*w)}return}return _>f+w||I<f-w||x>m+w||T<m-w}}function a(c){if(c.data)return c.r=t[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(e){var c,d=e.length,u;for(t=new Array(d),c=0;c<d;++c)u=e[c],t[u.index]=+r(u,c,e)}}return o.initialize=function(c,d){e=c,i=d,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(n=+c,o):n},o.radius=function(c){return arguments.length?(r=typeof c=="function"?c:Vr(+c),l(),o):r},o}function zI(r){return r.index}function hx(r,e){var t=r.get(e);if(!t)throw new Error("node not found: "+e);return t}function BI(r){var e=zI,t=u,i,n=Vr(30),s,o,a,l,c,d=1;r==null&&(r=[]);function u(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function h(g){for(var v=0,b=r.length;v<d;++v)for(var S=0,_,x,I,T,O,E,w;S<b;++S)_=r[S],x=_.source,I=_.target,T=I.x+I.vx-x.x-x.vx||go(c),O=I.y+I.vy-x.y-x.vy||go(c),E=Math.sqrt(T*T+O*O),E=(E-s[S])/E*g*i[S],T*=E,O*=E,I.vx-=T*(w=l[S]),I.vy-=O*w,x.vx+=T*(w=1-w),x.vy+=O*w}function f(){if(o){var g,v=o.length,b=r.length,S=new Map(o.map((x,I)=>[e(x,I,o),x])),_;for(g=0,a=new Array(v);g<b;++g)_=r[g],_.index=g,typeof _.source!="object"&&(_.source=hx(S,_.source)),typeof _.target!="object"&&(_.target=hx(S,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)_=r[g],l[g]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);i=new Array(b),m(),s=new Array(b),p()}}function m(){if(o)for(var g=0,v=r.length;g<v;++g)i[g]=+t(r[g],g,r)}function p(){if(o)for(var g=0,v=r.length;g<v;++g)s[g]=+n(r[g],g,r)}return h.initialize=function(g,v){o=g,c=v,f()},h.links=function(g){return arguments.length?(r=g,f(),h):r},h.id=function(g){return arguments.length?(e=g,h):e},h.iterations=function(g){return arguments.length?(d=+g,h):d},h.strength=function(g){return arguments.length?(t=typeof g=="function"?g:Vr(+g),m(),h):t},h.distance=function(g){return arguments.length?(n=typeof g=="function"?g:Vr(+g),p(),h):n},h}var jI={value:()=>{}};function Tf(){for(var r=0,e=arguments.length,t={},i;r<e;++r){if(!(i=arguments[r]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ph(t)}function ph(r){this._=r}function GI(r,e){return r.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}ph.prototype=Tf.prototype={constructor:ph,on:function(r,e){var t=this._,i=GI(r+"",t),n,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((n=(r=i[s]).type)&&(n=VI(t[n],r.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(r=i[s]).type)t[n]=fx(t[n],r.name,e);else if(e==null)for(n in t)t[n]=fx(t[n],r.name,null);return this},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new ph(r)},call:function(r,e){if((n=arguments.length-2)>0)for(var t=new Array(n),i=0,n,s;i<n;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(s=this._[r],i=0,n=s.length;i<n;++i)s[i].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var i=this._[r],n=0,s=i.length;n<s;++n)i[n].value.apply(e,t)}};function VI(r,e){for(var t=0,i=r.length,n;t<i;++t)if((n=r[t]).name===e)return n.value}function fx(r,e,t){for(var i=0,n=r.length;i<n;++i)if(r[i].name===e){r[i]=jI,r=r.slice(0,i).concat(r.slice(i+1));break}return t!=null&&r.push({name:e,value:t}),r}var Cl=0,Rc=0,vc=0,ZT=1e3,jh,Fc,Gh=0,ca=0,Cf=0,td=typeof performance=="object"&&performance.now?performance:Date,KT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function Pv(){return ca||(KT(UI),ca=td.now()+Cf)}function UI(){ca=0}function Vh(){this._call=this._time=this._next=null}Vh.prototype=Dv.prototype={constructor:Vh,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?Pv():+t)+(e==null?0:+e),!this._next&&Fc!==this&&(Fc?Fc._next=this:jh=this,Fc=this),this._call=r,this._time=t,f0()},stop:function(){this._call&&(this._call=null,this._time=1/0,f0())}};function Dv(r,e,t){var i=new Vh;return i.restart(r,e,t),i}function HI(){Pv(),++Cl;for(var r=jh,e;r;)(e=ca-r._time)>=0&&r._call.call(void 0,e),r=r._next;--Cl}function mx(){ca=(Gh=td.now())+Cf,Cl=Rc=0;try{HI()}finally{Cl=0,WI(),ca=0}}function XI(){var r=td.now(),e=r-Gh;e>ZT&&(Cf-=e,Gh=r)}function WI(){for(var r,e=jh,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:jh=t);Fc=r,f0(i)}function f0(r){if(!Cl){Rc&&(Rc=clearTimeout(Rc));var e=r-ca;e>24?(r<1/0&&(Rc=setTimeout(mx,r-td.now()-Cf)),vc&&(vc=clearInterval(vc))):(vc||(Gh=td.now(),vc=setInterval(XI,ZT)),Cl=1,KT(mx))}}function px(r,e,t){var i=new Vh;return e=e==null?0:+e,i.restart(n=>{i.stop(),r(n+e)},e,t),i}const YI=1664525,qI=1013904223,gx=4294967296;function ZI(){let r=1;return()=>(r=(YI*r+qI)%gx)/gx}function KI(r){return r.x}function JI(r){return r.y}var QI=10,$I=Math.PI*(3-Math.sqrt(5));function eL(r){var e,t=1,i=.001,n=1-Math.pow(i,1/300),s=0,o=.6,a=new Map,l=Dv(u),c=Tf("tick","end"),d=ZI();r==null&&(r=[]);function u(){h(),c.call("tick",e),t<i&&(l.stop(),c.call("end",e))}function h(p){var g,v=r.length,b;p===void 0&&(p=1);for(var S=0;S<p;++S)for(t+=(s-t)*n,a.forEach(function(_){_(t)}),g=0;g<v;++g)b=r[g],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function f(){for(var p=0,g=r.length,v;p<g;++p){if(v=r[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=QI*Math.sqrt(.5+p),S=p*$I;v.x=b*Math.cos(S),v.y=b*Math.sin(S)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function m(p){return p.initialize&&p.initialize(r,d),p}return f(),e={tick:h,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(p){return arguments.length?(r=p,f(),a.forEach(m),e):r},alpha:function(p){return arguments.length?(t=+p,e):t},alphaMin:function(p){return arguments.length?(i=+p,e):i},alphaDecay:function(p){return arguments.length?(n=+p,e):+n},alphaTarget:function(p){return arguments.length?(s=+p,e):s},velocityDecay:function(p){return arguments.length?(o=1-p,e):1-o},randomSource:function(p){return arguments.length?(d=p,a.forEach(m),e):d},force:function(p,g){return arguments.length>1?(g==null?a.delete(p):a.set(p,m(g)),e):a.get(p)},find:function(p,g,v){var b=0,S=r.length,_,x,I,T,O;for(v==null?v=1/0:v*=v,b=0;b<S;++b)T=r[b],_=p-T.x,x=g-T.y,I=_*_+x*x,I<v&&(O=T,v=I);return O},on:function(p,g){return arguments.length>1?(c.on(p,g),e):c.on(p)}}}function tL(){var r,e,t,i,n=Vr(-30),s,o=1,a=1/0,l=.81;function c(f){var m,p=r.length,g=Iv(r,KI,JI).visitAfter(u);for(i=f,m=0;m<p;++m)e=r[m],g.visit(h)}function d(){if(r){var f,m=r.length,p;for(s=new Array(m),f=0;f<m;++f)p=r[f],s[p.index]=+n(p,f,r)}}function u(f){var m=0,p,g,v=0,b,S,_;if(f.length){for(b=S=_=0;_<4;++_)(p=f[_])&&(g=Math.abs(p.value))&&(m+=p.value,v+=g,b+=g*p.x,S+=g*p.y);f.x=b/v,f.y=S/v}else{p=f,p.x=p.data.x,p.y=p.data.y;do m+=s[p.data.index];while(p=p.next)}f.value=m}function h(f,m,p,g){if(!f.value)return!0;var v=f.x-e.x,b=f.y-e.y,S=g-m,_=v*v+b*b;if(S*S/l<_)return _<a&&(v===0&&(v=go(t),_+=v*v),b===0&&(b=go(t),_+=b*b),_<o&&(_=Math.sqrt(o*_)),e.vx+=v*f.value*i/_,e.vy+=b*f.value*i/_),!0;if(f.length||_>=a)return;(f.data!==e||f.next)&&(v===0&&(v=go(t),_+=v*v),b===0&&(b=go(t),_+=b*b),_<o&&(_=Math.sqrt(o*_)));do f.data!==e&&(S=s[f.data.index]*i/_,e.vx+=v*S,e.vy+=b*S);while(f=f.next)}return c.initialize=function(f,m){r=f,t=m,d()},c.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Vr(+f),d(),c):n},c.distanceMin=function(f){return arguments.length?(o=f*f,c):Math.sqrt(o)},c.distanceMax=function(f){return arguments.length?(a=f*f,c):Math.sqrt(a)},c.theta=function(f){return arguments.length?(l=f*f,c):Math.sqrt(l)},c}function iL(r){var e=Vr(.1),t,i,n;typeof r!="function"&&(r=Vr(r==null?0:+r));function s(a){for(var l=0,c=t.length,d;l<c;++l)d=t[l],d.vx+=(n[l]-d.x)*i[l]*a}function o(){if(t){var a,l=t.length;for(i=new Array(l),n=new Array(l),a=0;a<l;++a)i[a]=isNaN(n[a]=+r(t[a],a,t))?0:+e(t[a],a,t)}}return s.initialize=function(a){t=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(+a),o(),s):e},s.x=function(a){return arguments.length?(r=typeof a=="function"?a:Vr(+a),o(),s):r},s}function rL(r){var e=Vr(.1),t,i,n;typeof r!="function"&&(r=Vr(r==null?0:+r));function s(a){for(var l=0,c=t.length,d;l<c;++l)d=t[l],d.vy+=(n[l]-d.y)*i[l]*a}function o(){if(t){var a,l=t.length;for(i=new Array(l),n=new Array(l),a=0;a<l;++a)i[a]=isNaN(n[a]=+r(t[a],a,t))?0:+e(t[a],a,t)}}return s.initialize=function(a){t=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(+a),o(),s):e},s.y=function(a){return arguments.length?(r=typeof a=="function"?a:Vr(+a),o(),s):r},s}function nL(r,e){let t=[],i=[],n=new Map,s=new Map;r.forEachNode(m=>{const p={id:m.id},g=t.length;t.push(p),n.set(m.id,g)}),r.forEachLink(m=>{const p=n.get(m.fromId),g=n.get(m.toId),v=i.length,b={source:p,target:g,index:v};i.push(b),s.set(m.id,b)});const o=tL().strength(e.chargeStrength).theta(e.theta).distanceMin(e.distanceMin).distanceMax(e.distanceMax),a=BI(i).distance(e.linkDistance).iterations(e.linkIterations),l=_I().x(e.centerX).y(e.centerY).strength(e.centerStrength),c=NI().radius(e.collisionRadius).strength(e.collisionStrength),d=iL().x(e.x).strength(e.xStrength),u=rL().y(e.y).strength(e.yStrength),h=eL(t).alphaDecay(e.alphaDecay).velocityDecay(e.velocityDecay).force("charge",o).force("link",a).force("center",l).force("collide",c).force("x",d).force("y",u);return h.stop(),{simulator:h,step:function(){h.tick()},getNodePosition:f,getLinkPosition:function(m){var p=s.get(m);return{from:p.source,to:p.target}},getGraphRect:function(){var m=Number.POSITIVE_INFINITY,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=Number.NEGATIVE_INFINITY;return t.forEach(function(b){b.x<m&&(m=b.x),b.x>g&&(g=b.x),b.y<p&&(p=b.y),b.y>v&&(v=b.y)}),{x1:m,x2:g,y1:p,y2:v}},isNodePinned:function(){return!1},pinNode:function(){},dispose:function(){},setNodePosition:function(m,p,g){var v=f(m);v.x=p,v.y=g}};function f(m){var p=n.get(m);return t[p]}}const kf=[{value:"viva",name:"@anvaka/VivaGraphJS",spec:vI,settings:[{id:"springLength",name:"Spring length",type:"range",min:1,max:100,step:1,value:100,shown:!0},{id:"springCoeff",name:"Spring coefficient",type:"range",min:1e-4,max:.0025,step:1e-5,value:2e-4,shown:!0},{id:"dragCoeff",name:"Drag coefficient",type:"range",min:.01,max:1,step:.01,value:.01,shown:!0},{id:"gravity",name:"Gravity",type:"range",min:-2,max:-.1,step:.1,value:-.2,shown:!1},{id:"theta",name:"Theta",type:"range",min:0,max:1,step:.05,value:.8,shown:!1},{id:"timeStep",name:"Time step",type:"range",min:1,max:100,step:1,value:10,shown:!0}]},{value:"d3",name:"@d3/d3-force",spec:nL,settings:[{id:"alphaDecay",name:"Temperature decay",type:"range",min:0,max:1,step:.001,value:.0228,shown:!1},{id:"velocityDecay",name:"Velocity decay",type:"range",min:0,max:1,step:.01,value:.4,shown:!1},{id:"chargeStrength",name:"Node attraction",type:"range",min:-200,max:50,step:.1,value:-30},{id:"theta",name:"BarnesHut approximation criterion",type:"range",min:0,max:1,step:.1,value:.8,shown:!1},{id:"distanceMin",name:"distanceMin",type:"range",min:1,max:50,step:1,value:1,shown:!0},{id:"distanceMax",name:"distanceMax",type:"range",min:1,max:2e3,step:1,value:2e3,shown:!0},{id:"linkDistance",name:"Link distance",type:"range",min:0,max:100,step:1,value:30,shown:!0},{id:"linkStrength",name:"Link distance",type:"range",min:0,max:100,step:1,value:30,shown:!1},{id:"linkIterations",name:"Link rigidity",type:"range",min:1,max:10,step:1,value:1,shown:!0},{id:"centerX",name:"Center X",type:"range",min:-1e3,max:1e3,step:10,value:.5,shown:!1},{id:"centerY",name:"Center Y",type:"range",min:-1e3,max:1e3,step:10,value:.5,shown:!1},{id:"centerStrength",name:"Center strength",type:"range",min:-1e3,max:1e3,step:10,value:1,shown:!1},{id:"collisionRadius",name:"Collision Radius",type:"range",min:1,max:100,step:1,value:1,shown:!0},{id:"collisionStrength",name:"Collision Strength",type:"range",min:0,max:1,step:.01,value:.7,shown:!0},{id:"x",name:"Target X",type:"range",min:-1e3,max:1e3,step:10,value:.5,shown:!1},{id:"y",name:"Target Y",type:"range",min:-1e3,max:1e3,step:10,value:.5,shown:!1},{id:"xStrength",name:"Strength towards Target X",type:"range",min:0,max:1,step:.01,value:.1,shown:!1},{id:"yStrength",name:"Strength towards Target Y",type:"range",min:0,max:1,step:.01,value:.1,shown:!1}]},{value:"cosmo",name:"@cosmograph-org/cosmo",spec:null,settings:[{id:"simulationRepulsion",name:"Repulsion force coefficient",type:"range",min:0,max:2,step:.1,value:.1,shown:!0},{id:"simulationRepulsionTheta",name:"BarnesHut theta",type:"range",min:.3,max:2,step:.1,value:1.7,shown:!0},{id:"repulsionQuadtreeLevels",name:"BarnesHut approximation depth",type:"range",min:5,max:12,step:1,value:12,shown:!1},{id:"simulationLinkSpring",name:"Spring coefficient",type:"range",min:0,max:2,step:.01,value:1,shown:!0},{id:"simulationLinkDistance",name:"Minimum link distance",type:"range",min:1,max:20,step:1,value:2,shown:!0},{id:"simulationGravity",name:"Gravity coefficient",type:"range",min:0,max:1,step:.01,value:0,shown:!0},{id:"simulationCenter",name:"Centering force coefficient",type:"range",min:0,max:1,step:.01,value:0,shown:!0},{id:"simulationFriction",name:"Friction coefficient",type:"range",min:.8,max:1,step:.01,value:.85,shown:!0},{id:"simulationDecay",name:"Force simulation decay coefficient",type:"range",min:100,max:1e4,step:100,value:1e4,shown:!0},{id:"repulsionFromMouse",name:"Repulsion from the mouse pointer force coefficient",type:"range",min:0,max:5,step:.1,value:2,shown:!1}]}];function sL(r){const e=r-1;return e*e*e+1}function Uh(r,{delay:e=0,duration:t=400,easing:i=sL,x:n=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(r),l=+a.opacity,c=a.transform==="none"?"":a.transform,d=l*(1-o),[u,h]=mb(n),[f,m]=mb(s);return{delay:e,duration:t,easing:i,css:(p,g)=>`
			transform: ${c} translate(${(1-p)*u}${h}, ${(1-p)*f}${m});
			opacity: ${l-d*g}`}}const Mv="-",oL=r=>{const e=lL(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:o=>{const a=o.split(Mv);return a[0]===""&&a.length!==1&&a.shift(),JT(a,e)||aL(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},JT=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),n=i?JT(r.slice(1),i):void 0;if(n)return n;if(e.validators.length===0)return;const s=r.join(Mv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},vx=/^\[(.+)\]$/,aL=r=>{if(vx.test(r)){const e=vx.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lL=r=>{const{theme:e,prefix:t}=r,i={nextPart:new Map,validators:[]};return dL(Object.entries(r.classGroups),t).forEach(([s,o])=>{m0(o,i,s,e)}),i},m0=(r,e,t,i)=>{r.forEach(n=>{if(typeof n=="string"){const s=n===""?e:_x(e,n);s.classGroupId=t;return}if(typeof n=="function"){if(cL(n)){m0(n(i),e,t,i);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([s,o])=>{m0(o,_x(e,s),t,i)})})},_x=(r,e)=>{let t=r;return e.split(Mv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},cL=r=>r.isThemeGetter,dL=(r,e)=>e?r.map(([t,i])=>{const n=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,n]}):r,uL=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const n=(s,o)=>{t.set(s,o),e++,e>r&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return n(s,o),o},set(s,o){t.has(s)?t.set(s,o):n(s,o)}}},QT="!",hL=r=>{const{separator:e,experimentalParseClassName:t}=r,i=e.length===1,n=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let g=0;g<a.length;g++){let v=a[g];if(c===0){if(v===n&&(i||a.slice(g,g+s)===e)){l.push(a.slice(d,g)),d=g+s;continue}if(v==="/"){u=g;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(d),f=h.startsWith(QT),m=f?h.substring(1):h,p=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}};return t?a=>t({className:a,parseClassName:o}):o},fL=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},mL=r=>Ui({cache:uL(r.cacheSize),parseClassName:hL(r)},oL(r)),pL=/\s+/,gL=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:n}=e,s=[],o=r.trim().split(pL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:f}=t(c);let m=!!f,p=i(m?h.substring(0,f):h);if(!p){if(!m){a=c+(a.length>0?" "+a:a);continue}if(p=i(h),!p){a=c+(a.length>0?" "+a:a);continue}m=!1}const g=fL(d).join(":"),v=u?g+QT:g,b=v+p;if(s.includes(b))continue;s.push(b);const S=n(p,m);for(let _=0;_<S.length;++_){const x=S[_];s.push(v+x)}a=c+(a.length>0?" "+a:a)}return a};function $T(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=eC(e))&&(i&&(i+=" "),i+=t);return i}const eC=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=eC(r[i]))&&(t&&(t+=" "),t+=e);return t};function vL(r,...e){let t,i,n,s=o;function o(l){const c=e.reduce((d,u)=>u(d),r());return t=mL(c),i=t.cache.get,n=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const d=gL(l,t);return n(l,d),d}return function(){return s($T.apply(null,arguments))}}const Pi=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},tC=/^\[(?:([a-z-]+):)?(.+)\]$/i,_L=/^\d+\/\d+$/,yL=new Set(["px","full","screen"]),bL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=r=>ml(r)||yL.has(r)||_L.test(r),eo=r=>Xl(r,"length",PL),ml=r=>!!r&&!Number.isNaN(Number(r)),yg=r=>Xl(r,"number",ml),_c=r=>!!r&&Number.isInteger(Number(r)),CL=r=>r.endsWith("%")&&ml(r.slice(0,-1)),Vt=r=>tC.test(r),to=r=>bL.test(r),kL=new Set(["length","size","percentage"]),EL=r=>Xl(r,kL,iC),AL=r=>Xl(r,"position",iC),OL=new Set(["image","url"]),IL=r=>Xl(r,OL,ML),LL=r=>Xl(r,"",DL),yc=()=>!0,Xl=(r,e,t)=>{const i=tC.exec(r);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},PL=r=>xL.test(r)&&!wL.test(r),iC=()=>!1,DL=r=>SL.test(r),ML=r=>TL.test(r),RL=()=>{const r=Pi("colors"),e=Pi("spacing"),t=Pi("blur"),i=Pi("brightness"),n=Pi("borderColor"),s=Pi("borderRadius"),o=Pi("borderSpacing"),a=Pi("borderWidth"),l=Pi("contrast"),c=Pi("grayscale"),d=Pi("hueRotate"),u=Pi("invert"),h=Pi("gap"),f=Pi("gradientColorStops"),m=Pi("gradientColorStopPositions"),p=Pi("inset"),g=Pi("margin"),v=Pi("opacity"),b=Pi("padding"),S=Pi("saturate"),_=Pi("scale"),x=Pi("sepia"),I=Pi("skew"),T=Pi("space"),O=Pi("translate"),E=()=>["auto","contain","none"],w=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",Vt,e],H=()=>[Vt,e],Y=()=>["",_s,eo],k=()=>["auto",ml,Vt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",Vt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],et=()=>[ml,Vt];return{cacheSize:500,separator:":",theme:{colors:[yc],spacing:[_s,eo],blur:["none","",to,Vt],brightness:et(),borderColor:[r],borderRadius:["none","","full",to,Vt],borderSpacing:H(),borderWidth:Y(),contrast:et(),grayscale:ce(),hueRotate:et(),invert:ce(),gap:H(),gradientColorStops:[r],gradientColorStopPositions:[CL,eo],inset:X(),margin:X(),opacity:et(),padding:H(),saturate:et(),scale:et(),sepia:ce(),skew:et(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Vt]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Vt]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,Vt]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Vt]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",_c,Vt]}],"grid-cols":[{"grid-cols":[yc]}],"col-start-end":[{col:["auto",{span:["full",_c,Vt]},Vt]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[yc]}],"row-start-end":[{row:["auto",{span:[_c,Vt]},Vt]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Vt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Vt,e]}],"min-w":[{"min-w":[Vt,e,"min","max","fit"]}],"max-w":[{"max-w":[Vt,e,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[Vt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Vt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Vt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Vt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yg]}],"font-family":[{font:[yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Vt]}],"line-clamp":[{"line-clamp":["none",ml,yg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Vt]}],"list-image":[{"list-image":["none",Vt]}],"list-style-type":[{list:["none","disc","decimal",Vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,eo]}],"underline-offset":[{"underline-offset":["auto",_s,Vt]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),AL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IL]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[_s,Vt]}],"outline-w":[{outline:[_s,eo]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[_s,eo]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",to,LL]}],"shadow-color":[{shadow:[yc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",to,Vt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[S]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Vt]}],duration:[{duration:et()}],ease:[{ease:["linear","in","out","in-out",Vt]}],delay:[{delay:et()}],animate:[{animate:["none","spin","ping","pulse","bounce",Vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[_c,Vt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Vt]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[_s,eo,yg]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jt=vL(RL);function FL(r){let e=r[1],t,i,n=r[1]&&bg(r);return{c(){n&&n.c(),t=Ht()},m(s,o){n&&n.m(s,o),Me(s,t,o),i=!0},p(s,o){s[1]?e?Oi(e,s[1])?(n.d(1),n=bg(s),e=s[1],n.c(),n.m(t.parentNode,t)):n.p(s,o):(n=bg(s),e=s[1],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=s[1])},i(s){i||($e(n,s),i=!0)},o(s){st(n,s),i=!1},d(s){s&&Le(t),n&&n.d(s)}}}function NL(r){let e=r[1],t,i=!1,n,s=r[1]&&xg(r);return{c(){s&&s.c(),t=Ht()},m(o,a){s&&s.m(o,a),Me(o,t,a),n=!0},p(o,a){o[1]?e?Oi(e,o[1])?(s.d(1),s=xg(o),e=o[1],s.c(),i&&(i=!1,$e(s)),s.m(t.parentNode,t)):(i&&(i=!1,$e(s)),s.p(o,a)):(s=xg(o),e=o[1],s.c(),$e(s),s.m(t.parentNode,t)):e&&(i=!0,Dr(),st(s,1,1,()=>{s=null,e=o[1],i=!1}),Mr())},i(o){n||($e(s,o),n=!0)},o(o){st(s,o),n=!1},d(o){o&&Le(t),s&&s.d(o)}}}function bg(r){let e,t,i,n,s;const o=r[15].default,a=Cr(o,r,r[14],null);let l=[{role:r[4]},r[9],{class:r[8]}],c={};for(let d=0;d<l.length;d+=1)c=vt(c,l[d]);return{c(){e=ai(r[1]),a&&a.c(),Sl(r[1])(e,c)},m(d,u){Me(d,e,u),a&&a.m(e,null),r[27](e),i=!0,n||(s=[Z0(t=r[2].call(null,e,r[3])),ze(e,"click",r[21]),ze(e,"mouseenter",r[22]),ze(e,"mouseleave",r[23]),ze(e,"focusin",r[24]),ze(e,"focusout",r[25])],n=!0)},p(d,u){a&&a.p&&(!i||u[0]&16384)&&Er(a,o,d,d[14],i?kr(o,d[14],u,null):Ar(d[14]),null),Sl(d[1])(e,c=fi(l,[(!i||u[0]&16)&&{role:d[4]},u[0]&512&&d[9],(!i||u[0]&256)&&{class:d[8]}])),t&&Zr(t.update)&&u[0]&8&&t.update.call(null,d[3])},i(d){i||($e(a,d),i=!0)},o(d){st(a,d),i=!1},d(d){d&&Le(e),a&&a.d(d),r[27](null),n=!1,ar(s)}}}function xg(r){let e,t,i,n,s,o;const a=r[15].default,l=Cr(a,r,r[14],null);let c=[{role:r[4]},r[9],{class:r[8]}],d={};for(let u=0;u<c.length;u+=1)d=vt(d,c[u]);return{c(){e=ai(r[1]),l&&l.c(),Sl(r[1])(e,d)},m(u,h){Me(u,e,h),l&&l.m(e,null),r[26](e),n=!0,s||(o=[Z0(t=r[2].call(null,e,r[3])),ze(e,"click",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"focusin",r[19]),ze(e,"focusout",r[20])],s=!0)},p(u,h){r=u,l&&l.p&&(!n||h[0]&16384)&&Er(l,a,r,r[14],n?kr(a,r[14],h,null):Ar(r[14]),null),Sl(r[1])(e,d=fi(c,[(!n||h[0]&16)&&{role:r[4]},h[0]&512&&r[9],(!n||h[0]&256)&&{class:r[8]}])),t&&Zr(t.update)&&h[0]&8&&t.update.call(null,r[3])},i(u){n||($e(l,u),u&&is(()=>{n&&(i||(i=vb(e,r[5],r[6],!0)),i.run(1))}),n=!0)},o(u){st(l,u),u&&(i||(i=vb(e,r[5],r[6],!1)),i.run(0)),n=!1},d(u){u&&Le(e),l&&l.d(u),r[26](null),u&&i&&i.end(),s=!1,ar(o)}}}function zL(r){let e,t,i,n;const s=[NL,FL],o=[];function a(l,c){return l[5]&&l[7]?0:l[7]?1:-1}return~(e=a(r))&&(t=o[e]=s[e](r)),{c(){t&&t.c(),i=Ht()},m(l,c){~e&&o[e].m(l,c),Me(l,i,c),n=!0},p(l,c){let d=e;e=a(l),e===d?~e&&o[e].p(l,c):(t&&(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr()),~e?(t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i)):t=null)},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),~e&&o[e].d(l)}}}const BL={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""};function jL(r,e,t){const i=["tag","color","rounded","border","shadow","node","use","options","role","transition","params","open"];let n=si(e,i),{$$slots:s={},$$scope:o}=e;const a=()=>{};Wg("background",!0);let{tag:l=n.href?"a":"div"}=e,{color:c="default"}=e,{rounded:d=!1}=e,{border:u=!1}=e,{shadow:h=!1}=e,{node:f=void 0}=e,{use:m=a}=e,{options:p={}}=e,{role:g=void 0}=e,{transition:v=void 0}=e,{params:b={}}=e,{open:S=!0}=e;const _=oS(),x={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},I={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let T;function O(te){ke.call(this,r,te)}function E(te){ke.call(this,r,te)}function w(te){ke.call(this,r,te)}function X(te){ke.call(this,r,te)}function H(te){ke.call(this,r,te)}function Y(te){ke.call(this,r,te)}function k(te){ke.call(this,r,te)}function D(te){ke.call(this,r,te)}function M(te){ke.call(this,r,te)}function L(te){ke.call(this,r,te)}function J(te){en[te?"unshift":"push"](()=>{f=te,t(0,f)})}function ce(te){en[te?"unshift":"push"](()=>{f=te,t(0,f)})}return r.$$set=te=>{t(32,e=vt(vt({},e),ni(te))),t(9,n=si(e,i)),"tag"in te&&t(1,l=te.tag),"color"in te&&t(10,c=te.color),"rounded"in te&&t(11,d=te.rounded),"border"in te&&t(12,u=te.border),"shadow"in te&&t(13,h=te.shadow),"node"in te&&t(0,f=te.node),"use"in te&&t(2,m=te.use),"options"in te&&t(3,p=te.options),"role"in te&&t(4,g=te.role),"transition"in te&&t(5,v=te.transition),"params"in te&&t(6,b=te.params),"open"in te&&t(7,S=te.open),"$$scope"in te&&t(14,o=te.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&128&&_(S?"open":"close"),r.$$.dirty[0]&128&&_("show",S),r.$$.dirty[0]&1024&&t(10,c=c!=null?c:"default"),r.$$.dirty[0]&1024&&Wg("color",c),t(8,T=jt(BL[c],x[c],d&&"rounded-lg",u&&"border",I[c],h&&"shadow-md",e.class))},e=ni(e),[f,l,m,p,g,v,b,S,T,n,c,d,u,h,o,s,O,E,w,X,H,Y,k,D,M,L,J,ce]}class GL extends cr{constructor(e){super(),lr(this,e,jL,zL,Oi,{tag:1,color:10,rounded:11,border:12,shadow:13,node:0,use:2,options:3,role:4,transition:5,params:6,open:7},null,[-1,-1])}}function VL(r){let e=r[2],t,i,n=r[2]&&wg(r);return{c(){n&&n.c(),t=Ht()},m(s,o){n&&n.m(s,o),Me(s,t,o),i=!0},p(s,o){s[2]?e?Oi(e,s[2])?(n.d(1),n=wg(s),e=s[2],n.c(),n.m(t.parentNode,t)):n.p(s,o):(n=wg(s),e=s[2],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=s[2])},i(s){i||($e(n,s),i=!0)},o(s){st(n,s),i=!1},d(s){s&&Le(t),n&&n.d(s)}}}function UL(r){let e,t,i,n;const s=r[13].default,o=Cr(s,r,r[12],null);let a=[{type:r[1]},r[5],{disabled:r[3]},{class:r[4]}],l={};for(let c=0;c<a.length;c+=1)l=vt(l,a[c]);return{c(){e=ai("button"),o&&o.c(),Os(e,l)},m(c,d){Me(c,e,d),o&&o.m(e,null),e.autofocus&&e.focus(),t=!0,i||(n=[ze(e,"click",r[23]),ze(e,"change",r[24]),ze(e,"keydown",r[25]),ze(e,"keyup",r[26]),ze(e,"touchstart",r[27],{passive:!0}),ze(e,"touchend",r[28]),ze(e,"touchcancel",r[29]),ze(e,"mouseenter",r[30]),ze(e,"mouseleave",r[31])],i=!0)},p(c,d){o&&o.p&&(!t||d[0]&4096)&&Er(o,s,c,c[12],t?kr(s,c[12],d,null):Ar(c[12]),null),Os(e,l=fi(a,[(!t||d[0]&2)&&{type:c[1]},d[0]&32&&c[5],(!t||d[0]&8)&&{disabled:c[3]},(!t||d[0]&16)&&{class:c[4]}]))},i(c){t||($e(o,c),t=!0)},o(c){st(o,c),t=!1},d(c){c&&Le(e),o&&o.d(c),i=!1,ar(n)}}}function HL(r){let e,t,i,n;const s=r[13].default,o=Cr(s,r,r[12],null);let a=[{href:r[0]},r[5],{class:r[4]},{role:"button"}],l={};for(let c=0;c<a.length;c+=1)l=vt(l,a[c]);return{c(){e=ai("a"),o&&o.c(),Os(e,l)},m(c,d){Me(c,e,d),o&&o.m(e,null),t=!0,i||(n=[ze(e,"click",r[14]),ze(e,"change",r[15]),ze(e,"keydown",r[16]),ze(e,"keyup",r[17]),ze(e,"touchstart",r[18],{passive:!0}),ze(e,"touchend",r[19]),ze(e,"touchcancel",r[20]),ze(e,"mouseenter",r[21]),ze(e,"mouseleave",r[22])],i=!0)},p(c,d){o&&o.p&&(!t||d[0]&4096)&&Er(o,s,c,c[12],t?kr(s,c[12],d,null):Ar(c[12]),null),Os(e,l=fi(a,[(!t||d[0]&1)&&{href:c[0]},d[0]&32&&c[5],(!t||d[0]&16)&&{class:c[4]},{role:"button"}]))},i(c){t||($e(o,c),t=!0)},o(c){st(o,c),t=!1},d(c){c&&Le(e),o&&o.d(c),i=!1,ar(n)}}}function wg(r){let e,t;const i=r[13].default,n=Cr(i,r,r[12],null);let s=[r[5],{class:r[4]}],o={};for(let a=0;a<s.length;a+=1)o=vt(o,s[a]);return{c(){e=ai(r[2]),n&&n.c(),Sl(r[2])(e,o)},m(a,l){Me(a,e,l),n&&n.m(e,null),t=!0},p(a,l){n&&n.p&&(!t||l[0]&4096)&&Er(n,i,a,a[12],t?kr(i,a[12],l,null):Ar(a[12]),null),Sl(a[2])(e,o=fi(s,[l[0]&32&&a[5],(!t||l[0]&16)&&{class:a[4]}]))},i(a){t||($e(n,a),t=!0)},o(a){st(n,a),t=!1},d(a){a&&Le(e),n&&n.d(a)}}}function XL(r){let e,t,i,n;const s=[HL,UL,VL],o=[];function a(l,c){return l[0]&&!l[3]?0:l[2]==="button"?1:2}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=Ht()},m(l,c){o[e].m(l,c),Me(l,i,c),n=!0},p(l,c){let d=e;e=a(l),e===d?o[e].p(l,c):(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr(),t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i))},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),o[e].d(l)}}}function WL(r,e,t){const i=["pill","outline","size","href","type","color","shadow","tag","checked","disabled"];let n=si(e,i),{$$slots:s={},$$scope:o}=e;const a=Gn("group");let{pill:l=!1}=e,{outline:c=!1}=e,{size:d=a?"sm":"md"}=e,{href:u=void 0}=e,{type:h="button"}=e,{color:f=a?c?"dark":"alternative":"primary"}=e,{shadow:m=!1}=e,{tag:p="button"}=e,{checked:g=void 0}=e,{disabled:v=!1}=e;const b={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white dark:hover:bg-gray-700",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},S={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},_={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},x={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},I={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},T={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},O=()=>c||f==="alternative"||f==="light";let E;function w(de){ke.call(this,r,de)}function X(de){ke.call(this,r,de)}function H(de){ke.call(this,r,de)}function Y(de){ke.call(this,r,de)}function k(de){ke.call(this,r,de)}function D(de){ke.call(this,r,de)}function M(de){ke.call(this,r,de)}function L(de){ke.call(this,r,de)}function J(de){ke.call(this,r,de)}function ce(de){ke.call(this,r,de)}function te(de){ke.call(this,r,de)}function et(de){ke.call(this,r,de)}function ot(de){ke.call(this,r,de)}function Ot(de){ke.call(this,r,de)}function gt(de){ke.call(this,r,de)}function je(de){ke.call(this,r,de)}function At(de){ke.call(this,r,de)}function It(de){ke.call(this,r,de)}return r.$$set=de=>{t(40,e=vt(vt({},e),ni(de))),t(5,n=si(e,i)),"pill"in de&&t(6,l=de.pill),"outline"in de&&t(7,c=de.outline),"size"in de&&t(8,d=de.size),"href"in de&&t(0,u=de.href),"type"in de&&t(1,h=de.type),"color"in de&&t(9,f=de.color),"shadow"in de&&t(10,m=de.shadow),"tag"in de&&t(2,p=de.tag),"checked"in de&&t(11,g=de.checked),"disabled"in de&&t(3,v=de.disabled),"$$scope"in de&&t(12,o=de.$$scope)},r.$$.update=()=>{t(4,E=jt("text-center font-medium",a?"focus-within:ring-2":"focus-within:ring-4",a&&"focus-within:z-10",a||"focus-within:outline-none","inline-flex items-center justify-center "+T[d],c&&g&&"border dark:border-gray-900",c&&g&&S[f],c&&!g&&I[f],!c&&g&&S[f],!c&&!g&&b[f],f==="alternative"&&(a&&!g?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-600"),c&&f==="dark"&&(a?g?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),_[f],O()&&a&&"[&:not(:first-child)]:-ms-px",a?l&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":l&&"rounded-full"||"rounded-lg",m&&"shadow-lg",m&&x[f],v&&"cursor-not-allowed opacity-50",e.class))},e=ni(e),[u,h,p,v,E,n,l,c,d,f,m,g,o,s,w,X,H,Y,k,D,M,L,J,ce,te,et,ot,Ot,gt,je,At,It]}class Ef extends cr{constructor(e){super(),lr(this,e,WL,XL,Oi,{pill:6,outline:7,size:8,href:0,type:1,color:9,shadow:10,tag:2,checked:11,disabled:3},null,[-1,-1])}}function YL(r){let e,t;const i=[r[3],{color:"none"},{class:r[1]}];let n={$$slots:{default:[ZL]},$$scope:{ctx:r}};for(let s=0;s<i.length;s+=1)n=vt(n,i[s]);return e=new Ef({props:n}),e.$on("click",r[13]),e.$on("change",r[14]),e.$on("keydown",r[15]),e.$on("keyup",r[16]),e.$on("touchstart",r[17]),e.$on("touchend",r[18]),e.$on("touchcancel",r[19]),e.$on("mouseenter",r[20]),e.$on("mouseleave",r[21]),{c(){wi(e.$$.fragment)},m(s,o){pi(e,s,o),t=!0},p(s,o){const a=o&10?fi(i,[o&8&&ma(s[3]),i[1],o&2&&{class:s[1]}]):{};o&4194304&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||($e(e.$$.fragment,s),t=!0)},o(s){st(e.$$.fragment,s),t=!1},d(s){gi(e,s)}}}function qL(r){let e,t,i;const n=[r[3],{color:"none"},{class:r[0]}];let s={$$slots:{default:[KL]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)s=vt(s,n[o]);return t=new Ef({props:s}),t.$on("click",r[7]),t.$on("change",r[8]),t.$on("keydown",r[9]),t.$on("keyup",r[10]),t.$on("mouseenter",r[11]),t.$on("mouseleave",r[12]),{c(){e=ai("div"),wi(t.$$.fragment),ae(e,"class",r[1])},m(o,a){Me(o,e,a),pi(t,e,null),i=!0},p(o,a){const l=a&9?fi(n,[a&8&&ma(o[3]),n[1],a&1&&{class:o[0]}]):{};a&4194304&&(l.$$scope={dirty:a,ctx:o}),t.$set(l),(!i||a&2)&&ae(e,"class",o[1])},i(o){i||($e(t.$$.fragment,o),i=!0)},o(o){st(t.$$.fragment,o),i=!1},d(o){o&&Le(e),gi(t)}}}function ZL(r){let e;const t=r[6].default,i=Cr(t,r,r[22],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&4194304)&&Er(i,t,n,n[22],e?kr(t,n[22],s,null):Ar(n[22]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function KL(r){let e;const t=r[6].default,i=Cr(t,r,r[22],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&4194304)&&Er(i,t,n,n[22],e?kr(t,n[22],s,null):Ar(n[22]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function JL(r){let e,t,i,n;const s=[qL,YL],o=[];function a(l,c){return l[2].outline?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=Ht()},m(l,c){o[e].m(l,c),Me(l,i,c),n=!0},p(l,[c]){let d=e;e=a(l),e===d?o[e].p(l,c):(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr(),t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i))},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),o[e].d(l)}}}function QL(r,e,t){const i=["color","shadow"];let n=si(e,i),{$$slots:s={},$$scope:o}=e;const a=Gn("group");let{color:l="blue"}=e,{shadow:c=!1}=e;const d={blue:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-blue-300 dark:focus:ring-blue-800 ",green:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-green-300 dark:focus:ring-green-800",cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-cyan-300 dark:focus:ring-cyan-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-teal-300 dark:focus:ring-teal-800",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-lime-300 dark:focus:ring-lime-800",red:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-red-300 dark:focus:ring-red-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-purple-300 dark:focus:ring-purple-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-blue-300 dark:focus:ring-blue-800",cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-green-200 dark:focus:ring-green-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-purple-200 dark:focus:ring-purple-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-pink-200 dark:focus:ring-pink-800",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l focus:ring-lime-200 dark:focus:ring-teal-700",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-red-100 dark:focus:ring-red-400"},u={blue:"shadow-blue-500/50 dark:shadow-blue-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",cyan:"shadow-cyan-500/50 dark:shadow-cyan-800/80",teal:"shadow-teal-500/50 dark:shadow-teal-800/80 ",lime:"shadow-lime-500/50 dark:shadow-lime-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",pink:"shadow-pink-500/50 dark:shadow-pink-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",purpleToBlue:"shadow-blue-500/50 dark:shadow-blue-800/80",cyanToBlue:"shadow-cyan-500/50 dark:shadow-cyan-800/80",greenToBlue:"shadow-green-500/50 dark:shadow-green-800/80",purpleToPink:"shadow-purple-500/50 dark:shadow-purple-800/80",pinkToOrange:"shadow-pink-500/50 dark:shadow-pink-800/80",tealToLime:"shadow-lime-500/50 dark:shadow-teal-800/80",redToYellow:"shadow-red-500/50 dark:shadow-red-800/80"};let h,f;function m(Y){ke.call(this,r,Y)}function p(Y){ke.call(this,r,Y)}function g(Y){ke.call(this,r,Y)}function v(Y){ke.call(this,r,Y)}function b(Y){ke.call(this,r,Y)}function S(Y){ke.call(this,r,Y)}function _(Y){ke.call(this,r,Y)}function x(Y){ke.call(this,r,Y)}function I(Y){ke.call(this,r,Y)}function T(Y){ke.call(this,r,Y)}function O(Y){ke.call(this,r,Y)}function E(Y){ke.call(this,r,Y)}function w(Y){ke.call(this,r,Y)}function X(Y){ke.call(this,r,Y)}function H(Y){ke.call(this,r,Y)}return r.$$set=Y=>{t(2,e=vt(vt({},e),ni(Y))),t(3,n=si(e,i)),"color"in Y&&t(4,l=Y.color),"shadow"in Y&&t(5,c=Y.shadow),"$$scope"in Y&&t(22,o=Y.$$scope)},r.$$.update=()=>{t(0,h=jt("inline-flex items-center justify-center w-full  !border-0",e.pill||"!rounded-md","bg-white !text-gray-900 dark:bg-gray-900 dark:!text-white","hover:bg-transparent hover:!text-inherit","transition-all duration-75 ease-in group-hover:!bg-opacity-0 group-hover:!text-inherit")),t(1,f=jt(e.outline&&"p-0.5",d[l],c&&"shadow-lg",c&&u[l],a?e.pill&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":e.pill&&"rounded-full"||"rounded-lg",e.class))},e=ni(e),[h,f,e,n,l,c,s,m,p,g,v,b,S,_,x,I,T,O,E,w,X,H,o]}class $L extends cr{constructor(e){super(),lr(this,e,QL,JL,Oi,{color:4,shadow:5})}}const eP="modulepreload",tP=function(r){return"/www/"+r},yx={},kl=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(l=>{if(l=tP(l),l in yx)return;yx[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":eP,c||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),c)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},El=Math.min,na=Math.max,Hh=Math.round,qu=Math.floor,bo=r=>({x:r,y:r}),iP={left:"right",right:"left",bottom:"top",top:"bottom"},rP={start:"end",end:"start"};function p0(r,e,t){return na(r,El(e,t))}function yd(r,e){return typeof r=="function"?r(e):r}function da(r){return r.split("-")[0]}function bd(r){return r.split("-")[1]}function rC(r){return r==="x"?"y":"x"}function Rv(r){return r==="y"?"height":"width"}function Al(r){return["top","bottom"].includes(da(r))?"y":"x"}function Fv(r){return rC(Al(r))}function nP(r,e,t){t===void 0&&(t=!1);const i=bd(r),n=Fv(r),s=Rv(n);let o=n==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xh(o)),[o,Xh(o)]}function sP(r){const e=Xh(r);return[g0(r),e,g0(e)]}function g0(r){return r.replace(/start|end/g,e=>rP[e])}function oP(r,e,t){const i=["left","right"],n=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(r){case"top":case"bottom":return t?e?n:i:e?i:n;case"left":case"right":return e?s:o;default:return[]}}function aP(r,e,t,i){const n=bd(r);let s=oP(da(r),t==="start",i);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(g0)))),s}function Xh(r){return r.replace(/left|right|bottom|top/g,e=>iP[e])}function lP(r){return Ui({top:0,right:0,bottom:0,left:0},r)}function nC(r){return typeof r!="number"?lP(r):{top:r,right:r,bottom:r,left:r}}function Wh(r){const{x:e,y:t,width:i,height:n}=r;return{width:i,height:n,top:t,left:e,right:e+i,bottom:t+n,x:e,y:t}}function bx(r,e,t){let{reference:i,floating:n}=r;const s=Al(e),o=Fv(e),a=Rv(o),l=da(e),c=s==="y",d=i.x+i.width/2-n.width/2,u=i.y+i.height/2-n.height/2,h=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:d,y:i.y-n.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-n.width,y:u};break;default:f={x:i.x,y:i.y}}switch(bd(e)){case"start":f[o]-=h*(t&&c?-1:1);break;case"end":f[o]+=h*(t&&c?-1:1);break}return f}const cP=(r,e,t)=>le(void 0,null,function*(){const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=yield o.isRTL==null?void 0:o.isRTL(e);let c=yield o.getElementRects({reference:r,floating:e,strategy:n}),{x:d,y:u}=bx(c,i,l),h=i,f={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:v}=a[p],{x:b,y:S,data:_,reset:x}=yield v({x:d,y:u,initialPlacement:i,placement:h,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:r,floating:e}});d=b!=null?b:d,u=S!=null?S:u,f=fn(Ui({},f),{[g]:Ui(Ui({},f[g]),_)}),x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?yield o.getElementRects({reference:r,floating:e,strategy:n}):x.rects),{x:d,y:u}=bx(c,h,l)),p=-1)}return{x:d,y:u,placement:h,strategy:n,middlewareData:f}});function sC(r,e){return le(this,null,function*(){var t;e===void 0&&(e={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=yd(e,r),m=nC(f),g=a[h?u==="floating"?"reference":"floating":u],v=Wh(yield s.getClippingRect({element:(t=yield s.isElement==null?void 0:s.isElement(g))==null||t?g:g.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=u==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=yield s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating),_=(yield s.isElement==null?void 0:s.isElement(S))?(yield s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},x=Wh(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:S,strategy:l}):b);return{top:(v.top-x.top+m.top)/_.y,bottom:(x.bottom-v.bottom+m.bottom)/_.y,left:(v.left-x.left+m.left)/_.x,right:(x.right-v.right+m.right)/_.x}})}const dP=r=>({name:"arrow",options:r,fn(t){return le(this,null,function*(){const{x:i,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=yd(r,t)||{};if(d==null)return{};const h=nC(u),f={x:i,y:n},m=Fv(s),p=Rv(m),g=yield a.getDimensions(d),v=m==="y",b=v?"top":"left",S=v?"bottom":"right",_=v?"clientHeight":"clientWidth",x=o.reference[p]+o.reference[m]-f[m]-o.floating[p],I=f[m]-o.reference[m],T=yield a.getOffsetParent==null?void 0:a.getOffsetParent(d);let O=T?T[_]:0;(!O||!(yield a.isElement==null?void 0:a.isElement(T)))&&(O=l.floating[_]||o.floating[p]);const E=x/2-I/2,w=O/2-g[p]/2-1,X=El(h[b],w),H=El(h[S],w),Y=X,k=O-g[p]-H,D=O/2-g[p]/2+E,M=p0(Y,D,k),L=!c.arrow&&bd(s)!=null&&D!==M&&o.reference[p]/2-(D<Y?X:H)-g[p]/2<0,J=L?D<Y?D-Y:D-k:0;return{[m]:f[m]+J,data:Ui({[m]:M,centerOffset:D-M-J},L&&{alignmentOffset:J}),reset:L}})}}),uP=function(r){return r===void 0&&(r={}),{name:"flip",options:r,fn(t){return le(this,null,function*(){var i,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:d}=t,D=yd(r,t),{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0}=D,v=Km(D,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const b=da(s),S=Al(l),_=da(l)===l,x=yield c.isRTL==null?void 0:c.isRTL(d.floating),I=f||(_||!g?[Xh(l)]:sP(l)),T=p!=="none";!f&&T&&I.push(...aP(l,g,p,x));const O=[l,...I],E=yield sC(t,v),w=[];let X=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&w.push(E[b]),h){const M=nP(s,a,x);w.push(E[M[0]],E[M[1]])}if(X=[...X,{placement:s,overflows:w}],!w.every(M=>M<=0)){var H,Y;const M=(((H=o.flip)==null?void 0:H.index)||0)+1,L=O[M];if(L)return{data:{index:M,overflows:X},reset:{placement:L}};let J=(Y=X.filter(ce=>ce.overflows[0]<=0).sort((ce,te)=>ce.overflows[1]-te.overflows[1])[0])==null?void 0:Y.placement;if(!J)switch(m){case"bestFit":{var k;const ce=(k=X.filter(te=>{if(T){const et=Al(te.placement);return et===S||et==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(et=>et>0).reduce((et,ot)=>et+ot,0)]).sort((te,et)=>te[1]-et[1])[0])==null?void 0:k[0];ce&&(J=ce);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}})}}};function hP(r,e){return le(this,null,function*(){const{placement:t,platform:i,elements:n}=r,s=yield i.isRTL==null?void 0:i.isRTL(n.floating),o=da(t),a=bd(t),l=Al(t)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=yd(e,r);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}})}const fP=function(r){return r===void 0&&(r=0),{name:"offset",options:r,fn(t){return le(this,null,function*(){var i,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=yield hP(t,r);return a===((i=l.offset)==null?void 0:i.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:fn(Ui({},c),{placement:a})}})}}},mP=function(r){return r===void 0&&(r={}),{name:"shift",options:r,fn(t){return le(this,null,function*(){const{x:i,y:n,placement:s}=t,v=yd(r,t),{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:S,y:_}=b;return{x:S,y:_}}}}=v,c=Km(v,["mainAxis","crossAxis","limiter"]),d={x:i,y:n},u=yield sC(t,c),h=Al(da(s)),f=rC(h);let m=d[f],p=d[h];if(o){const b=f==="y"?"top":"left",S=f==="y"?"bottom":"right",_=m+u[b],x=m-u[S];m=p0(_,m,x)}if(a){const b=h==="y"?"top":"left",S=h==="y"?"bottom":"right",_=p+u[b],x=p-u[S];p=p0(_,p,x)}const g=l.fn(fn(Ui({},t),{[f]:m,[h]:p}));return fn(Ui({},g),{data:{x:g.x-i,y:g.y-n,enabled:{[f]:o,[h]:a}}})})}}};function Af(){return typeof window!="undefined"}function Wl(r){return oC(r)?(r.nodeName||"").toLowerCase():"#document"}function ln(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function os(r){var e;return(e=(oC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function oC(r){return Af()?r instanceof Node||r instanceof ln(r).Node:!1}function zn(r){return Af()?r instanceof Element||r instanceof ln(r).Element:!1}function ns(r){return Af()?r instanceof HTMLElement||r instanceof ln(r).HTMLElement:!1}function xx(r){return!Af()||typeof ShadowRoot=="undefined"?!1:r instanceof ShadowRoot||r instanceof ln(r).ShadowRoot}function xd(r){const{overflow:e,overflowX:t,overflowY:i,display:n}=Bn(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(n)}function pP(r){return["table","td","th"].includes(Wl(r))}function Of(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch(t){return!1}})}function Nv(r){const e=zv(),t=zn(r)?Bn(r):r;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function gP(r){let e=xo(r);for(;ns(e)&&!Ol(e);){if(Nv(e))return e;if(Of(e))return null;e=xo(e)}return null}function zv(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ol(r){return["html","body","#document"].includes(Wl(r))}function Bn(r){return ln(r).getComputedStyle(r)}function If(r){return zn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function xo(r){if(Wl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||xx(r)&&r.host||os(r);return xx(e)?e.host:e}function aC(r){const e=xo(r);return Ol(e)?r.ownerDocument?r.ownerDocument.body:r.body:ns(e)&&xd(e)?e:aC(e)}function id(r,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=aC(r),s=n===((i=r.ownerDocument)==null?void 0:i.body),o=ln(n);if(s){const a=v0(o);return e.concat(o,o.visualViewport||[],xd(n)?n:[],a&&t?id(a):[])}return e.concat(n,id(n,[],t))}function v0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function lC(r){const e=Bn(r);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=ns(r),s=n?r.offsetWidth:t,o=n?r.offsetHeight:i,a=Hh(t)!==s||Hh(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function Bv(r){return zn(r)?r:r.contextElement}function pl(r){const e=Bv(r);if(!ns(e))return bo(1);const t=e.getBoundingClientRect(),{width:i,height:n,$:s}=lC(e);let o=(s?Hh(t.width):t.width)/i,a=(s?Hh(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vP=bo(0);function cC(r){const e=ln(r);return!zv()||!e.visualViewport?vP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _P(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ln(r)?!1:e}function ua(r,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=r.getBoundingClientRect(),s=Bv(r);let o=bo(1);e&&(i?zn(i)&&(o=pl(i)):o=pl(r));const a=_P(s,t,i)?cC(s):bo(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,d=n.width/o.x,u=n.height/o.y;if(s){const h=ln(s),f=i&&zn(i)?ln(i):i;let m=h,p=v0(m);for(;p&&i&&f!==m;){const g=pl(p),v=p.getBoundingClientRect(),b=Bn(p),S=v.left+(p.clientLeft+parseFloat(b.paddingLeft))*g.x,_=v.top+(p.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,u*=g.y,l+=S,c+=_,m=ln(p),p=v0(m)}}return Wh({width:d,height:u,x:l,y:c})}function yP(r){let{elements:e,rect:t,offsetParent:i,strategy:n}=r;const s=n==="fixed",o=os(i),a=e?Of(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=bo(1);const d=bo(0),u=ns(i);if((u||!u&&!s)&&((Wl(i)!=="body"||xd(o))&&(l=If(i)),ns(i))){const h=ua(i);c=pl(i),d.x=h.x+i.clientLeft,d.y=h.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x,y:t.y*c.y-l.scrollTop*c.y+d.y}}function bP(r){return Array.from(r.getClientRects())}function _0(r,e){const t=If(r).scrollLeft;return e?e.left+t:ua(os(r)).left+t}function xP(r){const e=os(r),t=If(r),i=r.ownerDocument.body,n=na(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=na(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+_0(r);const a=-t.scrollTop;return Bn(i).direction==="rtl"&&(o+=na(e.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:a}}function wP(r,e){const t=ln(r),i=os(r),n=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const c=zv();(!c||c&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}function SP(r,e){const t=ua(r,!0,e==="fixed"),i=t.top+r.clientTop,n=t.left+r.clientLeft,s=ns(r)?pl(r):bo(1),o=r.clientWidth*s.x,a=r.clientHeight*s.y,l=n*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function wx(r,e,t){let i;if(e==="viewport")i=wP(r,t);else if(e==="document")i=xP(os(r));else if(zn(e))i=SP(e,t);else{const n=cC(r);i=fn(Ui({},e),{x:e.x-n.x,y:e.y-n.y})}return Wh(i)}function dC(r,e){const t=xo(r);return t===e||!zn(t)||Ol(t)?!1:Bn(t).position==="fixed"||dC(t,e)}function TP(r,e){const t=e.get(r);if(t)return t;let i=id(r,[],!1).filter(a=>zn(a)&&Wl(a)!=="body"),n=null;const s=Bn(r).position==="fixed";let o=s?xo(r):r;for(;zn(o)&&!Ol(o);){const a=Bn(o),l=Nv(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||xd(o)&&!l&&dC(r,o))?i=i.filter(d=>d!==o):n=a,o=xo(o)}return e.set(r,i),i}function CP(r){let{element:e,boundary:t,rootBoundary:i,strategy:n}=r;const o=[...t==="clippingAncestors"?Of(e)?[]:TP(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,d)=>{const u=wx(e,d,n);return c.top=na(u.top,c.top),c.right=El(u.right,c.right),c.bottom=El(u.bottom,c.bottom),c.left=na(u.left,c.left),c},wx(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kP(r){const{width:e,height:t}=lC(r);return{width:e,height:t}}function EP(r,e,t){const i=ns(e),n=os(e),s=t==="fixed",o=ua(r,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=bo(0);if(i||!i&&!s)if((Wl(e)!=="body"||xd(n))&&(a=If(e)),i){const f=ua(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else n&&(l.x=_0(n));let c=0,d=0;if(n&&!i&&!s){const f=n.getBoundingClientRect();d=f.top+a.scrollTop,c=f.left+a.scrollLeft-_0(n,f)}const u=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:u,y:h,width:o.width,height:o.height}}function Sg(r){return Bn(r).position==="static"}function Sx(r,e){if(!ns(r)||Bn(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return os(r)===t&&(t=t.ownerDocument.body),t}function uC(r,e){const t=ln(r);if(Of(r))return t;if(!ns(r)){let n=xo(r);for(;n&&!Ol(n);){if(zn(n)&&!Sg(n))return n;n=xo(n)}return t}let i=Sx(r,e);for(;i&&pP(i)&&Sg(i);)i=Sx(i,e);return i&&Ol(i)&&Sg(i)&&!Nv(i)?t:i||gP(r)||t}const AP=function(r){return le(this,null,function*(){const e=this.getOffsetParent||uC,t=this.getDimensions,i=yield t(r.floating);return{reference:EP(r.reference,yield e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};function OP(r){return Bn(r).direction==="rtl"}const IP={convertOffsetParentRelativeRectToViewportRelativeRect:yP,getDocumentElement:os,getClippingRect:CP,getOffsetParent:uC,getElementRects:AP,getClientRects:bP,getDimensions:kP,getScale:pl,isElement:zn,isRTL:OP};function LP(r,e){let t=null,i;const n=os(r);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:u,height:h}=r.getBoundingClientRect();if(a||e(),!u||!h)return;const f=qu(d),m=qu(n.clientWidth-(c+u)),p=qu(n.clientHeight-(d+h)),g=qu(c),b={rootMargin:-f+"px "+-m+"px "+-p+"px "+-g+"px",threshold:na(0,El(1,l))||1};let S=!0;function _(x){const I=x[0].intersectionRatio;if(I!==l){if(!S)return o();I?o(!1,I):i=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(_,fn(Ui({},b),{root:n.ownerDocument}))}catch(x){t=new IntersectionObserver(_,b)}t.observe(r)}return o(!0),s}function Tx(r,e,t,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Bv(r),d=n||s?[...c?id(c):[],...id(e)]:[];d.forEach(v=>{n&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const u=c&&a?LP(c,t):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,p=l?ua(r):null;l&&g();function g(){const v=ua(r);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&t(),p=v,m=requestAnimationFrame(g)}return t(),()=>{var v;d.forEach(b=>{n&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),u==null||u(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const PP=fP,DP=mP,MP=uP,RP=dP,FP=(r,e,t)=>{const i=new Map,n=Ui({platform:IP},t),s=fn(Ui({},n.platform),{_c:i});return cP(r,e,fn(Ui({},n),{platform:s}))};function Cx(r){let e;return{c(){e=ai("div")},m(t,i){Me(t,e,i),r[24](e)},p:Pt,d(t){t&&Le(e),r[24](null)}}}function kx(r){let e,t,i;const n=[{use:r[10]},{options:r[3]},{role:"tooltip"},{tabindex:r[1]?-1:void 0},r[12]];function s(a){r[25](a)}let o={$$slots:{default:[NP]},$$scope:{ctx:r}};for(let a=0;a<n.length;a+=1)o=vt(o,n[a]);return r[0]!==void 0&&(o.open=r[0]),e=new GL({props:o}),en.push(()=>fd(e,"open",s)),e.$on("focusin",function(){Zr(io(r[1]&&r[4],r[8]))&&io(r[1]&&r[4],r[8]).apply(this,arguments)}),e.$on("focusout",function(){Zr(io(r[1]&&r[4],r[9]))&&io(r[1]&&r[4],r[9]).apply(this,arguments)}),e.$on("mouseenter",function(){Zr(io(r[1]&&r[5],r[8]))&&io(r[1]&&r[5],r[8]).apply(this,arguments)}),e.$on("mouseleave",function(){Zr(io(r[1]&&r[5],r[9]))&&io(r[1]&&r[5],r[9]).apply(this,arguments)}),{c(){wi(e.$$.fragment)},m(a,l){pi(e,a,l),i=!0},p(a,l){r=a;const c=l[0]&5130?fi(n,[l[0]&1024&&{use:r[10]},l[0]&8&&{options:r[3]},n[2],l[0]&2&&{tabindex:r[1]?-1:void 0},l[0]&4096&&ma(r[12])]):{};l[0]&67108996&&(c.$$scope={dirty:l,ctx:r}),!t&&l[0]&1&&(t=!0,c.open=r[0],hd(()=>t=!1)),e.$set(c)},i(a){i||($e(e.$$.fragment,a),i=!0)},o(a){st(e.$$.fragment,a),i=!1},d(a){gi(e,a)}}}function Ex(r){let e,t,i;return{c(){e=ai("div"),ae(e,"class",r[7])},m(n,s){Me(n,e,s),t||(i=Z0(r[11].call(null,e)),t=!0)},p(n,s){s[0]&128&&ae(e,"class",n[7])},d(n){n&&Le(e),t=!1,i()}}}function NP(r){let e,t,i;const n=r[23].default,s=Cr(n,r,r[26],null);let o=r[2]&&Ex(r);return{c(){s&&s.c(),e=Tr(),o&&o.c(),t=Ht()},m(a,l){s&&s.m(a,l),Me(a,e,l),o&&o.m(a,l),Me(a,t,l),i=!0},p(a,l){s&&s.p&&(!i||l[0]&67108864)&&Er(s,n,a,a[26],i?kr(n,a[26],l,null):Ar(a[26]),null),a[2]?o?o.p(a,l):(o=Ex(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(a){i||($e(s,a),i=!0)},o(a){st(s,a),i=!1},d(a){a&&(Le(e),Le(t)),s&&s.d(a),o&&o.d(a)}}}function zP(r){let e,t,i,n=!r[3]&&Cx(r),s=r[3]&&kx(r);return{c(){n&&n.c(),e=Tr(),s&&s.c(),t=Ht()},m(o,a){n&&n.m(o,a),Me(o,e,a),s&&s.m(o,a),Me(o,t,a),i=!0},p(o,a){o[3]?n&&(n.d(1),n=null):n?n.p(o,a):(n=Cx(o),n.c(),n.m(e.parentNode,e)),o[3]?s?(s.p(o,a),a[0]&8&&$e(s,1)):(s=kx(o),s.c(),$e(s,1),s.m(t.parentNode,t)):s&&(Dr(),st(s,1,1,()=>{s=null}),Mr())},i(o){i||($e(s),i=!0)},o(o){st(s),i=!1},d(o){o&&(Le(e),Le(t)),n&&n.d(o),s&&s.d(o)}}}function io(r,e){return r?e:()=>{}}function BP(r,e,t){let i;const n=["activeContent","arrow","offset","placement","trigger","triggeredBy","reference","strategy","open","yOnly","middlewares"];let s=si(e,n),{$$slots:o={},$$scope:a}=e,{activeContent:l=!1}=e,{arrow:c=!0}=e,{offset:d=8}=e,{placement:u="top"}=e,{trigger:h="hover"}=e,{triggeredBy:f=void 0}=e,{reference:m=void 0}=e,{strategy:p="absolute"}=e,{open:g=!1}=e,{yOnly:v=!1}=e,{middlewares:b=[MP(),DP()]}=e;const S=oS();let _,x,I,T,O,E,w,X=[];const H=je=>{T===void 0&&console.error("trigger undefined"),!(!m&&X.includes(je.target)&&T!==je.target&&(t(3,T=je.target),g))&&t(0,g=je.type==="click"?!g:!0)},Y=je=>je.matches(":hover"),k=je=>je?`${je}px`:"",D=je=>{if(l&&I){const At=[T,O,...X].filter(Boolean);setTimeout(()=>{je.type==="mouseleave"&&!At.some(Y)&&t(0,g=!1)},100)}else t(0,g=!1)};let M;const L={left:"right",right:"left",bottom:"top",top:"bottom"};function J(){FP(T,O,{placement:u,strategy:p,middleware:i}).then(({x:je,y:At,middlewareData:It,placement:de,strategy:pe})=>{O.style.position=pe,O.style.left=v?"0":k(je),O.style.top=k(At),It.arrow&&E instanceof HTMLDivElement&&(t(21,E.style.left=k(It.arrow.x),E),t(21,E.style.top=k(It.arrow.y),E),t(22,M=L[de.split("-")[0]]),t(21,E.style[M]=k(-E.offsetWidth/2-(e.border?1:0)),E))})}function ce(je,At){O=je;let It=Tx(At,O,J);return{update(de){It(),It=Tx(de,O,J)},destroy(){It()}}}uf(()=>{var At;const je=[["focusin",H,_],["focusout",D,_],["click",H,x],["mouseenter",H,I],["mouseleave",D,I]];return f?X=[...document.querySelectorAll(f)]:X=w.previousElementSibling?[w.previousElementSibling]:[],X.length||console.error("No triggers found."),X.forEach(It=>{It.tabIndex<0&&(It.tabIndex=0);for(const[de,pe,He]of je)He&&It.addEventListener(de,pe)}),m?(t(3,T=(At=document.querySelector(m))!=null?At:document.body),T===document.body?console.error(`Popup reference not found: '${m}'`):(_&&T.addEventListener("focusout",D),I&&T.addEventListener("mouseleave",D))):t(3,T=X[0]),x&&document.addEventListener("click",te),()=>{X.forEach(It=>{if(It)for(const[de,pe]of je)It.removeEventListener(de,pe)}),T&&(T.removeEventListener("focusout",D),T.removeEventListener("mouseleave",D)),document.removeEventListener("click",te)}});function te(je){g&&!je.composedPath().includes(O)&&!X.some(At=>je.composedPath().includes(At))&&D(je)}let et;function ot(je){return t(21,E=je),{destroy(){t(21,E=null)}}}function Ot(je){en[je?"unshift":"push"](()=>{w=je,t(6,w)})}function gt(je){g=je,t(0,g)}return r.$$set=je=>{t(38,e=vt(vt({},e),ni(je))),t(12,s=si(e,n)),"activeContent"in je&&t(1,l=je.activeContent),"arrow"in je&&t(2,c=je.arrow),"offset"in je&&t(13,d=je.offset),"placement"in je&&t(14,u=je.placement),"trigger"in je&&t(15,h=je.trigger),"triggeredBy"in je&&t(16,f=je.triggeredBy),"reference"in je&&t(17,m=je.reference),"strategy"in je&&t(18,p=je.strategy),"open"in je&&t(0,g=je.open),"yOnly"in je&&t(19,v=je.yOnly),"middlewares"in je&&t(20,b=je.middlewares),"$$scope"in je&&t(26,a=je.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&32768&&t(4,_=h==="focus"),r.$$.dirty[0]&32768&&(x=h==="click"),r.$$.dirty[0]&32768&&t(5,I=h==="hover"),r.$$.dirty[0]&1&&S("show",g),r.$$.dirty[0]&16392&&u&&(t(3,T),t(14,u)),r.$$.dirty[0]&3153920&&(i=[...b,PP(+d),E&&RP({element:E,padding:10})]),t(7,et=$T("absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit",e.border&&M==="bottom"&&"border-b border-e",e.border&&M==="top"&&"border-t border-s ",e.border&&M==="right"&&"border-t border-e ",e.border&&M==="left"&&"border-b border-s "))},e=ni(e),[g,l,c,T,_,I,w,et,H,D,ce,ot,s,d,u,h,f,m,p,v,b,E,M,o,Ot,gt,a]}class hC extends cr{constructor(e){super(),lr(this,e,BP,zP,Oi,{activeContent:1,arrow:2,offset:13,placement:14,trigger:15,triggeredBy:16,reference:17,strategy:18,open:0,yOnly:19,middlewares:20},null,[-1,-1])}}function jP(r){let e;const t=r[7].default,i=Cr(t,r,r[6],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&64)&&Er(i,t,n,n[6],e?kr(t,n[6],s,null):Ar(n[6]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function GP(r){let e,t;const i=r[7].default,n=Cr(i,r,r[6],null);let s=[r[3],{class:r[2]}],o={};for(let a=0;a<s.length;a+=1)o=vt(o,s[a]);return{c(){e=ai("label"),n&&n.c(),Os(e,o)},m(a,l){Me(a,e,l),n&&n.m(e,null),r[8](e),t=!0},p(a,l){n&&n.p&&(!t||l&64)&&Er(n,i,a,a[6],t?kr(i,a[6],l,null):Ar(a[6]),null),Os(e,o=fi(s,[l&8&&a[3],(!t||l&4)&&{class:a[2]}]))},i(a){t||($e(n,a),t=!0)},o(a){st(n,a),t=!1},d(a){a&&Le(e),n&&n.d(a),r[8](null)}}}function VP(r){let e,t,i,n;const s=[GP,jP],o=[];function a(l,c){return l[0]?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=Ht()},m(l,c){o[e].m(l,c),Me(l,i,c),n=!0},p(l,[c]){let d=e;e=a(l),e===d?o[e].p(l,c):(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr(),t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i))},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),o[e].d(l)}}}function UP(r,e,t){let i;const n=["color","defaultClass","show"];let s=si(e,n),{$$slots:o={},$$scope:a}=e,{color:l="gray"}=e,{defaultClass:c="text-sm rtl:text-right font-medium block"}=e,{show:d=!0}=e,u;const h={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500 grayscale contrast-50"};function f(m){en[m?"unshift":"push"](()=>{u=m,t(1,u)})}return r.$$set=m=>{t(10,e=vt(vt({},e),ni(m))),t(3,s=si(e,n)),"color"in m&&t(4,l=m.color),"defaultClass"in m&&t(5,c=m.defaultClass),"show"in m&&t(0,d=m.show),"$$scope"in m&&t(6,a=m.$$scope)},r.$$.update=()=>{if(r.$$.dirty&18){const m=u==null?void 0:u.control;t(4,l=m!=null&&m.disabled?"disabled":l)}t(2,i=jt(c,h[l],e.class))},e=ni(e),[d,u,i,s,l,c,a,o,f]}class HP extends cr{constructor(e){super(),lr(this,e,UP,VP,Oi,{color:4,defaultClass:5,show:0})}}let XP=Date.now();function WP(){return(++XP).toString(36)}function Ax(r,e,t){const i=r.slice();return i[17]=e[t].value,i[18]=e[t].name,i[19]=e[t].disabled,i}function Ox(r){let e,t,i;return{c(){e=ai("option"),t=Bt(r[2]),e.disabled=!0,e.selected=i=r[0]===void 0?!0:void 0,e.__value="",Xg(e,e.__value)},m(n,s){Me(n,e,s),Ze(e,t)},p(n,s){s&4&&Xt(t,n[2]),s&3&&i!==(i=n[0]===void 0?!0:void 0)&&(e.selected=i)},d(n){n&&Le(e)}}}function YP(r){let e;const t=r[10].default,i=Cr(t,r,r[9],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&512)&&Er(i,t,n,n[9],e?kr(t,n[9],s,null):Ar(n[9]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function qP(r){let e,t=Eh(r[1]),i=[];for(let n=0;n<t.length;n+=1)i[n]=Ix(Ax(r,t,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=Ht()},m(n,s){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,s);Me(n,e,s)},p(n,s){if(s&3){t=Eh(n[1]);let o;for(o=0;o<t.length;o+=1){const a=Ax(n,t,o);i[o]?i[o].p(a,s):(i[o]=Ix(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},i:Pt,o:Pt,d(n){n&&Le(e),rS(i,n)}}}function Ix(r){let e,t=r[18]+"",i,n,s,o;return{c(){e=ai("option"),i=Bt(t),e.disabled=n=r[19],e.__value=s=r[17],Xg(e,e.__value),e.selected=o=r[17]===r[0]?!0:void 0},m(a,l){Me(a,e,l),Ze(e,i)},p(a,l){l&2&&t!==(t=a[18]+"")&&Xt(i,t),l&2&&n!==(n=a[19])&&(e.disabled=n),l&2&&s!==(s=a[17])&&(e.__value=s,Xg(e,e.__value)),l&3&&o!==(o=a[17]===a[0]?!0:void 0)&&(e.selected=o)},d(a){a&&Le(e)}}}function ZP(r){let e,t,i,n,s,o,a,l=r[2]&&Ox(r);const c=[qP,YP],d=[];function u(m,p){return m[1]&&m[1].length>0?0:1}i=u(r),n=d[i]=c[i](r);let h=[r[4],{class:r[3]}],f={};for(let m=0;m<h.length;m+=1)f=vt(f,h[m]);return{c(){e=ai("select"),l&&l.c(),t=Ht(),n.c(),Os(e,f),r[0]===void 0&&is(()=>r[14].call(e))},m(m,p){Me(m,e,p),l&&l.m(e,null),Ze(e,t),d[i].m(e,null),"value"in f&&(f.multiple?gb:bu)(e,f.value),e.autofocus&&e.focus(),bu(e,r[0],!0),s=!0,o||(a=[ze(e,"change",r[14]),ze(e,"change",r[11]),ze(e,"contextmenu",r[12]),ze(e,"input",r[13])],o=!0)},p(m,[p]){m[2]?l?l.p(m,p):(l=Ox(m),l.c(),l.m(e,t)):l&&(l.d(1),l=null);let g=i;i=u(m),i===g?d[i].p(m,p):(Dr(),st(d[g],1,1,()=>{d[g]=null}),Mr(),n=d[i],n?n.p(m,p):(n=d[i]=c[i](m),n.c()),$e(n,1),n.m(e,null)),Os(e,f=fi(h,[p&16&&m[4],(!s||p&8)&&{class:m[3]}])),p&24&&"value"in f&&(f.multiple?gb:bu)(e,f.value),p&3&&bu(e,m[0])},i(m){s||($e(n),s=!0)},o(m){st(n),s=!1},d(m){m&&Le(e),l&&l.d(),d[i].d(),o=!1,ar(a)}}}const KP="block w-full";function JP(r,e,t){const i=["items","value","placeholder","underline","size","defaultClass","underlineClass"];let n=si(e,i),{$$slots:s={},$$scope:o}=e,{items:a=[]}=e,{value:l=""}=e,{placeholder:c="Choose option ..."}=e,{underline:d=!1}=e,{size:u="md"}=e,{defaultClass:h="text-gray-900 disabled:text-gray-400 bg-gray-50 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:disabled:text-gray-500 dark:focus:ring-primary-500 dark:focus:border-primary-500"}=e,{underlineClass:f="text-gray-500 disabled:text-gray-400 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:disabled:text-gray-500 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer"}=e;const m={sm:"text-sm p-2",md:"text-sm p-2.5",lg:"text-base py-3 px-4"};let p;function g(_){ke.call(this,r,_)}function v(_){ke.call(this,r,_)}function b(_){ke.call(this,r,_)}function S(){l=FA(this),t(0,l),t(1,a)}return r.$$set=_=>{t(16,e=vt(vt({},e),ni(_))),t(4,n=si(e,i)),"items"in _&&t(1,a=_.items),"value"in _&&t(0,l=_.value),"placeholder"in _&&t(2,c=_.placeholder),"underline"in _&&t(5,d=_.underline),"size"in _&&t(6,u=_.size),"defaultClass"in _&&t(7,h=_.defaultClass),"underlineClass"in _&&t(8,f=_.underlineClass),"$$scope"in _&&t(9,o=_.$$scope)},r.$$.update=()=>{t(3,p=jt(KP,d?f:h,m[u],d&&"!px-0",e.class))},e=ni(e),[l,a,c,p,n,d,u,h,f,o,s,g,v,b,S]}class QP extends cr{constructor(e){super(),lr(this,e,JP,ZP,Oi,{items:1,value:0,placeholder:2,underline:5,size:6,defaultClass:7,underlineClass:8})}}const $P=r=>({}),Lx=r=>({}),eD=r=>({}),Px=r=>({}),tD=r=>({}),Dx=r=>({});function iD(r){let e,t;const i=[{pill:r[2]},{name:r[5]},{"aria-controls":r[4]},{"aria-expanded":r[0]},r[9],{class:"!p-3"}];let n={$$slots:{default:[sD]},$$scope:{ctx:r}};for(let s=0;s<i.length;s+=1)n=vt(n,i[s]);return e=new Ef({props:n}),{c(){wi(e.$$.fragment)},m(s,o){pi(e,s,o),t=!0},p(s,o){const a=o&565?fi(i,[o&4&&{pill:s[2]},o&32&&{name:s[5]},o&16&&{"aria-controls":s[4]},o&1&&{"aria-expanded":s[0]},o&512&&ma(s[9]),i[5]]):{};o&65568&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||($e(e.$$.fragment,s),t=!0)},o(s){st(e.$$.fragment,s),t=!1},d(s){gi(e,s)}}}function rD(r){let e,t;const i=[{pill:r[2]},{name:r[5]},{"aria-controls":r[4]},{"aria-expanded":r[0]},r[9],{class:"!p-3"}];let n={$$slots:{default:[aD]},$$scope:{ctx:r}};for(let s=0;s<i.length;s+=1)n=vt(n,i[s]);return e=new $L({props:n}),{c(){wi(e.$$.fragment)},m(s,o){pi(e,s,o),t=!0},p(s,o){const a=o&565?fi(i,[o&4&&{pill:s[2]},o&32&&{name:s[5]},o&16&&{"aria-controls":s[4]},o&1&&{"aria-expanded":s[0]},o&512&&ma(s[9]),i[5]]):{};o&65568&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||($e(e.$$.fragment,s),t=!0)},o(s){st(e.$$.fragment,s),t=!1},d(s){gi(e,s)}}}function nD(r){let e,t;return{c(){e=ht("svg"),t=ht("path"),ae(t,"stroke-linecap","round"),ae(t,"stroke-linejoin","round"),ae(t,"stroke-width","2"),ae(t,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),ae(e,"aria-hidden","true"),ae(e,"class","w-8 h-8 transition-transform group-hover:rotate-45"),ae(e,"fill","none"),ae(e,"stroke","currentColor"),ae(e,"viewBox","0 0 24 24"),ae(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Me(i,e,n),Ze(e,t)},p:Pt,d(i){i&&Le(e)}}}function sD(r){let e,t,i,n;const s=r[14].icon,o=Cr(s,r,r[16],Lx),a=o||nD();return{c(){a&&a.c(),e=Tr(),t=ai("span"),i=Bt(r[5]),ae(t,"class","sr-only")},m(l,c){a&&a.m(l,c),Me(l,e,c),Me(l,t,c),Ze(t,i),n=!0},p(l,c){o&&o.p&&(!n||c&65536)&&Er(o,s,l,l[16],n?kr(s,l[16],c,$P):Ar(l[16]),Lx),(!n||c&32)&&Xt(i,l[5])},i(l){n||($e(a,l),n=!0)},o(l){st(a,l),n=!1},d(l){l&&(Le(e),Le(t)),a&&a.d(l)}}}function oD(r){let e,t;return{c(){e=ht("svg"),t=ht("path"),ae(t,"stroke-linecap","round"),ae(t,"stroke-linejoin","round"),ae(t,"stroke-width","2"),ae(t,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),ae(e,"aria-hidden","true"),ae(e,"class","w-8 h-8 transition-transform group-hover:rotate-45"),ae(e,"fill","none"),ae(e,"stroke","currentColor"),ae(e,"viewBox","0 0 24 24"),ae(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Me(i,e,n),Ze(e,t)},p:Pt,d(i){i&&Le(e)}}}function aD(r){let e,t,i,n;const s=r[14].icon,o=Cr(s,r,r[16],Px),a=o||oD();return{c(){a&&a.c(),e=Tr(),t=ai("span"),i=Bt(r[5]),ae(t,"class","sr-only")},m(l,c){a&&a.m(l,c),Me(l,e,c),Me(l,t,c),Ze(t,i),n=!0},p(l,c){o&&o.p&&(!n||c&65536)&&Er(o,s,l,l[16],n?kr(s,l[16],c,eD):Ar(l[16]),Px),(!n||c&32)&&Xt(i,l[5])},i(l){n||($e(a,l),n=!0)},o(l){st(a,l),n=!1},d(l){l&&(Le(e),Le(t)),a&&a.d(l)}}}function lD(r){let e,t,i,n;const s=[rD,iD],o=[];function a(l,c){return l[6]?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=Ht()},m(l,c){o[e].m(l,c),Me(l,i,c),n=!0},p(l,c){let d=e;e=a(l),e===d?o[e].p(l,c):(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr(),t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i))},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),o[e].d(l)}}}function cD(r){let e;const t=r[14].default,i=Cr(t,r,r[16],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&65536)&&Er(i,t,n,n[16],e?kr(t,n[16],s,null):Ar(n[16]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function dD(r){let e,t,i,n,s;const o=r[14].button,a=Cr(o,r,r[16],Dx),l=a||lD(r);function c(u){r[15](u)}let d={id:r[4],trigger:r[3],arrow:!1,color:"none",activeContent:!0,placement:r[1],class:r[8],$$slots:{default:[cD]},$$scope:{ctx:r}};return r[0]!==void 0&&(d.open=r[0]),i=new hC({props:d}),en.push(()=>fd(i,"open",c)),{c(){e=ai("div"),l&&l.c(),t=Tr(),wi(i.$$.fragment),ae(e,"class",r[7])},m(u,h){Me(u,e,h),l&&l.m(e,null),Ze(e,t),pi(i,e,null),s=!0},p(u,[h]){a?a.p&&(!s||h&65536)&&Er(a,o,u,u[16],s?kr(o,u[16],h,tD):Ar(u[16]),Dx):l&&l.p&&(!s||h&66165)&&l.p(u,s?h:-1);const f={};h&16&&(f.id=u[4]),h&8&&(f.trigger=u[3]),h&2&&(f.placement=u[1]),h&256&&(f.class=u[8]),h&65536&&(f.$$scope={dirty:h,ctx:u}),!n&&h&1&&(n=!0,f.open=u[0],hd(()=>n=!1)),i.$set(f),(!s||h&128)&&ae(e,"class",u[7])},i(u){s||($e(l,u),$e(i.$$.fragment,u),s=!0)},o(u){st(l,u),st(i.$$.fragment,u),s=!1},d(u){u&&Le(e),l&&l.d(u),gi(i)}}}function uD(r,e,t){const i=["defaultClass","popperDefaultClass","placement","pill","tooltip","trigger","textOutside","id","name","gradient","open"];let n=si(e,i),{$$slots:s={},$$scope:o}=e,{defaultClass:a="fixed end-6 bottom-6"}=e,{popperDefaultClass:l="flex items-center mb-4 gap-2"}=e,{placement:c="top"}=e,{pill:d=!0}=e,{tooltip:u="left"}=e,{trigger:h="hover"}=e,{textOutside:f=!1}=e,{id:m=WP()}=e,{name:p="Open actions menu"}=e,{gradient:g=!1}=e,{open:v=!1}=e;Wg("speed-dial",{pill:d,tooltip:u,textOutside:f});let b,S;function _(x){v=x,t(0,v)}return r.$$set=x=>{t(17,e=vt(vt({},e),ni(x))),t(9,n=si(e,i)),"defaultClass"in x&&t(10,a=x.defaultClass),"popperDefaultClass"in x&&t(11,l=x.popperDefaultClass),"placement"in x&&t(1,c=x.placement),"pill"in x&&t(2,d=x.pill),"tooltip"in x&&t(12,u=x.tooltip),"trigger"in x&&t(3,h=x.trigger),"textOutside"in x&&t(13,f=x.textOutside),"id"in x&&t(4,m=x.id),"name"in x&&t(5,p=x.name),"gradient"in x&&t(6,g=x.gradient),"open"in x&&t(0,v=x.open),"$$scope"in x&&t(16,o=x.$$scope)},r.$$.update=()=>{t(7,b=jt(a,"group",e.class)),r.$$.dirty&2050&&t(8,S=jt(l,["top","bottom"].includes(c.split("-")[0])&&"flex-col")),console.log(typeof n,Object.keys(n))},e=ni(e),[v,c,d,h,m,p,g,b,S,n,a,l,u,f,s,_,o]}class hD extends cr{constructor(e){super(),lr(this,e,uD,dD,Oi,{defaultClass:10,popperDefaultClass:11,placement:1,pill:2,tooltip:12,trigger:3,textOutside:13,id:4,name:5,gradient:6,open:0})}}function fD(r){let e;const t=r[4].default,i=Cr(t,r,r[6],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||s&64)&&Er(i,t,n,n[6],e?kr(t,n[6],s,null):Ar(n[6]),null)},i(n){e||($e(i,n),e=!0)},o(n){st(i,n),e=!1},d(n){i&&i.d(n)}}}function mD(r){let e,t;const i=[{rounded:!0},{shadow:!0},r[1],{class:r[0]}];let n={$$slots:{default:[fD]},$$scope:{ctx:r}};for(let s=0;s<i.length;s+=1)n=vt(n,i[s]);return e=new hC({props:n}),e.$on("show",r[5]),{c(){wi(e.$$.fragment)},m(s,o){pi(e,s,o),t=!0},p(s,[o]){const a=o&3?fi(i,[i[0],i[1],o&2&&ma(s[1]),o&1&&{class:s[0]}]):{};o&64&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||($e(e.$$.fragment,s),t=!0)},o(s){st(e.$$.fragment,s),t=!1},d(s){gi(e,s)}}}function pD(r,e,t){const i=["type","defaultClass"];let n=si(e,i),{$$slots:s={},$$scope:o}=e,{type:a="dark"}=e,{defaultClass:l="py-2 px-3 text-sm font-medium"}=e;const c={dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border-gray-200 bg-white text-gray-900",auto:" bg-white text-gray-900 dark:bg-gray-700 dark:text-white border-gray-200 dark:border-gray-700",custom:""};let d;function u(h){ke.call(this,r,h)}return r.$$set=h=>{t(8,e=vt(vt({},e),ni(h))),t(1,n=si(e,i)),"type"in h&&t(2,a=h.type),"defaultClass"in h&&t(3,l=h.defaultClass),"$$scope"in h&&t(6,o=h.$$scope)},r.$$.update=()=>{n.color?t(2,a="custom"):t(1,n.color="none",n),["light","auto"].includes(a)&&t(1,n.border=!0,n),t(0,d=jt("tooltip",l,c[a],e.class))},e=ni(e),[d,n,a,l,s,u,o]}class gD extends cr{constructor(e){super(),lr(this,e,pD,mD,Oi,{type:2,defaultClass:3})}}function vD(r){let e,t;return{c(){e=ai("span"),t=Bt(r[0]),ae(e,"class",r[5])},m(i,n){Me(i,e,n),Ze(e,t)},p(i,n){n&1&&Xt(t,i[0]),n&32&&ae(e,"class",i[5])},d(i){i&&Le(e)}}}function _D(r){let e,t;return{c(){e=ai("span"),t=Bt(r[0]),ae(e,"class",r[4])},m(i,n){Me(i,e,n),Ze(e,t)},p(i,n){n&1&&Xt(t,i[0]),n&16&&ae(e,"class",i[4])},d(i){i&&Le(e)}}}function yD(r){let e,t;return{c(){e=ai("span"),t=Bt(r[0]),ae(e,"class","sr-only")},m(i,n){Me(i,e,n),Ze(e,t)},p(i,n){n&1&&Xt(t,i[0])},d(i){i&&Le(e)}}}function bD(r){let e,t,i;const n=r[9].default,s=Cr(n,r,r[11],null);function o(c,d){return c[1]!=="none"?yD:c[3]?_D:vD}let a=o(r),l=a(r);return{c(){s&&s.c(),e=Tr(),l.c(),t=Ht()},m(c,d){s&&s.m(c,d),Me(c,e,d),l.m(c,d),Me(c,t,d),i=!0},p(c,d){s&&s.p&&(!i||d&2048)&&Er(s,n,c,c[11],i?kr(n,c[11],d,null):Ar(c[11]),null),a===(a=o(c))&&l?l.p(c,d):(l.d(1),l=a(c),l&&(l.c(),l.m(t.parentNode,t)))},i(c){i||($e(s,c),i=!0)},o(c){st(s,c),i=!1},d(c){c&&(Le(e),Le(t)),s&&s.d(c),l.d(c)}}}function Mx(r){let e,t;return e=new gD({props:{placement:r[1],style:"dark",$$slots:{default:[xD]},$$scope:{ctx:r}}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p(i,n){const s={};n&2&&(s.placement=i[1]),n&2049&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function xD(r){let e;return{c(){e=Bt(r[0])},m(t,i){Me(t,e,i)},p(t,i){i&1&&Xt(e,t[0])},d(t){t&&Le(e)}}}function wD(r){let e,t,i,n;const s=[{pill:r[2]},{outline:!0},{color:"light"},r[7],{class:r[6]}];let o={$$slots:{default:[bD]},$$scope:{ctx:r}};for(let l=0;l<s.length;l+=1)o=vt(o,s[l]);e=new Ef({props:o}),e.$on("click",r[10]);let a=r[1]!=="none"&&Mx(r);return{c(){wi(e.$$.fragment),t=Tr(),a&&a.c(),i=Ht()},m(l,c){pi(e,l,c),Me(l,t,c),a&&a.m(l,c),Me(l,i,c),n=!0},p(l,[c]){const d=c&196?fi(s,[c&4&&{pill:l[2]},s[1],s[2],c&128&&ma(l[7]),c&64&&{class:l[6]}]):{};c&2107&&(d.$$scope={dirty:c,ctx:l}),e.$set(d),l[1]!=="none"?a?(a.p(l,c),c&2&&$e(a,1)):(a=Mx(l),a.c(),$e(a,1),a.m(i.parentNode,i)):a&&(Dr(),st(a,1,1,()=>{a=null}),Mr())},i(l){n||($e(e.$$.fragment,l),$e(a),n=!0)},o(l){st(e.$$.fragment,l),st(a),n=!1},d(l){l&&(Le(t),Le(i)),gi(e,l),a&&a.d(l)}}}function SD(r,e,t){const i=["btnDefaultClass","name","tooltip","pill","textOutside","textOutsideClass","textDefaultClass"];let n=si(e,i),{$$slots:s={},$$scope:o}=e;const a=Gn("speed-dial");let{btnDefaultClass:l="w-[52px] h-[52px] shadow-sm !p-2"}=e,{name:c=""}=e,{tooltip:d=a.tooltip}=e,{pill:u=a.pill}=e,{textOutside:h=a.textOutside}=e,{textOutsideClass:f="block absolute -start-14 top-1/2 mb-px text-sm font-medium -translate-y-1/2"}=e,{textDefaultClass:m="block mb-px text-xs font-medium"}=e,p;function g(v){ke.call(this,r,v)}return r.$$set=v=>{t(13,e=vt(vt({},e),ni(v))),t(7,n=si(e,i)),"btnDefaultClass"in v&&t(8,l=v.btnDefaultClass),"name"in v&&t(0,c=v.name),"tooltip"in v&&t(1,d=v.tooltip),"pill"in v&&t(2,u=v.pill),"textOutside"in v&&t(3,h=v.textOutside),"textOutsideClass"in v&&t(4,f=v.textOutsideClass),"textDefaultClass"in v&&t(5,m=v.textDefaultClass),"$$scope"in v&&t(11,o=v.$$scope)},r.$$.update=()=>{t(6,p=jt(l,d==="none"&&"flex-col",h&&"relative",e.class))},e=ni(e),[c,d,u,h,f,m,p,n,l,s,g,o]}class Il extends cr{constructor(e){super(),lr(this,e,SD,wD,Oi,{btnDefaultClass:8,name:0,tooltip:1,pill:2,textOutside:3,textOutsideClass:4,textDefaultClass:5})}}function TD(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&Rx(r),a=r[5].id&&r[5].desc&&Fx(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"d","M10.83 5a3.001 3.001 0 0 0-5.66 0H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17ZM4 11h9.17a3.001 3.001 0 0 1 5.66 0H20a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H4a1 1 0 1 1 0-2Zm1.17 6H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17a3.001 3.001 0 0 0-5.66 0Z"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=Rx(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=Fx(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function CD(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&Nx(r),c=r[5].id&&r[5].desc&&zx(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"d","M10.83 5a3.001 3.001 0 0 0-5.66 0H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17ZM4 11h9.17a3.001 3.001 0 0 1 5.66 0H20a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H4a1 1 0 1 1 0-2Zm1.17 6H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17a3.001 3.001 0 0 0-5.66 0Z"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=Nx(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=zx(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function Rx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Fx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Nx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function zx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function kD(r){let e;function t(s,o){return s[3]?CD:TD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function ED(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="adjustments horizontal solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class AD extends cr{constructor(e){super(),lr(this,e,ED,kD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function OD(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&Bx(r),a=r[5].id&&r[5].desc&&jx(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"stroke","currentColor"),ae(i,"stroke-linecap","round"),ae(i,"stroke-width","3"),ae(i,"d","M6 12h.01m6 0h.01m5.99 0h.01"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=Bx(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=jx(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},h&4&&{color:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function ID(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&Gx(r),c=r[5].id&&r[5].desc&&Vx(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"stroke","currentColor"),ae(i,"stroke-linecap","round"),ae(i,"stroke-width","3"),ae(i,"d","M6 12h.01m6 0h.01m5.99 0h.01"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=Gx(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=Vx(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},m&4&&{color:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function Bx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function jx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Gx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Vx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function LD(r){let e;function t(s,o){return s[3]?ID:OD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function PD(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="dots horizontal outline"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class DD extends cr{constructor(e){super(),lr(this,e,PD,LD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function MD(r){var u;let e,t,i,n,s,o,a=r[4].id&&r[4].title&&Ux(r),l=r[5].id&&r[5].desc&&Hx(r),c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:s=jt("shrink-0",r[8][(u=r[0])!=null?u:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":o=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],d={};for(let h=0;h<c.length;h+=1)d=vt(d,c[h]);return{c(){e=ht("svg"),a&&a.c(),t=Ht(),l&&l.c(),i=ht("path"),n=ht("path"),ae(i,"d","M5 3a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm0 12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H5Zm12 0a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-2Zm0-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-2Z"),ae(n,"fill-rule","evenodd"),ae(n,"d","M10 6.5a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1ZM10 18a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Zm-4-4a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1Zm12 0a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1Z"),ae(n,"clip-rule","evenodd"),di(e,d)},m(h,f){Me(h,e,f),a&&a.m(e,null),Ze(e,t),l&&l.m(e,null),Ze(e,i),Ze(e,n)},p(h,f){var m;h[4].id&&h[4].title?a?a.p(h,f):(a=Ux(h),a.c(),a.m(e,t)):a&&(a.d(1),a=null),h[5].id&&h[5].desc?l?l.p(h,f):(l=Hx(h),l.c(),l.m(e,i)):l&&(l.d(1),l=null),di(e,d=fi(c,[{xmlns:"http://www.w3.org/2000/svg"},f&4&&{fill:h[2]},f&1024&&h[10],f&2049&&s!==(s=jt("shrink-0",h[8][(m=h[0])!=null?m:"md"],h[11].class))&&{class:s},f&2&&{role:h[1]},f&64&&{"aria-label":h[6]},f&128&&o!==(o=h[7]?h[9]:void 0)&&{"aria-describedby":o},{viewBox:"0 0 24 24"}]))},d(h){h&&Le(e),a&&a.d(),l&&l.d()}}}function RD(r){var f;let e,t,i,n,s,o,a,l,c=r[4].id&&r[4].title&&Xx(r),d=r[5].id&&r[5].desc&&Wx(r),u=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:s=jt("shrink-0",r[8][(f=r[0])!=null?f:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":o=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],h={};for(let m=0;m<u.length;m+=1)h=vt(h,u[m]);return{c(){e=ht("svg"),c&&c.c(),t=Ht(),d&&d.c(),i=ht("path"),n=ht("path"),ae(i,"d","M5 3a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm0 12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2H5Zm12 0a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-2Zm0-12a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-2Z"),ae(n,"fill-rule","evenodd"),ae(n,"d","M10 6.5a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1ZM10 18a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Zm-4-4a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1Zm12 0a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1Z"),ae(n,"clip-rule","evenodd"),di(e,h)},m(m,p){Me(m,e,p),c&&c.m(e,null),Ze(e,t),d&&d.m(e,null),Ze(e,i),Ze(e,n),a||(l=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],a=!0)},p(m,p){var g;m[4].id&&m[4].title?c?c.p(m,p):(c=Xx(m),c.c(),c.m(e,t)):c&&(c.d(1),c=null),m[5].id&&m[5].desc?d?d.p(m,p):(d=Wx(m),d.c(),d.m(e,i)):d&&(d.d(1),d=null),di(e,h=fi(u,[{xmlns:"http://www.w3.org/2000/svg"},p&4&&{fill:m[2]},p&1024&&m[10],p&2049&&s!==(s=jt("shrink-0",m[8][(g=m[0])!=null?g:"md"],m[11].class))&&{class:s},p&2&&{role:m[1]},p&64&&{"aria-label":m[6]},p&128&&o!==(o=m[7]?m[9]:void 0)&&{"aria-describedby":o},{viewBox:"0 0 24 24"}]))},d(m){m&&Le(e),c&&c.d(),d&&d.d(),a=!1,ar(l)}}}function Ux(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Hx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Xx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Wx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function FD(r){let e;function t(s,o){return s[3]?RD:MD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function ND(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="draw square solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class zD extends cr{constructor(e){super(),lr(this,e,ND,FD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function BD(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&Yx(r),a=r[5].id&&r[5].desc&&qx(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"d","M5 3a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm14 18a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4ZM5 11a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H5Zm14 2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4Z"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=Yx(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=qx(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function jD(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&Zx(r),c=r[5].id&&r[5].desc&&Kx(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"d","M5 3a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm14 18a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4ZM5 11a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H5Zm14 2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4Z"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=Zx(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=Kx(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function Yx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function qx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Zx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Kx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function GD(r){let e;function t(s,o){return s[3]?jD:BD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function VD(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="objects column solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class UD extends cr{constructor(e){super(),lr(this,e,VD,GD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function HD(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&Jx(r),a=r[5].id&&r[5].desc&&Qx(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z"),ae(i,"clip-rule","evenodd"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=Jx(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=Qx(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function XD(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&$x(r),c=r[5].id&&r[5].desc&&ew(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z"),ae(i,"clip-rule","evenodd"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=$x(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=ew(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function Jx(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function Qx(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function $x(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function ew(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function WD(r){let e;function t(s,o){return s[3]?XD:HD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function YD(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="pause solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class qD extends cr{constructor(e){super(),lr(this,e,YD,WD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function ZD(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&tw(r),a=r[5].id&&r[5].desc&&iw(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z"),ae(i,"clip-rule","evenodd"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=tw(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=iw(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function KD(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&rw(r),c=r[5].id&&r[5].desc&&nw(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z"),ae(i,"clip-rule","evenodd"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=rw(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=nw(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function tw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function iw(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function rw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function nw(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function JD(r){let e;function t(s,o){return s[3]?KD:ZD}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function QD(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="play solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class $D extends cr{constructor(e){super(),lr(this,e,QD,JD,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function e6(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&sw(r),a=r[5].id&&r[5].desc&&ow(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"d","M14.502 7.046h-2.5v-.928a2.122 2.122 0 0 0-1.199-1.954 1.827 1.827 0 0 0-1.984.311L3.71 8.965a2.2 2.2 0 0 0 0 3.24L8.82 16.7a1.829 1.829 0 0 0 1.985.31 2.121 2.121 0 0 0 1.199-1.959v-.928h1a2.025 2.025 0 0 1 1.999 2.047V19a1 1 0 0 0 1.275.961 6.59 6.59 0 0 0 4.662-7.22 6.593 6.593 0 0 0-6.437-5.695Z"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=sw(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=ow(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function t6(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&aw(r),c=r[5].id&&r[5].desc&&lw(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"d","M14.502 7.046h-2.5v-.928a2.122 2.122 0 0 0-1.199-1.954 1.827 1.827 0 0 0-1.984.311L3.71 8.965a2.2 2.2 0 0 0 0 3.24L8.82 16.7a1.829 1.829 0 0 0 1.985.31 2.121 2.121 0 0 0 1.199-1.959v-.928h1a2.025 2.025 0 0 1 1.999 2.047V19a1 1 0 0 0 1.275.961 6.59 6.59 0 0 0 4.662-7.22 6.593 6.593 0 0 0-6.437-5.695Z"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=aw(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=lw(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function sw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function ow(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function aw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function lw(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function i6(r){let e;function t(s,o){return s[3]?t6:e6}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function r6(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="reply solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class n6 extends cr{constructor(e){super(),lr(this,e,r6,i6,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}function s6(r){var d;let e,t,i,n,s,o=r[4].id&&r[4].title&&cw(r),a=r[5].id&&r[5].desc&&dw(r),l=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(d=r[0])!=null?d:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],c={};for(let u=0;u<l.length;u+=1)c=vt(c,l[u]);return{c(){e=ht("svg"),o&&o.c(),t=Ht(),a&&a.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M12 3a1 1 0 0 1 .78.375l4 5a1 1 0 1 1-1.56 1.25L13 6.85V14a1 1 0 1 1-2 0V6.85L8.78 9.626a1 1 0 1 1-1.56-1.25l4-5A1 1 0 0 1 12 3ZM9 14v-1H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-4v1a3 3 0 1 1-6 0Zm8 2a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H17Z"),ae(i,"clip-rule","evenodd"),di(e,c)},m(u,h){Me(u,e,h),o&&o.m(e,null),Ze(e,t),a&&a.m(e,null),Ze(e,i)},p(u,h){var f;u[4].id&&u[4].title?o?o.p(u,h):(o=cw(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u[5].id&&u[5].desc?a?a.p(u,h):(a=dw(u),a.c(),a.m(e,i)):a&&(a.d(1),a=null),di(e,c=fi(l,[{xmlns:"http://www.w3.org/2000/svg"},h&4&&{fill:u[2]},h&1024&&u[10],h&2049&&n!==(n=jt("shrink-0",u[8][(f=u[0])!=null?f:"md"],u[11].class))&&{class:n},h&2&&{role:u[1]},h&64&&{"aria-label":u[6]},h&128&&s!==(s=u[7]?u[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(u){u&&Le(e),o&&o.d(),a&&a.d()}}}function o6(r){var h;let e,t,i,n,s,o,a,l=r[4].id&&r[4].title&&uw(r),c=r[5].id&&r[5].desc&&hw(r),d=[{xmlns:"http://www.w3.org/2000/svg"},{fill:r[2]},r[10],{class:n=jt("shrink-0",r[8][(h=r[0])!=null?h:"md"],r[11].class)},{role:r[1]},{"aria-label":r[6]},{"aria-describedby":s=r[7]?r[9]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<d.length;f+=1)u=vt(u,d[f]);return{c(){e=ht("svg"),l&&l.c(),t=Ht(),c&&c.c(),i=ht("path"),ae(i,"fill-rule","evenodd"),ae(i,"d","M12 3a1 1 0 0 1 .78.375l4 5a1 1 0 1 1-1.56 1.25L13 6.85V14a1 1 0 1 1-2 0V6.85L8.78 9.626a1 1 0 1 1-1.56-1.25l4-5A1 1 0 0 1 12 3ZM9 14v-1H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-4v1a3 3 0 1 1-6 0Zm8 2a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H17Z"),ae(i,"clip-rule","evenodd"),di(e,u)},m(f,m){Me(f,e,m),l&&l.m(e,null),Ze(e,t),c&&c.m(e,null),Ze(e,i),o||(a=[ze(e,"click",r[12]),ze(e,"keydown",r[13]),ze(e,"keyup",r[14]),ze(e,"focus",r[15]),ze(e,"blur",r[16]),ze(e,"mouseenter",r[17]),ze(e,"mouseleave",r[18]),ze(e,"mouseover",r[19]),ze(e,"mouseout",r[20])],o=!0)},p(f,m){var p;f[4].id&&f[4].title?l?l.p(f,m):(l=uw(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[5].id&&f[5].desc?c?c.p(f,m):(c=hw(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),di(e,u=fi(d,[{xmlns:"http://www.w3.org/2000/svg"},m&4&&{fill:f[2]},m&1024&&f[10],m&2049&&n!==(n=jt("shrink-0",f[8][(p=f[0])!=null?p:"md"],f[11].class))&&{class:n},m&2&&{role:f[1]},m&64&&{"aria-label":f[6]},m&128&&s!==(s=f[7]?f[9]:void 0)&&{"aria-describedby":s},{viewBox:"0 0 24 24"}]))},d(f){f&&Le(e),l&&l.d(),c&&c.d(),o=!1,ar(a)}}}function cw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function dw(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function uw(r){let e,t=r[4].title+"",i,n;return{c(){e=ht("title"),i=Bt(t),ae(e,"id",n=r[4].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&16&&t!==(t=s[4].title+"")&&Xt(i,t),o&16&&n!==(n=s[4].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function hw(r){let e,t=r[5].desc+"",i,n;return{c(){e=ht("desc"),i=Bt(t),ae(e,"id",n=r[5].id)},m(s,o){Me(s,e,o),Ze(e,i)},p(s,o){o&32&&t!==(t=s[5].desc+"")&&Xt(i,t),o&32&&n!==(n=s[5].id)&&ae(e,"id",n)},d(s){s&&Le(e)}}}function a6(r){let e;function t(s,o){return s[3]?o6:s6}let i=t(r),n=i(r);return{c(){n.c(),e=Ht()},m(s,o){n.m(s,o),Me(s,e,o)},p(s,[o]){i===(i=t(s))&&n?n.p(s,o):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},i:Pt,o:Pt,d(s){s&&Le(e),n.d(s)}}}function l6(r,e,t){var E;const i=["size","role","color","withEvents","title","desc","ariaLabel"];let n=si(e,i);const s=(E=Gn("iconCtx"))!=null?E:{},o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:a=s.size||"md"}=e,{role:l=s.role||"img"}=e,{color:c=s.color||"currentColor"}=e,{withEvents:d=s.withEvents||!1}=e,{title:u={}}=e,{desc:h={}}=e,f=`${u.id||""} ${h.id||""}`,m=!1,{ariaLabel:p="upload solid"}=e;function g(w){ke.call(this,r,w)}function v(w){ke.call(this,r,w)}function b(w){ke.call(this,r,w)}function S(w){ke.call(this,r,w)}function _(w){ke.call(this,r,w)}function x(w){ke.call(this,r,w)}function I(w){ke.call(this,r,w)}function T(w){ke.call(this,r,w)}function O(w){ke.call(this,r,w)}return r.$$set=w=>{t(11,e=vt(vt({},e),ni(w))),t(10,n=si(e,i)),"size"in w&&t(0,a=w.size),"role"in w&&t(1,l=w.role),"color"in w&&t(2,c=w.color),"withEvents"in w&&t(3,d=w.withEvents),"title"in w&&t(4,u=w.title),"desc"in w&&t(5,h=w.desc),"ariaLabel"in w&&t(6,p=w.ariaLabel)},r.$$.update=()=>{r.$$.dirty&48&&(u.id||h.id?t(7,m=!0):t(7,m=!1))},e=ni(e),[a,l,c,d,u,h,p,m,o,f,n,e,g,v,b,S,_,x,I,T,O]}class c6 extends cr{constructor(e){super(),lr(this,e,l6,a6,Oi,{size:0,role:1,color:2,withEvents:3,title:4,desc:5,ariaLabel:6})}}var y0="http://www.w3.org/1999/xhtml";const fw={svg:"http://www.w3.org/2000/svg",xhtml:y0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lf(r){var e=r+="",t=e.indexOf(":");return t>=0&&(e=r.slice(0,t))!=="xmlns"&&(r=r.slice(t+1)),fw.hasOwnProperty(e)?{space:fw[e],local:r}:r}function d6(r){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===y0&&e.documentElement.namespaceURI===y0?e.createElement(r):e.createElementNS(t,r)}}function u6(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function fC(r){var e=Lf(r);return(e.local?u6:d6)(e)}function h6(){}function jv(r){return r==null?h6:function(){return this.querySelector(r)}}function f6(r){typeof r!="function"&&(r=jv(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],o=s.length,a=i[n]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=r.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new cn(i,this._parents)}function m6(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function p6(){return[]}function mC(r){return r==null?p6:function(){return this.querySelectorAll(r)}}function g6(r){return function(){return m6(r.apply(this,arguments))}}function v6(r){typeof r=="function"?r=g6(r):r=mC(r);for(var e=this._groups,t=e.length,i=[],n=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(r.call(l,l.__data__,c,o)),n.push(l));return new cn(i,n)}function pC(r){return function(){return this.matches(r)}}function gC(r){return function(e){return e.matches(r)}}var _6=Array.prototype.find;function y6(r){return function(){return _6.call(this.children,r)}}function b6(){return this.firstElementChild}function x6(r){return this.select(r==null?b6:y6(typeof r=="function"?r:gC(r)))}var w6=Array.prototype.filter;function S6(){return Array.from(this.children)}function T6(r){return function(){return w6.call(this.children,r)}}function C6(r){return this.selectAll(r==null?S6:T6(typeof r=="function"?r:gC(r)))}function k6(r){typeof r!="function"&&(r=pC(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],o=s.length,a=i[n]=[],l,c=0;c<o;++c)(l=s[c])&&r.call(l,l.__data__,c,s)&&a.push(l);return new cn(i,this._parents)}function vC(r){return new Array(r.length)}function E6(){return new cn(this._enter||this._groups.map(vC),this._parents)}function Yh(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}Yh.prototype={constructor:Yh,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function A6(r){return function(){return r}}function O6(r,e,t,i,n,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new Yh(r,s[o]);for(;o<l;++o)(a=e[o])&&(n[o]=a)}function I6(r,e,t,i,n,s,o){var a,l,c=new Map,d=e.length,u=s.length,h=new Array(d),f;for(a=0;a<d;++a)(l=e[a])&&(h[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?n[a]=l:c.set(f,l));for(a=0;a<u;++a)f=o.call(r,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new Yh(r,s[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(h[a])===l&&(n[a]=l)}function L6(r){return r.__data__}function P6(r,e){if(!arguments.length)return Array.from(this,L6);var t=e?I6:O6,i=this._parents,n=this._groups;typeof r!="function"&&(r=A6(r));for(var s=n.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=i[c],u=n[c],h=u.length,f=D6(r.call(d,d&&d.__data__,c,i)),m=f.length,p=a[c]=new Array(m),g=o[c]=new Array(m),v=l[c]=new Array(h);t(d,u,p,g,v,f,e);for(var b=0,S=0,_,x;b<m;++b)if(_=p[b]){for(b>=S&&(S=b+1);!(x=g[S])&&++S<m;);_._next=x||null}}return o=new cn(o,i),o._enter=a,o._exit=l,o}function D6(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function M6(){return new cn(this._exit||this._groups.map(vC),this._parents)}function R6(r,e,t){var i=this.enter(),n=this,s=this.exit();return typeof r=="function"?(i=r(i),i&&(i=i.selection())):i=i.append(r+""),e!=null&&(n=e(n),n&&(n=n.selection())),t==null?s.remove():t(s),i&&n?i.merge(n).order():n}function F6(r){for(var e=r.selection?r.selection():r,t=this._groups,i=e._groups,n=t.length,s=i.length,o=Math.min(n,s),a=new Array(n),l=0;l<o;++l)for(var c=t[l],d=i[l],u=c.length,h=a[l]=new Array(u),f,m=0;m<u;++m)(f=c[m]||d[m])&&(h[m]=f);for(;l<n;++l)a[l]=t[l];return new cn(a,this._parents)}function N6(){for(var r=this._groups,e=-1,t=r.length;++e<t;)for(var i=r[e],n=i.length-1,s=i[n],o;--n>=0;)(o=i[n])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function z6(r){r||(r=B6);function e(u,h){return u&&h?r(u.__data__,h.__data__):!u-!h}for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=n[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new cn(n,this._parents).order()}function B6(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function j6(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function G6(){return Array.from(this)}function V6(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var i=r[e],n=0,s=i.length;n<s;++n){var o=i[n];if(o)return o}return null}function U6(){let r=0;for(const e of this)++r;return r}function H6(){return!this.node()}function X6(r){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,o=n.length,a;s<o;++s)(a=n[s])&&r.call(a,a.__data__,s,n);return this}function W6(r){return function(){this.removeAttribute(r)}}function Y6(r){return function(){this.removeAttributeNS(r.space,r.local)}}function q6(r,e){return function(){this.setAttribute(r,e)}}function Z6(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function K6(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(r):this.setAttribute(r,t)}}function J6(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,t)}}function Q6(r,e){var t=Lf(r);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?Y6:W6:typeof e=="function"?t.local?J6:K6:t.local?Z6:q6)(t,e))}function _C(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function $6(r){return function(){this.style.removeProperty(r)}}function eM(r,e,t){return function(){this.style.setProperty(r,e,t)}}function tM(r,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(r):this.style.setProperty(r,i,t)}}function iM(r,e,t){return arguments.length>1?this.each((e==null?$6:typeof e=="function"?tM:eM)(r,e,t==null?"":t)):Ll(this.node(),r)}function Ll(r,e){return r.style.getPropertyValue(e)||_C(r).getComputedStyle(r,null).getPropertyValue(e)}function rM(r){return function(){delete this[r]}}function nM(r,e){return function(){this[r]=e}}function sM(r,e){return function(){var t=e.apply(this,arguments);t==null?delete this[r]:this[r]=t}}function oM(r,e){return arguments.length>1?this.each((e==null?rM:typeof e=="function"?sM:nM)(r,e)):this.node()[r]}function yC(r){return r.trim().split(/^|\s+/)}function Gv(r){return r.classList||new bC(r)}function bC(r){this._node=r,this._names=yC(r.getAttribute("class")||"")}bC.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function xC(r,e){for(var t=Gv(r),i=-1,n=e.length;++i<n;)t.add(e[i])}function wC(r,e){for(var t=Gv(r),i=-1,n=e.length;++i<n;)t.remove(e[i])}function aM(r){return function(){xC(this,r)}}function lM(r){return function(){wC(this,r)}}function cM(r,e){return function(){(e.apply(this,arguments)?xC:wC)(this,r)}}function dM(r,e){var t=yC(r+"");if(arguments.length<2){for(var i=Gv(this.node()),n=-1,s=t.length;++n<s;)if(!i.contains(t[n]))return!1;return!0}return this.each((typeof e=="function"?cM:e?aM:lM)(t,e))}function uM(){this.textContent=""}function hM(r){return function(){this.textContent=r}}function fM(r){return function(){var e=r.apply(this,arguments);this.textContent=e==null?"":e}}function mM(r){return arguments.length?this.each(r==null?uM:(typeof r=="function"?fM:hM)(r)):this.node().textContent}function pM(){this.innerHTML=""}function gM(r){return function(){this.innerHTML=r}}function vM(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e==null?"":e}}function _M(r){return arguments.length?this.each(r==null?pM:(typeof r=="function"?vM:gM)(r)):this.node().innerHTML}function yM(){this.nextSibling&&this.parentNode.appendChild(this)}function bM(){return this.each(yM)}function xM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wM(){return this.each(xM)}function SM(r){var e=typeof r=="function"?r:fC(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function TM(){return null}function CM(r,e){var t=typeof r=="function"?r:fC(r),i=e==null?TM:typeof e=="function"?e:jv(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function kM(){var r=this.parentNode;r&&r.removeChild(this)}function EM(){return this.each(kM)}function AM(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function OM(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function IM(r){return this.select(r?OM:AM)}function LM(r){return arguments.length?this.property("__data__",r):this.node().__data__}function PM(r){return function(e){r.call(this,e,this.__data__)}}function DM(r){return r.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function MM(r){return function(){var e=this.__on;if(e){for(var t=0,i=-1,n=e.length,s;t<n;++t)s=e[t],(!r.type||s.type===r.type)&&s.name===r.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function RM(r,e,t){return function(){var i=this.__on,n,s=PM(e);if(i){for(var o=0,a=i.length;o<a;++o)if((n=i[o]).type===r.type&&n.name===r.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=t),n.value=e;return}}this.addEventListener(r.type,s,t),n={type:r.type,name:r.name,value:e,listener:s,options:t},i?i.push(n):this.__on=[n]}}function FM(r,e,t){var i=DM(r+""),n,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(n=0,d=a[l];n<s;++n)if((o=i[n]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?RM:MM,n=0;n<s;++n)this.each(a(i[n],e,t));return this}function SC(r,e,t){var i=_C(r),n=i.CustomEvent;typeof n=="function"?n=new n(e,t):(n=i.document.createEvent("Event"),t?(n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(e,!1,!1)),r.dispatchEvent(n)}function NM(r,e){return function(){return SC(this,r,e)}}function zM(r,e){return function(){return SC(this,r,e.apply(this,arguments))}}function BM(r,e){return this.each((typeof e=="function"?zM:NM)(r,e))}function*jM(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var i=r[e],n=0,s=i.length,o;n<s;++n)(o=i[n])&&(yield o)}var TC=[null];function cn(r,e){this._groups=r,this._parents=e}function wd(){return new cn([[document.documentElement]],TC)}function GM(){return this}cn.prototype=wd.prototype={constructor:cn,select:f6,selectAll:v6,selectChild:x6,selectChildren:C6,filter:k6,data:P6,enter:E6,exit:M6,join:R6,merge:F6,selection:GM,order:N6,sort:z6,call:j6,nodes:G6,node:V6,size:U6,empty:H6,each:X6,attr:Q6,style:iM,property:oM,classed:dM,text:mM,html:_M,raise:bM,lower:wM,append:SM,insert:CM,remove:EM,clone:IM,datum:LM,on:FM,dispatch:BM,[Symbol.iterator]:jM};function Zn(r){return typeof r=="string"?new cn([[document.querySelector(r)]],[document.documentElement]):new cn([[r]],TC)}function VM(r){let e;for(;e=r.sourceEvent;)r=e;return r}function Ho(r,e){if(r=VM(r),e===void 0&&(e=r.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=r.clientX,i.y=r.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[r.clientX-n.left-e.clientLeft,r.clientY-n.top-e.clientTop]}}return[r.pageX,r.pageY]}var UM=Tf("start","end","cancel","interrupt"),HM=[],CC=0,mw=1,b0=2,gh=3,pw=4,x0=5,vh=6;function Pf(r,e,t,i,n,s){var o=r.__transition;if(!o)r.__transition={};else if(t in o)return;XM(r,t,{name:e,index:i,group:n,on:UM,tween:HM,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:CC})}function Vv(r,e){var t=Vn(r,e);if(t.state>CC)throw new Error("too late; already scheduled");return t}function as(r,e){var t=Vn(r,e);if(t.state>gh)throw new Error("too late; already running");return t}function Vn(r,e){var t=r.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function XM(r,e,t){var i=r.__transition,n;i[e]=t,t.timer=Dv(s,0,t.time);function s(c){t.state=mw,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var d,u,h,f;if(t.state!==mw)return l();for(d in i)if(f=i[d],f.name===t.name){if(f.state===gh)return px(o);f.state===pw?(f.state=vh,f.timer.stop(),f.on.call("interrupt",r,r.__data__,f.index,f.group),delete i[d]):+d<e&&(f.state=vh,f.timer.stop(),f.on.call("cancel",r,r.__data__,f.index,f.group),delete i[d])}if(px(function(){t.state===gh&&(t.state=pw,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=b0,t.on.call("start",r,r.__data__,t.index,t.group),t.state===b0){for(t.state=gh,n=new Array(h=t.tween.length),d=0,u=-1;d<h;++d)(f=t.tween[d].value.call(r,r.__data__,t.index,t.group))&&(n[++u]=f);n.length=u+1}}function a(c){for(var d=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=x0,1),u=-1,h=n.length;++u<h;)n[u].call(r,d);t.state===x0&&(t.on.call("end",r,r.__data__,t.index,t.group),l())}function l(){t.state=vh,t.timer.stop(),delete i[e];for(var c in i)return;delete r.__transition}}function _h(r,e){var t=r.__transition,i,n,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}n=i.state>b0&&i.state<x0,i.state=vh,i.timer.stop(),i.on.call(n?"interrupt":"cancel",r,r.__data__,i.index,i.group),delete t[o]}s&&delete r.__transition}}function WM(r){return this.each(function(){_h(this,r)})}function Uv(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function kC(r,e){var t=Object.create(r.prototype);for(var i in e)t[i]=e[i];return t}function Sd(){}var rd=.7,qh=1/rd,gl="\\s*([+-]?\\d+)\\s*",nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YM=/^#([0-9a-f]{3,8})$/,qM=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),ZM=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),KM=new RegExp(`^rgba\\(${gl},${gl},${gl},${nd}\\)$`),JM=new RegExp(`^rgba\\(${ts},${ts},${ts},${nd}\\)$`),QM=new RegExp(`^hsl\\(${nd},${ts},${ts}\\)$`),$M=new RegExp(`^hsla\\(${nd},${ts},${ts},${nd}\\)$`),gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uv(Sd,Ps,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:vw,formatHex:vw,formatHex8:eR,formatHsl:tR,formatRgb:_w,toString:_w});function vw(){return this.rgb().formatHex()}function eR(){return this.rgb().formatHex8()}function tR(){return EC(this).formatHsl()}function _w(){return this.rgb().formatRgb()}function Ps(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=YM.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?yw(e):t===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Zu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Zu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qM.exec(r))?new Kr(e[1],e[2],e[3],1):(e=ZM.exec(r))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KM.exec(r))?Zu(e[1],e[2],e[3],e[4]):(e=JM.exec(r))?Zu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=QM.exec(r))?ww(e[1],e[2]/100,e[3]/100,1):(e=$M.exec(r))?ww(e[1],e[2]/100,e[3]/100,e[4]):gw.hasOwnProperty(r)?yw(gw[r]):r==="transparent"?new Kr(NaN,NaN,NaN,0):null}function yw(r){return new Kr(r>>16&255,r>>8&255,r&255,1)}function Zu(r,e,t,i){return i<=0&&(r=e=t=NaN),new Kr(r,e,t,i)}function iR(r){return r instanceof Sd||(r=Ps(r)),r?(r=r.rgb(),new Kr(r.r,r.g,r.b,r.opacity)):new Kr}function w0(r,e,t,i){return arguments.length===1?iR(r):new Kr(r,e,t,i==null?1:i)}function Kr(r,e,t,i){this.r=+r,this.g=+e,this.b=+t,this.opacity=+i}Uv(Kr,w0,kC(Sd,{brighter(r){return r=r==null?qh:Math.pow(qh,r),new Kr(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?rd:Math.pow(rd,r),new Kr(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Kr(sa(this.r),sa(this.g),sa(this.b),Zh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bw,formatHex:bw,formatHex8:rR,formatRgb:xw,toString:xw}));function bw(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function rR(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function xw(){const r=Zh(this.opacity);return`${r===1?"rgb(":"rgba("}${sa(this.r)}, ${sa(this.g)}, ${sa(this.b)}${r===1?")":`, ${r})`}`}function Zh(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function sa(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function ta(r){return r=sa(r),(r<16?"0":"")+r.toString(16)}function ww(r,e,t,i){return i<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Mn(r,e,t,i)}function EC(r){if(r instanceof Mn)return new Mn(r.h,r.s,r.l,r.opacity);if(r instanceof Sd||(r=Ps(r)),!r)return new Mn;if(r instanceof Mn)return r;r=r.rgb();var e=r.r/255,t=r.g/255,i=r.b/255,n=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-n,l=(s+n)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+n:2-s-n,o*=60):a=l>0&&l<1?0:o,new Mn(o,a,l,r.opacity)}function nR(r,e,t,i){return arguments.length===1?EC(r):new Mn(r,e,t,i==null?1:i)}function Mn(r,e,t,i){this.h=+r,this.s=+e,this.l=+t,this.opacity=+i}Uv(Mn,nR,kC(Sd,{brighter(r){return r=r==null?qh:Math.pow(qh,r),new Mn(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?rd:Math.pow(rd,r),new Mn(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,n=2*t-i;return new Kr(Tg(r>=240?r-240:r+120,n,i),Tg(r,n,i),Tg(r<120?r+240:r-120,n,i),this.opacity)},clamp(){return new Mn(Sw(this.h),Ku(this.s),Ku(this.l),Zh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Zh(this.opacity);return`${r===1?"hsl(":"hsla("}${Sw(this.h)}, ${Ku(this.s)*100}%, ${Ku(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Sw(r){return r=(r||0)%360,r<0?r+360:r}function Ku(r){return Math.max(0,Math.min(1,r||0))}function Tg(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const Hv=r=>()=>r;function sR(r,e){return function(t){return r+t*e}}function oR(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(i){return Math.pow(r+i*e,t)}}function aR(r){return(r=+r)==1?AC:function(e,t){return t-e?oR(e,t,r):Hv(isNaN(e)?t:e)}}function AC(r,e){var t=e-r;return t?sR(r,t):Hv(isNaN(r)?e:r)}const Kh=function r(e){var t=aR(e);function i(n,s){var o=t((n=w0(n)).r,(s=w0(s)).r),a=t(n.g,s.g),l=t(n.b,s.b),c=AC(n.opacity,s.opacity);return function(d){return n.r=o(d),n.g=a(d),n.b=l(d),n.opacity=c(d),n+""}}return i.gamma=r,i}(1);function lR(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,i=e.slice(),n;return function(s){for(n=0;n<t;++n)i[n]=r[n]*(1-s)+e[n]*s;return i}}function cR(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function dR(r,e){var t=e?e.length:0,i=r?Math.min(t,r.length):0,n=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)n[o]=Xv(r[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=n[o](a);return s}}function uR(r,e){var t=new Date;return r=+r,e=+e,function(i){return t.setTime(r*(1-i)+e*i),t}}function Pn(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function hR(r,e){var t={},i={},n;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in r?t[n]=Xv(r[n],e[n]):i[n]=e[n];return function(s){for(n in t)i[n]=t[n](s);return i}}var S0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cg=new RegExp(S0.source,"g");function fR(r){return function(){return r}}function mR(r){return function(e){return r(e)+""}}function OC(r,e){var t=S0.lastIndex=Cg.lastIndex=0,i,n,s,o=-1,a=[],l=[];for(r=r+"",e=e+"";(i=S0.exec(r))&&(n=Cg.exec(e));)(s=n.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:Pn(i,n)})),t=Cg.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?mR(l[0].x):fR(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function Xv(r,e){var t=typeof e,i;return e==null||t==="boolean"?Hv(e):(t==="number"?Pn:t==="string"?(i=Ps(e))?(e=i,Kh):OC:e instanceof Ps?Kh:e instanceof Date?uR:cR(e)?lR:Array.isArray(e)?dR:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hR:Pn)(r,e)}function pR(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}var Tw=180/Math.PI,T0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IC(r,e,t,i,n,s){var o,a,l;return(o=Math.sqrt(r*r+e*e))&&(r/=o,e/=o),(l=r*t+e*i)&&(t-=r*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),r*i<e*t&&(r=-r,e=-e,l=-l,o=-o),{translateX:n,translateY:s,rotate:Math.atan2(e,r)*Tw,skewX:Math.atan(l)*Tw,scaleX:o,scaleY:a}}var Ju;function gR(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?T0:IC(e.a,e.b,e.c,e.d,e.e,e.f)}function vR(r){return r==null||(Ju||(Ju=document.createElementNS("http://www.w3.org/2000/svg","g")),Ju.setAttribute("transform",r),!(r=Ju.transform.baseVal.consolidate()))?T0:(r=r.matrix,IC(r.a,r.b,r.c,r.d,r.e,r.f))}function LC(r,e,t,i){function n(c){return c.length?c.pop()+" ":""}function s(c,d,u,h,f,m){if(c!==u||d!==h){var p=f.push("translate(",null,e,null,t);m.push({i:p-4,x:Pn(c,u)},{i:p-2,x:Pn(d,h)})}else(u||h)&&f.push("translate("+u+e+h+t)}function o(c,d,u,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:u.push(n(u)+"rotate(",null,i)-2,x:Pn(c,d)})):d&&u.push(n(u)+"rotate("+d+i)}function a(c,d,u,h){c!==d?h.push({i:u.push(n(u)+"skewX(",null,i)-2,x:Pn(c,d)}):d&&u.push(n(u)+"skewX("+d+i)}function l(c,d,u,h,f,m){if(c!==u||d!==h){var p=f.push(n(f)+"scale(",null,",",null,")");m.push({i:p-4,x:Pn(c,u)},{i:p-2,x:Pn(d,h)})}else(u!==1||h!==1)&&f.push(n(f)+"scale("+u+","+h+")")}return function(c,d){var u=[],h=[];return c=r(c),d=r(d),s(c.translateX,c.translateY,d.translateX,d.translateY,u,h),o(c.rotate,d.rotate,u,h),a(c.skewX,d.skewX,u,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,h),c=d=null,function(f){for(var m=-1,p=h.length,g;++m<p;)u[(g=h[m]).i]=g.x(f);return u.join("")}}}var _R=LC(gR,"px, ","px)","deg)"),yR=LC(vR,", ",")",")"),bR=1e-12;function Cw(r){return((r=Math.exp(r))+1/r)/2}function xR(r){return((r=Math.exp(r))-1/r)/2}function wR(r){return((r=Math.exp(2*r))-1)/(r+1)}const SR=function r(e,t,i){function n(s,o){var a=s[0],l=s[1],c=s[2],d=o[0],u=o[1],h=o[2],f=d-a,m=u-l,p=f*f+m*m,g,v;if(p<bR)v=Math.log(h/c)/e,g=function(T){return[a+T*f,l+T*m,c*Math.exp(e*T*v)]};else{var b=Math.sqrt(p),S=(h*h-c*c+i*p)/(2*c*t*b),_=(h*h-c*c-i*p)/(2*h*t*b),x=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(_*_+1)-_);v=(I-x)/e,g=function(T){var O=T*v,E=Cw(x),w=c/(t*b)*(E*wR(e*O+x)-xR(x));return[a+w*f,l+w*m,c*E/Cw(e*O+x)]}}return g.duration=v*1e3*e/Math.SQRT2,g}return n.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return r(o,a,l)},n}(Math.SQRT2,2,4);function TR(r,e){var t,i;return function(){var n=as(this,r),s=n.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}n.tween=i}}function CR(r,e,t){var i,n;if(typeof t!="function")throw new Error;return function(){var s=as(this,r),o=s.tween;if(o!==i){n=(i=o).slice();for(var a={name:e,value:t},l=0,c=n.length;l<c;++l)if(n[l].name===e){n[l]=a;break}l===c&&n.push(a)}s.tween=n}}function kR(r,e){var t=this._id;if(r+="",arguments.length<2){for(var i=Vn(this.node(),t).tween,n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===r)return o.value;return null}return this.each((e==null?TR:CR)(t,r,e))}function Wv(r,e,t){var i=r._id;return r.each(function(){var n=as(this,i);(n.value||(n.value={}))[e]=t.apply(this,arguments)}),function(n){return Vn(n,i).value[e]}}function PC(r,e){var t;return(typeof e=="number"?Pn:e instanceof Ps?Kh:(t=Ps(e))?(e=t,Kh):OC)(r,e)}function ER(r){return function(){this.removeAttribute(r)}}function AR(r){return function(){this.removeAttributeNS(r.space,r.local)}}function OR(r,e,t){var i,n=t+"",s;return function(){var o=this.getAttribute(r);return o===n?null:o===i?s:s=e(i=o,t)}}function IR(r,e,t){var i,n=t+"",s;return function(){var o=this.getAttributeNS(r.space,r.local);return o===n?null:o===i?s:s=e(i=o,t)}}function LR(r,e,t){var i,n,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(r):(o=this.getAttribute(r),l=a+"",o===l?null:o===i&&l===n?s:(n=l,s=e(i=o,a)))}}function PR(r,e,t){var i,n,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(r.space,r.local):(o=this.getAttributeNS(r.space,r.local),l=a+"",o===l?null:o===i&&l===n?s:(n=l,s=e(i=o,a)))}}function DR(r,e){var t=Lf(r),i=t==="transform"?yR:PC;return this.attrTween(r,typeof e=="function"?(t.local?PR:LR)(t,i,Wv(this,"attr."+r,e)):e==null?(t.local?AR:ER)(t):(t.local?IR:OR)(t,i,e))}function MR(r,e){return function(t){this.setAttribute(r,e.call(this,t))}}function RR(r,e){return function(t){this.setAttributeNS(r.space,r.local,e.call(this,t))}}function FR(r,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&RR(r,s)),t}return n._value=e,n}function NR(r,e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&MR(r,s)),t}return n._value=e,n}function zR(r,e){var t="attr."+r;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=Lf(r);return this.tween(t,(i.local?FR:NR)(i,e))}function BR(r,e){return function(){Vv(this,r).delay=+e.apply(this,arguments)}}function jR(r,e){return e=+e,function(){Vv(this,r).delay=e}}function GR(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?BR:jR)(e,r)):Vn(this.node(),e).delay}function VR(r,e){return function(){as(this,r).duration=+e.apply(this,arguments)}}function UR(r,e){return e=+e,function(){as(this,r).duration=e}}function HR(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?VR:UR)(e,r)):Vn(this.node(),e).duration}function XR(r,e){if(typeof e!="function")throw new Error;return function(){as(this,r).ease=e}}function WR(r){var e=this._id;return arguments.length?this.each(XR(e,r)):Vn(this.node(),e).ease}function YR(r,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;as(this,r).ease=t}}function qR(r){if(typeof r!="function")throw new Error;return this.each(YR(this._id,r))}function ZR(r){typeof r!="function"&&(r=pC(r));for(var e=this._groups,t=e.length,i=new Array(t),n=0;n<t;++n)for(var s=e[n],o=s.length,a=i[n]=[],l,c=0;c<o;++c)(l=s[c])&&r.call(l,l.__data__,c,s)&&a.push(l);return new Ds(i,this._parents,this._name,this._id)}function KR(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,t=r._groups,i=e.length,n=t.length,s=Math.min(i,n),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],d=l.length,u=o[a]=new Array(d),h,f=0;f<d;++f)(h=l[f]||c[f])&&(u[f]=h);for(;a<i;++a)o[a]=e[a];return new Ds(o,this._parents,this._name,this._id)}function JR(r){return(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function QR(r,e,t){var i,n,s=JR(e)?Vv:as;return function(){var o=s(this,r),a=o.on;a!==i&&(n=(i=a).copy()).on(e,t),o.on=n}}function $R(r,e){var t=this._id;return arguments.length<2?Vn(this.node(),t).on.on(r):this.each(QR(t,r,e))}function eF(r){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==r)return;e&&e.removeChild(this)}}function tF(){return this.on("end.remove",eF(this._id))}function iF(r){var e=this._name,t=this._id;typeof r!="function"&&(r=jv(r));for(var i=this._groups,n=i.length,s=new Array(n),o=0;o<n;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),d,u,h=0;h<l;++h)(d=a[h])&&(u=r.call(d,d.__data__,h,a))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u,Pf(c[h],e,t,h,c,Vn(d,t)));return new Ds(s,this._parents,e,t)}function rF(r){var e=this._name,t=this._id;typeof r!="function"&&(r=mC(r));for(var i=this._groups,n=i.length,s=[],o=[],a=0;a<n;++a)for(var l=i[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var h=r.call(d,d.__data__,u,l),f,m=Vn(d,t),p=0,g=h.length;p<g;++p)(f=h[p])&&Pf(f,e,t,p,h,m);s.push(h),o.push(d)}return new Ds(s,o,e,t)}var nF=wd.prototype.constructor;function sF(){return new nF(this._groups,this._parents)}function oF(r,e){var t,i,n;return function(){var s=Ll(this,r),o=(this.style.removeProperty(r),Ll(this,r));return s===o?null:s===t&&o===i?n:n=e(t=s,i=o)}}function DC(r){return function(){this.style.removeProperty(r)}}function aF(r,e,t){var i,n=t+"",s;return function(){var o=Ll(this,r);return o===n?null:o===i?s:s=e(i=o,t)}}function lF(r,e,t){var i,n,s;return function(){var o=Ll(this,r),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(r),Ll(this,r))),o===l?null:o===i&&l===n?s:(n=l,s=e(i=o,a))}}function cF(r,e){var t,i,n,s="style."+e,o="end."+s,a;return function(){var l=as(this,r),c=l.on,d=l.value[s]==null?a||(a=DC(e)):void 0;(c!==t||n!==d)&&(i=(t=c).copy()).on(o,n=d),l.on=i}}function dF(r,e,t){var i=(r+="")=="transform"?_R:PC;return e==null?this.styleTween(r,oF(r,i)).on("end.style."+r,DC(r)):typeof e=="function"?this.styleTween(r,lF(r,i,Wv(this,"style."+r,e))).each(cF(this._id,r)):this.styleTween(r,aF(r,i,e),t).on("end.style."+r,null)}function uF(r,e,t){return function(i){this.style.setProperty(r,e.call(this,i),t)}}function hF(r,e,t){var i,n;function s(){var o=e.apply(this,arguments);return o!==n&&(i=(n=o)&&uF(r,o,t)),i}return s._value=e,s}function fF(r,e,t){var i="style."+(r+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,hF(r,e,t==null?"":t))}function mF(r){return function(){this.textContent=r}}function pF(r){return function(){var e=r(this);this.textContent=e==null?"":e}}function gF(r){return this.tween("text",typeof r=="function"?pF(Wv(this,"text",r)):mF(r==null?"":r+""))}function vF(r){return function(e){this.textContent=r.call(this,e)}}function _F(r){var e,t;function i(){var n=r.apply(this,arguments);return n!==t&&(e=(t=n)&&vF(n)),e}return i._value=r,i}function yF(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,_F(r))}function bF(){for(var r=this._name,e=this._id,t=MC(),i=this._groups,n=i.length,s=0;s<n;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=Vn(l,e);Pf(l,r,t,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ds(i,this._parents,r,t)}function xF(){var r,e,t=this,i=t._id,n=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--n===0&&s()}};t.each(function(){var c=as(this,i),d=c.on;d!==r&&(e=(r=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),n===0&&s()})}var wF=0;function Ds(r,e,t,i){this._groups=r,this._parents=e,this._name=t,this._id=i}function MC(){return++wF}var ys=wd.prototype;Ds.prototype={constructor:Ds,select:iF,selectAll:rF,selectChild:ys.selectChild,selectChildren:ys.selectChildren,filter:ZR,merge:KR,selection:sF,transition:bF,call:ys.call,nodes:ys.nodes,node:ys.node,size:ys.size,empty:ys.empty,each:ys.each,on:$R,attr:DR,attrTween:zR,style:dF,styleTween:fF,text:gF,textTween:yF,remove:tF,tween:kR,delay:GR,duration:HR,ease:WR,easeVarying:qR,end:xF,[Symbol.iterator]:ys[Symbol.iterator]};function SF(r){return r*r}function TF(r){return r*(2-r)}function CF(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function kF(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var EF={time:null,delay:0,duration:250,ease:kF};function AF(r,e){for(var t;!(t=r.__transition)||!(t=t[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return t}function OF(r){var e,t;r instanceof Ds?(e=r._id,r=r._name):(e=MC(),(t=EF).time=Pv(),r=r==null?null:r+"");for(var i=this._groups,n=i.length,s=0;s<n;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Pf(l,r,e,c,o,t||AF(l,e));return new Ds(i,this._parents,r,e)}wd.prototype.interrupt=WM;wd.prototype.transition=OF;var RC={exports:{}};(function(r,e){(function(t,i){r.exports=i()})(Xi,function(){var t=function(y){return y instanceof Uint8Array||y instanceof Uint16Array||y instanceof Uint32Array||y instanceof Int8Array||y instanceof Int16Array||y instanceof Int32Array||y instanceof Float32Array||y instanceof Float64Array||y instanceof Uint8ClampedArray},i=function(y,A){for(var j=Object.keys(A),se=0;se<j.length;++se)y[j[se]]=A[j[se]];return y},n=`
`;function s(y){return typeof atob!="undefined"?atob(y):"base64:"+y}function o(y){var A=new Error("(regl) "+y);throw console.error(A),A}function a(y,A){y||o(A)}function l(y){return y?": "+y:""}function c(y,A,j){y in A||o("unknown parameter ("+y+")"+l(j)+". possible values: "+Object.keys(A).join())}function d(y,A){t(y)||o("invalid parameter type"+l(A)+". must be a typed array")}function u(y,A){switch(A){case"number":return typeof y=="number";case"object":return typeof y=="object";case"string":return typeof y=="string";case"boolean":return typeof y=="boolean";case"function":return typeof y=="function";case"undefined":return typeof y=="undefined";case"symbol":return typeof y=="symbol"}}function h(y,A,j){u(y,A)||o("invalid parameter type"+l(j)+". expected "+A+", got "+typeof y)}function f(y,A){y>=0&&(y|0)===y||o("invalid parameter type, ("+y+")"+l(A)+". must be a nonnegative integer")}function m(y,A,j){A.indexOf(y)<0&&o("invalid value"+l(j)+". must be one of: "+A)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(y){Object.keys(y).forEach(function(A){p.indexOf(A)<0&&o('invalid regl constructor argument "'+A+'". must be one of '+p)})}function v(y,A){for(y=y+"";y.length<A;)y=" "+y;return y}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function S(y,A){this.number=y,this.line=A,this.errors=[]}function _(y,A,j){this.file=y,this.line=A,this.message=j}function x(){var y=new Error,A=(y.stack||y).toString(),j=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(A);if(j)return j[1];var se=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(A);return se?se[1]:"unknown"}function I(){var y=new Error,A=(y.stack||y).toString(),j=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(A);if(j)return j[1];var se=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(A);return se?se[1]:"unknown"}function T(y,A){var j=y.split(`
`),se=1,ye=0,ne={unknown:new b,0:new b};ne.unknown.name=ne[0].name=A||x(),ne.unknown.lines.push(new S(0,""));for(var he=0;he<j.length;++he){var Ee=j[he],Ce=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Ee);if(Ce)switch(Ce[1]){case"line":var Re=/(\d+)(\s+\d+)?/.exec(Ce[2]);Re&&(se=Re[1]|0,Re[2]&&(ye=Re[2]|0,ye in ne||(ne[ye]=new b)));break;case"define":var Ne=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Ce[2]);Ne&&(ne[ye].name=Ne[1]?s(Ne[2]):Ne[2]);break}ne[ye].lines.push(new S(se++,Ee))}return Object.keys(ne).forEach(function(Fe){var Ge=ne[Fe];Ge.lines.forEach(function(Ae){Ge.index[Ae.number]=Ae})}),ne}function O(y){var A=[];return y.split(`
`).forEach(function(j){if(!(j.length<5)){var se=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(j);se?A.push(new _(se[1]|0,se[2]|0,se[3].trim())):j.length>0&&A.push(new _("unknown",0,j))}}),A}function E(y,A){A.forEach(function(j){var se=y[j.file];if(se){var ye=se.index[j.line];if(ye){ye.errors.push(j),se.hasErrors=!0;return}}y.unknown.hasErrors=!0,y.unknown.lines[0].errors.push(j)})}function w(y,A,j,se,ye){if(!y.getShaderParameter(A,y.COMPILE_STATUS)){var ne=y.getShaderInfoLog(A),he=se===y.FRAGMENT_SHADER?"fragment":"vertex";L(j,"string",he+" shader source must be a string",ye);var Ee=T(j,ye),Ce=O(ne);E(Ee,Ce),Object.keys(Ee).forEach(function(Re){var Ne=Ee[Re];if(!Ne.hasErrors)return;var Fe=[""],Ge=[""];function Ae(De,Q){Fe.push(De),Ge.push(Q||"")}Ae("file number "+Re+": "+Ne.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ne.lines.forEach(function(De){if(De.errors.length>0){Ae(v(De.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ae(De.line+n,"color:red; background-color:yellow; font-weight:bold");var Q=0;De.errors.forEach(function(ue){var Pe=ue.message,Je=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Pe);if(Je){var Se=Je[1];switch(Pe=Je[2],Se){case"assign":Se="=";break}Q=Math.max(De.line.indexOf(Se,Q),0)}else Q=0;Ae(v("| ",6)),Ae(v("^^^",Q+3)+n,"font-weight:bold"),Ae(v("| ",6)),Ae(Pe+n,"font-weight:bold")}),Ae(v("| ",6)+n)}else Ae(v(De.number,4)+"|  "),Ae(De.line+n,"color:red")}),typeof document!="undefined"&&!window.chrome?(Ge[0]=Fe.join("%c"),console.log.apply(console,Ge)):console.log(Fe.join(""))}),a.raise("Error compiling "+he+" shader, "+Ee[0].name)}}function X(y,A,j,se,ye){if(!y.getProgramParameter(A,y.LINK_STATUS)){var ne=y.getProgramInfoLog(A),he=T(j,ye),Ee=T(se,ye),Ce='Error linking program with vertex shader, "'+Ee[0].name+'", and fragment shader "'+he[0].name+'"';typeof document!="undefined"?console.log("%c"+Ce+n+"%c"+ne,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Ce+n+ne),a.raise(Ce)}}function H(y){y._commandRef=x()}function Y(y,A,j,se){H(y);function ye(Ce){return Ce?se.id(Ce):0}y._fragId=ye(y.static.frag),y._vertId=ye(y.static.vert);function ne(Ce,Re){Object.keys(Re).forEach(function(Ne){Ce[se.id(Ne)]=!0})}var he=y._uniformSet={};ne(he,A.static),ne(he,A.dynamic);var Ee=y._attributeSet={};ne(Ee,j.static),ne(Ee,j.dynamic),y._hasCount="count"in y.static||"count"in y.dynamic||"elements"in y.static||"elements"in y.dynamic}function k(y,A){var j=I();o(y+" in command "+(A||x())+(j==="unknown"?"":" called from "+j))}function D(y,A,j){y||k(A,j||x())}function M(y,A,j,se){y in A||k("unknown parameter ("+y+")"+l(j)+". possible values: "+Object.keys(A).join(),se||x())}function L(y,A,j,se){u(y,A)||k("invalid parameter type"+l(j)+". expected "+A+", got "+typeof y,se||x())}function J(y){y()}function ce(y,A,j){y.texture?m(y.texture._texture.internalformat,A,"unsupported texture format for attachment"):m(y.renderbuffer._renderbuffer.format,j,"unsupported renderbuffer format for attachment")}var te=33071,et=9728,ot=9984,Ot=9985,gt=9986,je=9987,At=5120,It=5121,de=5122,pe=5123,He=5124,dt=5125,Oe=5126,Gt=32819,ei=32820,rt=33635,_t=34042,vi=36193,Si={};Si[At]=Si[It]=1,Si[de]=Si[pe]=Si[vi]=Si[rt]=Si[Gt]=Si[ei]=2,Si[He]=Si[dt]=Si[Oe]=Si[_t]=4;function Vs(y,A){return y===ei||y===Gt||y===rt?2:y===_t?4:Si[y]*A}function Ta(y){return!(y&y-1)&&!!y}function qf(y,A,j){var se,ye=A.width,ne=A.height,he=A.channels;a(ye>0&&ye<=j.maxTextureSize&&ne>0&&ne<=j.maxTextureSize,"invalid texture shape"),(y.wrapS!==te||y.wrapT!==te)&&a(Ta(ye)&&Ta(ne),"incompatible wrap mode for texture, both width and height must be power of 2"),A.mipmask===1?ye!==1&&ne!==1&&a(y.minFilter!==ot&&y.minFilter!==gt&&y.minFilter!==Ot&&y.minFilter!==je,"min filter requires mipmap"):(a(Ta(ye)&&Ta(ne),"texture must be a square power of 2 to support mipmapping"),a(A.mipmask===(ye<<1)-1,"missing or incomplete mipmap data")),A.type===Oe&&(j.extensions.indexOf("oes_texture_float_linear")<0&&a(y.minFilter===et&&y.magFilter===et,"filter not supported, must enable oes_texture_float_linear"),a(!y.genMipmaps,"mipmap generation not supported with float textures"));var Ee=A.images;for(se=0;se<16;++se)if(Ee[se]){var Ce=ye>>se,Re=ne>>se;a(A.mipmask&1<<se,"missing mipmap data");var Ne=Ee[se];if(a(Ne.width===Ce&&Ne.height===Re,"invalid shape for mip images"),a(Ne.format===A.format&&Ne.internalformat===A.internalformat&&Ne.type===A.type,"incompatible type for mip image"),!Ne.compressed)if(Ne.data){var Fe=Math.ceil(Vs(Ne.type,he)*Ce/Ne.unpackAlignment)*Ne.unpackAlignment;a(Ne.data.byteLength===Fe*Re,"invalid data for image, buffer size is inconsistent with image format")}else Ne.element||Ne.copy}else y.genMipmaps||a((A.mipmask&1<<se)===0,"extra mipmap data");A.compressed&&a(!y.genMipmaps,"mipmap generation for compressed images not supported")}function Zf(y,A,j,se){var ye=y.width,ne=y.height,he=y.channels;a(ye>0&&ye<=se.maxTextureSize&&ne>0&&ne<=se.maxTextureSize,"invalid texture shape"),a(ye===ne,"cube map must be square"),a(A.wrapS===te&&A.wrapT===te,"wrap mode not supported by cube map");for(var Ee=0;Ee<j.length;++Ee){var Ce=j[Ee];a(Ce.width===ye&&Ce.height===ne,"inconsistent cube map face shape"),A.genMipmaps&&(a(!Ce.compressed,"can not generate mipmap for compressed textures"),a(Ce.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Re=Ce.images,Ne=0;Ne<16;++Ne){var Fe=Re[Ne];if(Fe){var Ge=ye>>Ne,Ae=ne>>Ne;a(Ce.mipmask&1<<Ne,"missing mipmap data"),a(Fe.width===Ge&&Fe.height===Ae,"invalid shape for mip images"),a(Fe.format===y.format&&Fe.internalformat===y.internalformat&&Fe.type===y.type,"incompatible type for mip image"),Fe.compressed||(Fe.data?a(Fe.data.byteLength===Ge*Ae*Math.max(Vs(Fe.type,he),Fe.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Fe.element||Fe.copy)}}}}var P=i(a,{optional:J,raise:o,commandRaise:k,command:D,parameter:c,commandParameter:M,constructor:g,type:h,commandType:L,isTypedArray:d,nni:f,oneOf:m,shaderError:w,linkError:X,callSite:I,saveCommandRef:H,saveDrawInfo:Y,framebufferFormat:ce,guessCommand:x,texture2D:qf,textureCube:Zf}),Ld=0,Kf=0,Pd=5,at=6;function ut(y,A){this.id=Ld++,this.type=y,this.data=A}function Te(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fe(y){if(y.length===0)return[];var A=y.charAt(0),j=y.charAt(y.length-1);if(y.length>1&&A===j&&(A==='"'||A==="'"))return['"'+Te(y.substr(1,y.length-2))+'"'];var se=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(y);if(se)return fe(y.substr(0,se.index)).concat(fe(se[1])).concat(fe(y.substr(se.index+se[0].length)));var ye=y.split(".");if(ye.length===1)return['"'+Te(y)+'"'];for(var ne=[],he=0;he<ye.length;++he)ne=ne.concat(fe(ye[he]));return ne}function Dt(y){return"["+fe(y).join("][")+"]"}function yt(y,A){return new ut(y,Dt(A+""))}function bt(y){return typeof y=="function"&&!y._reglType||y instanceof ut}function _i(y,A){if(typeof y=="function")return new ut(Kf,y);if(typeof y=="number"||typeof y=="boolean")return new ut(Pd,y);if(Array.isArray(y))return new ut(at,y.map(function(j,se){return _i(j,A+"["+se+"]")}));if(y instanceof ut)return y;P(!1,"invalid option type in uniform "+A)}var li={DynamicVariable:ut,define:yt,isDynamic:bt,unbox:_i,accessor:Dt},ji={next:typeof requestAnimationFrame=="function"?function(y){return requestAnimationFrame(y)}:function(y){return setTimeout(y,16)},cancel:typeof cancelAnimationFrame=="function"?function(y){return cancelAnimationFrame(y)}:clearTimeout},Ri=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Or(){var y={"":0},A=[""];return{id:function(j){var se=y[j];return se||(se=y[j]=A.length,A.push(j),se)},str:function(j){return A[j]}}}function Di(y,A,j){var se=document.createElement("canvas");i(se.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),y.appendChild(se),y===document.body&&(se.style.position="absolute",i(y.style,{margin:0,padding:0}));function ye(){var Ee=window.innerWidth,Ce=window.innerHeight;if(y!==document.body){var Re=se.getBoundingClientRect();Ee=Re.right-Re.left,Ce=Re.bottom-Re.top}se.width=j*Ee,se.height=j*Ce}var ne;y!==document.body&&typeof ResizeObserver=="function"?(ne=new ResizeObserver(function(){setTimeout(ye)}),ne.observe(y)):window.addEventListener("resize",ye,!1);function he(){ne?ne.disconnect():window.removeEventListener("resize",ye),y.removeChild(se)}return ye(),{canvas:se,onDestroy:he}}function yi(y,A){function j(se){try{return y.getContext(se,A)}catch(ye){return null}}return j("webgl")||j("experimental-webgl")||j("webgl-experimental")}function tr(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function Rr(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function wn(y){return typeof y=="string"?y.split():(P(Array.isArray(y),"invalid extension array"),y)}function us(y){return typeof y=="string"?(P(typeof document!="undefined","not supported outside of DOM"),document.querySelector(y)):y}function Ao(y){var A=y||{},j,se,ye,ne,he={},Ee=[],Ce=[],Re=typeof window=="undefined"?1:window.devicePixelRatio,Ne=!1,Fe=function(De){De&&P.raise(De)},Ge=function(){};if(typeof A=="string"?(P(typeof document!="undefined","selector queries only supported in DOM enviroments"),j=document.querySelector(A),P(j,"invalid query string for element")):typeof A=="object"?tr(A)?j=A:Rr(A)?(ne=A,ye=ne.canvas):(P.constructor(A),"gl"in A?ne=A.gl:"canvas"in A?ye=us(A.canvas):"container"in A&&(se=us(A.container)),"attributes"in A&&(he=A.attributes,P.type(he,"object","invalid context attributes")),"extensions"in A&&(Ee=wn(A.extensions)),"optionalExtensions"in A&&(Ce=wn(A.optionalExtensions)),"onDone"in A&&(P.type(A.onDone,"function","invalid or missing onDone callback"),Fe=A.onDone),"profile"in A&&(Ne=!!A.profile),"pixelRatio"in A&&(Re=+A.pixelRatio,P(Re>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),j&&(j.nodeName.toLowerCase()==="canvas"?ye=j:se=j),!ne){if(!ye){P(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Ae=Di(se||document.body,Fe,Re);if(!Ae)return null;ye=Ae.canvas,Ge=Ae.onDestroy}he.premultipliedAlpha===void 0&&(he.premultipliedAlpha=!0),ne=yi(ye,he)}return ne?{gl:ne,canvas:ye,container:se,extensions:Ee,optionalExtensions:Ce,pixelRatio:Re,profile:Ne,onDone:Fe,onDestroy:Ge}:(Ge(),Fe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Us(y,A){var j={};function se(he){P.type(he,"string","extension name must be string");var Ee=he.toLowerCase(),Ce;try{Ce=j[Ee]=y.getExtension(Ee)}catch(Re){}return!!Ce}for(var ye=0;ye<A.extensions.length;++ye){var ne=A.extensions[ye];if(!se(ne))return A.onDestroy(),A.onDone('"'+ne+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return A.optionalExtensions.forEach(se),{extensions:j,restore:function(){Object.keys(j).forEach(function(he){if(j[he]&&!se(he))throw new Error("(regl): error restoring extension "+he)})}}}function Ti(y,A){for(var j=Array(y),se=0;se<y;++se)j[se]=A(se);return j}var Oo=5120,wr=5121,ir=5122,Jf=5123,Zl=5124,Dd=5125,Qf=5126;function Md(y){for(var A=16;A<=1<<28;A*=16)if(y<=A)return A;return 0}function Rd(y){var A,j;return A=(y>65535)<<4,y>>>=A,j=(y>255)<<3,y>>>=j,A|=j,j=(y>15)<<2,y>>>=j,A|=j,j=(y>3)<<1,y>>>=j,A|=j,A|y>>1}function Fd(){var y=Ti(8,function(){return[]});function A(ne){var he=Md(ne),Ee=y[Rd(he)>>2];return Ee.length>0?Ee.pop():new ArrayBuffer(he)}function j(ne){y[Rd(ne.byteLength)>>2].push(ne)}function se(ne,he){var Ee=null;switch(ne){case Oo:Ee=new Int8Array(A(he),0,he);break;case wr:Ee=new Uint8Array(A(he),0,he);break;case ir:Ee=new Int16Array(A(2*he),0,he);break;case Jf:Ee=new Uint16Array(A(2*he),0,he);break;case Zl:Ee=new Int32Array(A(4*he),0,he);break;case Dd:Ee=new Uint32Array(A(4*he),0,he);break;case Qf:Ee=new Float32Array(A(4*he),0,he);break;default:return null}return Ee.length!==he?Ee.subarray(0,he):Ee}function ye(ne){j(ne.buffer)}return{alloc:A,free:j,allocType:se,freeType:ye}}var Ii=Fd();Ii.zero=Fd();var lt=3408,Yt=3410,oi=3411,Wi=3412,Kt=3413,Nt=3414,ci=3415,bi=33901,rr=33902,dr=3379,ur=3386,hs=34921,dn=36347,Hs=36348,Ca=35661,fs=35660,ms=34930,Kl=36349,Sn=34076,Nd=34024,Qk=7936,$k=7937,eE=7938,tE=35724,iE=34047,rE=36063,nE=34852,zd=3553,y_=34067,sE=34069,oE=33984,Jl=6408,$f=5126,b_=5121,em=36160,aE=36053,lE=36064,cE=16384,dE=function(y,A){var j=1;A.ext_texture_filter_anisotropic&&(j=y.getParameter(iE));var se=1,ye=1;A.webgl_draw_buffers&&(se=y.getParameter(nE),ye=y.getParameter(rE));var ne=!!A.oes_texture_float;if(ne){var he=y.createTexture();y.bindTexture(zd,he),y.texImage2D(zd,0,Jl,1,1,0,Jl,$f,null);var Ee=y.createFramebuffer();if(y.bindFramebuffer(em,Ee),y.framebufferTexture2D(em,lE,zd,he,0),y.bindTexture(zd,null),y.checkFramebufferStatus(em)!==aE)ne=!1;else{y.viewport(0,0,1,1),y.clearColor(1,0,0,1),y.clear(cE);var Ce=Ii.allocType($f,4);y.readPixels(0,0,1,1,Jl,$f,Ce),y.getError()?ne=!1:(y.deleteFramebuffer(Ee),y.deleteTexture(he),ne=Ce[0]===1),Ii.freeType(Ce)}}var Re=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ne=!0;if(!Re){var Fe=y.createTexture(),Ge=Ii.allocType(b_,36);y.activeTexture(oE),y.bindTexture(y_,Fe),y.texImage2D(sE,0,Jl,3,3,0,Jl,b_,Ge),Ii.freeType(Ge),y.bindTexture(y_,null),y.deleteTexture(Fe),Ne=!y.getError()}return{colorBits:[y.getParameter(Yt),y.getParameter(oi),y.getParameter(Wi),y.getParameter(Kt)],depthBits:y.getParameter(Nt),stencilBits:y.getParameter(ci),subpixelBits:y.getParameter(lt),extensions:Object.keys(A).filter(function(Ae){return!!A[Ae]}),maxAnisotropic:j,maxDrawbuffers:se,maxColorAttachments:ye,pointSizeDims:y.getParameter(bi),lineWidthDims:y.getParameter(rr),maxViewportDims:y.getParameter(ur),maxCombinedTextureUnits:y.getParameter(Ca),maxCubeMapSize:y.getParameter(Sn),maxRenderbufferSize:y.getParameter(Nd),maxTextureUnits:y.getParameter(ms),maxTextureSize:y.getParameter(dr),maxAttributes:y.getParameter(hs),maxVertexUniforms:y.getParameter(dn),maxVertexTextureUnits:y.getParameter(fs),maxVaryingVectors:y.getParameter(Hs),maxFragmentUniforms:y.getParameter(Kl),glsl:y.getParameter(tE),renderer:y.getParameter($k),vendor:y.getParameter(Qk),version:y.getParameter(eE),readFloat:ne,npotTextureCube:Ne}};function Tn(y){return!!y&&typeof y=="object"&&Array.isArray(y.shape)&&Array.isArray(y.stride)&&typeof y.offset=="number"&&y.shape.length===y.stride.length&&(Array.isArray(y.data)||t(y.data))}var rn=function(y){return Object.keys(y).map(function(A){return y[A]})},Bd={shape:mE,flatten:fE};function uE(y,A,j){for(var se=0;se<A;++se)j[se]=y[se]}function hE(y,A,j,se){for(var ye=0,ne=0;ne<A;++ne)for(var he=y[ne],Ee=0;Ee<j;++Ee)se[ye++]=he[Ee]}function x_(y,A,j,se,ye,ne){for(var he=ne,Ee=0;Ee<A;++Ee)for(var Ce=y[Ee],Re=0;Re<j;++Re)for(var Ne=Ce[Re],Fe=0;Fe<se;++Fe)ye[he++]=Ne[Fe]}function w_(y,A,j,se,ye){for(var ne=1,he=j+1;he<A.length;++he)ne*=A[he];var Ee=A[j];if(A.length-j===4){var Ce=A[j+1],Re=A[j+2],Ne=A[j+3];for(he=0;he<Ee;++he)x_(y[he],Ce,Re,Ne,se,ye),ye+=ne}else for(he=0;he<Ee;++he)w_(y[he],A,j+1,se,ye),ye+=ne}function fE(y,A,j,se){var ye=1;if(A.length)for(var ne=0;ne<A.length;++ne)ye*=A[ne];else ye=0;var he=se||Ii.allocType(j,ye);switch(A.length){case 0:break;case 1:uE(y,A[0],he);break;case 2:hE(y,A[0],A[1],he);break;case 3:x_(y,A[0],A[1],A[2],he,0);break;default:w_(y,A,0,he,0)}return he}function mE(y){for(var A=[],j=y;j.length;j=j[0])A.push(j.length);return A}var tm={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},pE=5120,gE=5122,vE=5124,_E=5121,yE=5123,bE=5125,xE=5126,wE=5126,Io={int8:pE,int16:gE,int32:vE,uint8:_E,uint16:yE,uint32:bE,float:xE,float32:wE},SE=35048,TE=35040,jd={dynamic:SE,stream:TE,static:35044},im=Bd.flatten,S_=Bd.shape,T_=35044,CE=35040,rm=5121,nm=5126,Xs=[];Xs[5120]=1,Xs[5122]=2,Xs[5124]=4,Xs[5121]=1,Xs[5123]=2,Xs[5125]=4,Xs[5126]=4;function Gd(y){return tm[Object.prototype.toString.call(y)]|0}function C_(y,A){for(var j=0;j<A.length;++j)y[j]=A[j]}function k_(y,A,j,se,ye,ne,he){for(var Ee=0,Ce=0;Ce<j;++Ce)for(var Re=0;Re<se;++Re)y[Ee++]=A[ye*Ce+ne*Re+he]}function kE(y,A,j,se){var ye=0,ne={};function he(Q){this.id=ye++,this.buffer=y.createBuffer(),this.type=Q,this.usage=T_,this.byteLength=0,this.dimension=1,this.dtype=rm,this.persistentData=null,j.profile&&(this.stats={size:0})}he.prototype.bind=function(){y.bindBuffer(this.type,this.buffer)},he.prototype.destroy=function(){Ge(this)};var Ee=[];function Ce(Q,ue){var Pe=Ee.pop();return Pe||(Pe=new he(Q)),Pe.bind(),Fe(Pe,ue,CE,0,1,!1),Pe}function Re(Q){Ee.push(Q)}function Ne(Q,ue,Pe){Q.byteLength=ue.byteLength,y.bufferData(Q.type,ue,Pe)}function Fe(Q,ue,Pe,Je,Se,qe){var We;if(Q.usage=Pe,Array.isArray(ue)){if(Q.dtype=Je||nm,ue.length>0){var mt;if(Array.isArray(ue[0])){We=S_(ue);for(var be=1,_e=1;_e<We.length;++_e)be*=We[_e];Q.dimension=be,mt=im(ue,We,Q.dtype),Ne(Q,mt,Pe),qe?Q.persistentData=mt:Ii.freeType(mt)}else if(typeof ue[0]=="number"){Q.dimension=Se;var it=Ii.allocType(Q.dtype,ue.length);C_(it,ue),Ne(Q,it,Pe),qe?Q.persistentData=it:Ii.freeType(it)}else t(ue[0])?(Q.dimension=ue[0].length,Q.dtype=Je||Gd(ue[0])||nm,mt=im(ue,[ue.length,ue[0].length],Q.dtype),Ne(Q,mt,Pe),qe?Q.persistentData=mt:Ii.freeType(mt)):P.raise("invalid buffer data")}}else if(t(ue))Q.dtype=Je||Gd(ue),Q.dimension=Se,Ne(Q,ue,Pe),qe&&(Q.persistentData=new Uint8Array(new Uint8Array(ue.buffer)));else if(Tn(ue)){We=ue.shape;var Ve=ue.stride,Ie=ue.offset,Ue=0,Xe=0,kt=0,Ct=0;We.length===1?(Ue=We[0],Xe=1,kt=Ve[0],Ct=0):We.length===2?(Ue=We[0],Xe=We[1],kt=Ve[0],Ct=Ve[1]):P.raise("invalid shape"),Q.dtype=Je||Gd(ue.data)||nm,Q.dimension=Xe;var Ye=Ii.allocType(Q.dtype,Ue*Xe);k_(Ye,ue.data,Ue,Xe,kt,Ct,Ie),Ne(Q,Ye,Pe),qe?Q.persistentData=Ye:Ii.freeType(Ye)}else ue instanceof ArrayBuffer?(Q.dtype=rm,Q.dimension=Se,Ne(Q,ue,Pe),qe&&(Q.persistentData=new Uint8Array(new Uint8Array(ue)))):P.raise("invalid buffer data")}function Ge(Q){A.bufferCount--,se(Q);var ue=Q.buffer;P(ue,"buffer must not be deleted already"),y.deleteBuffer(ue),Q.buffer=null,delete ne[Q.id]}function Ae(Q,ue,Pe,Je){A.bufferCount++;var Se=new he(ue);ne[Se.id]=Se;function qe(be){var _e=T_,it=null,Ve=0,Ie=0,Ue=1;return Array.isArray(be)||t(be)||Tn(be)||be instanceof ArrayBuffer?it=be:typeof be=="number"?Ve=be|0:be&&(P.type(be,"object","buffer arguments must be an object, a number or an array"),"data"in be&&(P(it===null||Array.isArray(it)||t(it)||Tn(it),"invalid data for buffer"),it=be.data),"usage"in be&&(P.parameter(be.usage,jd,"invalid buffer usage"),_e=jd[be.usage]),"type"in be&&(P.parameter(be.type,Io,"invalid buffer type"),Ie=Io[be.type]),"dimension"in be&&(P.type(be.dimension,"number","invalid dimension"),Ue=be.dimension|0),"length"in be&&(P.nni(Ve,"buffer length must be a nonnegative integer"),Ve=be.length|0)),Se.bind(),it?Fe(Se,it,_e,Ie,Ue,Je):(Ve&&y.bufferData(Se.type,Ve,_e),Se.dtype=Ie||rm,Se.usage=_e,Se.dimension=Ue,Se.byteLength=Ve),j.profile&&(Se.stats.size=Se.byteLength*Xs[Se.dtype]),qe}function We(be,_e){P(_e+be.byteLength<=Se.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+be.byteLength+" starting from offset "+_e+" to a buffer of size "+Se.byteLength),y.bufferSubData(Se.type,_e,be)}function mt(be,_e){var it=(_e||0)|0,Ve;if(Se.bind(),t(be)||be instanceof ArrayBuffer)We(be,it);else if(Array.isArray(be)){if(be.length>0)if(typeof be[0]=="number"){var Ie=Ii.allocType(Se.dtype,be.length);C_(Ie,be),We(Ie,it),Ii.freeType(Ie)}else if(Array.isArray(be[0])||t(be[0])){Ve=S_(be);var Ue=im(be,Ve,Se.dtype);We(Ue,it),Ii.freeType(Ue)}else P.raise("invalid buffer data")}else if(Tn(be)){Ve=be.shape;var Xe=be.stride,kt=0,Ct=0,Ye=0,Ke=0;Ve.length===1?(kt=Ve[0],Ct=1,Ye=Xe[0],Ke=0):Ve.length===2?(kt=Ve[0],Ct=Ve[1],Ye=Xe[0],Ke=Xe[1]):P.raise("invalid shape");var wt=Array.isArray(be.data)?Se.dtype:Gd(be.data),Et=Ii.allocType(wt,kt*Ct);k_(Et,be.data,kt,Ct,Ye,Ke,be.offset),We(Et,it),Ii.freeType(Et)}else P.raise("invalid data for buffer subdata");return qe}return Pe||qe(Q),qe._reglType="buffer",qe._buffer=Se,qe.subdata=mt,j.profile&&(qe.stats=Se.stats),qe.destroy=function(){Ge(Se)},qe}function De(){rn(ne).forEach(function(Q){Q.buffer=y.createBuffer(),y.bindBuffer(Q.type,Q.buffer),y.bufferData(Q.type,Q.persistentData||Q.byteLength,Q.usage)})}return j.profile&&(A.getTotalBufferSize=function(){var Q=0;return Object.keys(ne).forEach(function(ue){Q+=ne[ue].stats.size}),Q}),{create:Ae,createStream:Ce,destroyStream:Re,clear:function(){rn(ne).forEach(Ge),Ee.forEach(Ge)},getBuffer:function(Q){return Q&&Q._buffer instanceof he?Q._buffer:null},restore:De,_initBuffer:Fe}}var EE=0,AE=0,OE=1,IE=1,LE=4,PE=4,Ws={points:EE,point:AE,lines:OE,line:IE,triangles:LE,triangle:PE,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},DE=0,ME=1,Ql=4,RE=5120,ka=5121,E_=5122,Ea=5123,A_=5124,Lo=5125,sm=34963,FE=35040,NE=35044;function zE(y,A,j,se){var ye={},ne=0,he={uint8:ka,uint16:Ea};A.oes_element_index_uint&&(he.uint32=Lo);function Ee(De){this.id=ne++,ye[this.id]=this,this.buffer=De,this.primType=Ql,this.vertCount=0,this.type=0}Ee.prototype.bind=function(){this.buffer.bind()};var Ce=[];function Re(De){var Q=Ce.pop();return Q||(Q=new Ee(j.create(null,sm,!0,!1)._buffer)),Fe(Q,De,FE,-1,-1,0,0),Q}function Ne(De){Ce.push(De)}function Fe(De,Q,ue,Pe,Je,Se,qe){De.buffer.bind();var We;if(Q){var mt=qe;!qe&&(!t(Q)||Tn(Q)&&!t(Q.data))&&(mt=A.oes_element_index_uint?Lo:Ea),j._initBuffer(De.buffer,Q,ue,mt,3)}else y.bufferData(sm,Se,ue),De.buffer.dtype=We||ka,De.buffer.usage=ue,De.buffer.dimension=3,De.buffer.byteLength=Se;if(We=qe,!qe){switch(De.buffer.dtype){case ka:case RE:We=ka;break;case Ea:case E_:We=Ea;break;case Lo:case A_:We=Lo;break;default:P.raise("unsupported type for element array")}De.buffer.dtype=We}De.type=We,P(We!==Lo||!!A.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var be=Je;be<0&&(be=De.buffer.byteLength,We===Ea?be>>=1:We===Lo&&(be>>=2)),De.vertCount=be;var _e=Pe;if(Pe<0){_e=Ql;var it=De.buffer.dimension;it===1&&(_e=DE),it===2&&(_e=ME),it===3&&(_e=Ql)}De.primType=_e}function Ge(De){se.elementsCount--,P(De.buffer!==null,"must not double destroy elements"),delete ye[De.id],De.buffer.destroy(),De.buffer=null}function Ae(De,Q){var ue=j.create(null,sm,!0),Pe=new Ee(ue._buffer);se.elementsCount++;function Je(Se){if(!Se)ue(),Pe.primType=Ql,Pe.vertCount=0,Pe.type=ka;else if(typeof Se=="number")ue(Se),Pe.primType=Ql,Pe.vertCount=Se|0,Pe.type=ka;else{var qe=null,We=NE,mt=-1,be=-1,_e=0,it=0;Array.isArray(Se)||t(Se)||Tn(Se)?qe=Se:(P.type(Se,"object","invalid arguments for elements"),"data"in Se&&(qe=Se.data,P(Array.isArray(qe)||t(qe)||Tn(qe),"invalid data for element buffer")),"usage"in Se&&(P.parameter(Se.usage,jd,"invalid element buffer usage"),We=jd[Se.usage]),"primitive"in Se&&(P.parameter(Se.primitive,Ws,"invalid element buffer primitive"),mt=Ws[Se.primitive]),"count"in Se&&(P(typeof Se.count=="number"&&Se.count>=0,"invalid vertex count for elements"),be=Se.count|0),"type"in Se&&(P.parameter(Se.type,he,"invalid buffer type"),it=he[Se.type]),"length"in Se?_e=Se.length|0:(_e=be,it===Ea||it===E_?_e*=2:(it===Lo||it===A_)&&(_e*=4))),Fe(Pe,qe,We,mt,be,_e,it)}return Je}return Je(De),Je._reglType="elements",Je._elements=Pe,Je.subdata=function(Se,qe){return ue.subdata(Se,qe),Je},Je.destroy=function(){Ge(Pe)},Je}return{create:Ae,createStream:Re,destroyStream:Ne,getElements:function(De){return typeof De=="function"&&De._elements instanceof Ee?De._elements:null},clear:function(){rn(ye).forEach(Ge)}}}var O_=new Float32Array(1),BE=new Uint32Array(O_.buffer),jE=5123;function I_(y){for(var A=Ii.allocType(jE,y.length),j=0;j<y.length;++j)if(isNaN(y[j]))A[j]=65535;else if(y[j]===1/0)A[j]=31744;else if(y[j]===-1/0)A[j]=64512;else{O_[0]=y[j];var se=BE[0],ye=se>>>31<<15,ne=(se<<1>>>24)-127,he=se>>13&1023;if(ne<-24)A[j]=ye;else if(ne<-14){var Ee=-14-ne;A[j]=ye+(he+1024>>Ee)}else ne>15?A[j]=ye+31744:A[j]=ye+(ne+15<<10)+he}return A}function ki(y){return Array.isArray(y)||t(y)}var L_=function(y){return!(y&y-1)&&!!y},GE=34467,Un=3553,om=34067,Vd=34069,Po=6408,am=6406,Ud=6407,$l=6409,Hd=6410,P_=32854,lm=32855,D_=36194,VE=32819,UE=32820,HE=33635,XE=34042,cm=6402,Xd=34041,dm=35904,um=35906,Aa=36193,hm=33776,fm=33777,mm=33778,pm=33779,M_=35986,R_=35987,F_=34798,N_=35840,z_=35841,B_=35842,j_=35843,G_=36196,Oa=5121,gm=5123,vm=5125,ec=5126,WE=10242,YE=10243,qE=10497,_m=33071,ZE=33648,KE=10240,JE=10241,ym=9728,QE=9729,bm=9984,V_=9985,U_=9986,xm=9987,$E=33170,Wd=4352,e3=4353,t3=4354,i3=34046,r3=3317,n3=37440,s3=37441,o3=37443,H_=37444,tc=33984,a3=[bm,U_,V_,xm],Yd=[0,$l,Hd,Ud,Po],un={};un[$l]=un[am]=un[cm]=1,un[Xd]=un[Hd]=2,un[Ud]=un[dm]=3,un[Po]=un[um]=4;function Ia(y){return"[object "+y+"]"}var X_=Ia("HTMLCanvasElement"),W_=Ia("OffscreenCanvas"),Y_=Ia("CanvasRenderingContext2D"),q_=Ia("ImageBitmap"),Z_=Ia("HTMLImageElement"),K_=Ia("HTMLVideoElement"),l3=Object.keys(tm).concat([X_,W_,Y_,q_,Z_,K_]),La=[];La[Oa]=1,La[ec]=4,La[Aa]=2,La[gm]=2,La[vm]=4;var gr=[];gr[P_]=2,gr[lm]=2,gr[D_]=2,gr[Xd]=4,gr[hm]=.5,gr[fm]=.5,gr[mm]=1,gr[pm]=1,gr[M_]=.5,gr[R_]=1,gr[F_]=1,gr[N_]=.5,gr[z_]=.25,gr[B_]=.5,gr[j_]=.25,gr[G_]=.5;function J_(y){return Array.isArray(y)&&(y.length===0||typeof y[0]=="number")}function Q_(y){if(!Array.isArray(y))return!1;var A=y.length;return!(A===0||!ki(y[0]))}function Do(y){return Object.prototype.toString.call(y)}function $_(y){return Do(y)===X_}function ey(y){return Do(y)===W_}function c3(y){return Do(y)===Y_}function d3(y){return Do(y)===q_}function u3(y){return Do(y)===Z_}function h3(y){return Do(y)===K_}function wm(y){if(!y)return!1;var A=Do(y);return l3.indexOf(A)>=0?!0:J_(y)||Q_(y)||Tn(y)}function ty(y){return tm[Object.prototype.toString.call(y)]|0}function f3(y,A){var j=A.length;switch(y.type){case Oa:case gm:case vm:case ec:var se=Ii.allocType(y.type,j);se.set(A),y.data=se;break;case Aa:y.data=I_(A);break;default:P.raise("unsupported texture type, must specify a typed array")}}function iy(y,A){return Ii.allocType(y.type===Aa?ec:y.type,A)}function ry(y,A){y.type===Aa?(y.data=I_(A),Ii.freeType(A)):y.data=A}function m3(y,A,j,se,ye,ne){for(var he=y.width,Ee=y.height,Ce=y.channels,Re=he*Ee*Ce,Ne=iy(y,Re),Fe=0,Ge=0;Ge<Ee;++Ge)for(var Ae=0;Ae<he;++Ae)for(var De=0;De<Ce;++De)Ne[Fe++]=A[j*Ae+se*Ge+ye*De+ne];ry(y,Ne)}function qd(y,A,j,se,ye,ne){var he;if(typeof gr[y]!="undefined"?he=gr[y]:he=un[y]*La[A],ne&&(he*=6),ye){for(var Ee=0,Ce=j;Ce>=1;)Ee+=he*Ce*Ce,Ce/=2;return Ee}else return he*j*se}function p3(y,A,j,se,ye,ne,he){var Ee={"don't care":Wd,"dont care":Wd,nice:t3,fast:e3},Ce={repeat:qE,clamp:_m,mirror:ZE},Re={nearest:ym,linear:QE},Ne=i({mipmap:xm,"nearest mipmap nearest":bm,"linear mipmap nearest":V_,"nearest mipmap linear":U_,"linear mipmap linear":xm},Re),Fe={none:0,browser:H_},Ge={uint8:Oa,rgba4:VE,rgb565:HE,"rgb5 a1":UE},Ae={alpha:am,luminance:$l,"luminance alpha":Hd,rgb:Ud,rgba:Po,rgba4:P_,"rgb5 a1":lm,rgb565:D_},De={};A.ext_srgb&&(Ae.srgb=dm,Ae.srgba=um),A.oes_texture_float&&(Ge.float32=Ge.float=ec),A.oes_texture_half_float&&(Ge.float16=Ge["half float"]=Aa),A.webgl_depth_texture&&(i(Ae,{depth:cm,"depth stencil":Xd}),i(Ge,{uint16:gm,uint32:vm,"depth stencil":XE})),A.webgl_compressed_texture_s3tc&&i(De,{"rgb s3tc dxt1":hm,"rgba s3tc dxt1":fm,"rgba s3tc dxt3":mm,"rgba s3tc dxt5":pm}),A.webgl_compressed_texture_atc&&i(De,{"rgb atc":M_,"rgba atc explicit alpha":R_,"rgba atc interpolated alpha":F_}),A.webgl_compressed_texture_pvrtc&&i(De,{"rgb pvrtc 4bppv1":N_,"rgb pvrtc 2bppv1":z_,"rgba pvrtc 4bppv1":B_,"rgba pvrtc 2bppv1":j_}),A.webgl_compressed_texture_etc1&&(De["rgb etc1"]=G_);var Q=Array.prototype.slice.call(y.getParameter(GE));Object.keys(De).forEach(function(z){var oe=De[z];Q.indexOf(oe)>=0&&(Ae[z]=oe)});var ue=Object.keys(Ae);j.textureFormats=ue;var Pe=[];Object.keys(Ae).forEach(function(z){var oe=Ae[z];Pe[oe]=z});var Je=[];Object.keys(Ge).forEach(function(z){var oe=Ge[z];Je[oe]=z});var Se=[];Object.keys(Re).forEach(function(z){var oe=Re[z];Se[oe]=z});var qe=[];Object.keys(Ne).forEach(function(z){var oe=Ne[z];qe[oe]=z});var We=[];Object.keys(Ce).forEach(function(z){var oe=Ce[z];We[oe]=z});var mt=ue.reduce(function(z,oe){var re=Ae[oe];return re===$l||re===am||re===$l||re===Hd||re===cm||re===Xd||A.ext_srgb&&(re===dm||re===um)?z[re]=re:re===lm||oe.indexOf("rgba")>=0?z[re]=Po:z[re]=Ud,z},{});function be(){this.internalformat=Po,this.format=Po,this.type=Oa,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=H_,this.width=0,this.height=0,this.channels=0}function _e(z,oe){z.internalformat=oe.internalformat,z.format=oe.format,z.type=oe.type,z.compressed=oe.compressed,z.premultiplyAlpha=oe.premultiplyAlpha,z.flipY=oe.flipY,z.unpackAlignment=oe.unpackAlignment,z.colorSpace=oe.colorSpace,z.width=oe.width,z.height=oe.height,z.channels=oe.channels}function it(z,oe){if(!(typeof oe!="object"||!oe)){if("premultiplyAlpha"in oe&&(P.type(oe.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),z.premultiplyAlpha=oe.premultiplyAlpha),"flipY"in oe&&(P.type(oe.flipY,"boolean","invalid texture flip"),z.flipY=oe.flipY),"alignment"in oe&&(P.oneOf(oe.alignment,[1,2,4,8],"invalid texture unpack alignment"),z.unpackAlignment=oe.alignment),"colorSpace"in oe&&(P.parameter(oe.colorSpace,Fe,"invalid colorSpace"),z.colorSpace=Fe[oe.colorSpace]),"type"in oe){var re=oe.type;P(A.oes_texture_float||!(re==="float"||re==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(A.oes_texture_half_float||!(re==="half float"||re==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(A.webgl_depth_texture||!(re==="uint16"||re==="uint32"||re==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(re,Ge,"invalid texture type"),z.type=Ge[re]}var tt=z.width,Mt=z.height,R=z.channels,C=!1;"shape"in oe?(P(Array.isArray(oe.shape)&&oe.shape.length>=2,"shape must be an array"),tt=oe.shape[0],Mt=oe.shape[1],oe.shape.length===3&&(R=oe.shape[2],P(R>0&&R<=4,"invalid number of channels"),C=!0),P(tt>=0&&tt<=j.maxTextureSize,"invalid width"),P(Mt>=0&&Mt<=j.maxTextureSize,"invalid height")):("radius"in oe&&(tt=Mt=oe.radius,P(tt>=0&&tt<=j.maxTextureSize,"invalid radius")),"width"in oe&&(tt=oe.width,P(tt>=0&&tt<=j.maxTextureSize,"invalid width")),"height"in oe&&(Mt=oe.height,P(Mt>=0&&Mt<=j.maxTextureSize,"invalid height")),"channels"in oe&&(R=oe.channels,P(R>0&&R<=4,"invalid number of channels"),C=!0)),z.width=tt|0,z.height=Mt|0,z.channels=R|0;var G=!1;if("format"in oe){var K=oe.format;P(A.webgl_depth_texture||!(K==="depth"||K==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(K,Ae,"invalid texture format");var $=z.internalformat=Ae[K];z.format=mt[$],K in Ge&&("type"in oe||(z.type=Ge[K])),K in De&&(z.compressed=!0),G=!0}!C&&G?z.channels=un[z.format]:C&&!G?z.channels!==Yd[z.format]&&(z.format=z.internalformat=Yd[z.channels]):G&&C&&P(z.channels===un[z.format],"number of channels inconsistent with specified format")}}function Ve(z){y.pixelStorei(n3,z.flipY),y.pixelStorei(s3,z.premultiplyAlpha),y.pixelStorei(o3,z.colorSpace),y.pixelStorei(r3,z.unpackAlignment)}function Ie(){be.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ue(z,oe){var re=null;if(wm(oe)?re=oe:oe&&(P.type(oe,"object","invalid pixel data type"),it(z,oe),"x"in oe&&(z.xOffset=oe.x|0),"y"in oe&&(z.yOffset=oe.y|0),wm(oe.data)&&(re=oe.data)),P(!z.compressed||re instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),oe.copy){P(!re,"can not specify copy and data field for the same texture");var tt=ye.viewportWidth,Mt=ye.viewportHeight;z.width=z.width||tt-z.xOffset,z.height=z.height||Mt-z.yOffset,z.needsCopy=!0,P(z.xOffset>=0&&z.xOffset<tt&&z.yOffset>=0&&z.yOffset<Mt&&z.width>0&&z.width<=tt&&z.height>0&&z.height<=Mt,"copy texture read out of bounds")}else if(!re)z.width=z.width||1,z.height=z.height||1,z.channels=z.channels||4;else if(t(re))z.channels=z.channels||4,z.data=re,!("type"in oe)&&z.type===Oa&&(z.type=ty(re));else if(J_(re))z.channels=z.channels||4,f3(z,re),z.alignment=1,z.needsFree=!0;else if(Tn(re)){var R=re.data;!Array.isArray(R)&&z.type===Oa&&(z.type=ty(R));var C=re.shape,G=re.stride,K,$,U,V,W,F;C.length===3?(U=C[2],F=G[2]):(P(C.length===2,"invalid ndarray pixel data, must be 2 or 3D"),U=1,F=1),K=C[0],$=C[1],V=G[0],W=G[1],z.alignment=1,z.width=K,z.height=$,z.channels=U,z.format=z.internalformat=Yd[U],z.needsFree=!0,m3(z,R,V,W,F,re.offset)}else if($_(re)||ey(re)||c3(re))$_(re)||ey(re)?z.element=re:z.element=re.canvas,z.width=z.element.width,z.height=z.element.height,z.channels=4;else if(d3(re))z.element=re,z.width=re.width,z.height=re.height,z.channels=4;else if(u3(re))z.element=re,z.width=re.naturalWidth,z.height=re.naturalHeight,z.channels=4;else if(h3(re))z.element=re,z.width=re.videoWidth,z.height=re.videoHeight,z.channels=4;else if(Q_(re)){var B=z.width||re[0].length,N=z.height||re.length,ie=z.channels;ki(re[0][0])?ie=ie||re[0][0].length:ie=ie||1;for(var ee=Bd.shape(re),ge=1,xe=0;xe<ee.length;++xe)ge*=ee[xe];var Be=iy(z,ge);Bd.flatten(re,ee,"",Be),ry(z,Be),z.alignment=1,z.width=B,z.height=N,z.channels=ie,z.format=z.internalformat=Yd[ie],z.needsFree=!0}z.type===ec?P(j.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):z.type===Aa&&P(j.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Xe(z,oe,re){var tt=z.element,Mt=z.data,R=z.internalformat,C=z.format,G=z.type,K=z.width,$=z.height;Ve(z),tt?y.texImage2D(oe,re,C,C,G,tt):z.compressed?y.compressedTexImage2D(oe,re,R,K,$,0,Mt):z.needsCopy?(se(),y.copyTexImage2D(oe,re,C,z.xOffset,z.yOffset,K,$,0)):y.texImage2D(oe,re,C,K,$,0,C,G,Mt||null)}function kt(z,oe,re,tt,Mt){var R=z.element,C=z.data,G=z.internalformat,K=z.format,$=z.type,U=z.width,V=z.height;Ve(z),R?y.texSubImage2D(oe,Mt,re,tt,K,$,R):z.compressed?y.compressedTexSubImage2D(oe,Mt,re,tt,G,U,V,C):z.needsCopy?(se(),y.copyTexSubImage2D(oe,Mt,re,tt,z.xOffset,z.yOffset,U,V)):y.texSubImage2D(oe,Mt,re,tt,U,V,K,$,C)}var Ct=[];function Ye(){return Ct.pop()||new Ie}function Ke(z){z.needsFree&&Ii.freeType(z.data),Ie.call(z),Ct.push(z)}function wt(){be.call(this),this.genMipmaps=!1,this.mipmapHint=Wd,this.mipmask=0,this.images=Array(16)}function Et(z,oe,re){var tt=z.images[0]=Ye();z.mipmask=1,tt.width=z.width=oe,tt.height=z.height=re,tt.channels=z.channels=4}function Rt(z,oe){var re=null;if(wm(oe))re=z.images[0]=Ye(),_e(re,z),Ue(re,oe),z.mipmask=1;else if(it(z,oe),Array.isArray(oe.mipmap))for(var tt=oe.mipmap,Mt=0;Mt<tt.length;++Mt)re=z.images[Mt]=Ye(),_e(re,z),re.width>>=Mt,re.height>>=Mt,Ue(re,tt[Mt]),z.mipmask|=1<<Mt;else re=z.images[0]=Ye(),_e(re,z),Ue(re,oe),z.mipmask=1;_e(z,z.images[0]),z.compressed&&(z.internalformat===hm||z.internalformat===fm||z.internalformat===mm||z.internalformat===pm)&&P(z.width%4===0&&z.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Ei(z,oe){for(var re=z.images,tt=0;tt<re.length;++tt){if(!re[tt])return;Xe(re[tt],oe,tt)}}var Li=[];function zt(){var z=Li.pop()||new wt;be.call(z),z.mipmask=0;for(var oe=0;oe<16;++oe)z.images[oe]=null;return z}function Yi(z){for(var oe=z.images,re=0;re<oe.length;++re)oe[re]&&Ke(oe[re]),oe[re]=null;Li.push(z)}function xi(){this.minFilter=ym,this.magFilter=ym,this.wrapS=_m,this.wrapT=_m,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Wd}function Vi(z,oe){if("min"in oe){var re=oe.min;P.parameter(re,Ne),z.minFilter=Ne[re],a3.indexOf(z.minFilter)>=0&&!("faces"in oe)&&(z.genMipmaps=!0)}if("mag"in oe){var tt=oe.mag;P.parameter(tt,Re),z.magFilter=Re[tt]}var Mt=z.wrapS,R=z.wrapT;if("wrap"in oe){var C=oe.wrap;typeof C=="string"?(P.parameter(C,Ce),Mt=R=Ce[C]):Array.isArray(C)&&(P.parameter(C[0],Ce),P.parameter(C[1],Ce),Mt=Ce[C[0]],R=Ce[C[1]])}else{if("wrapS"in oe){var G=oe.wrapS;P.parameter(G,Ce),Mt=Ce[G]}if("wrapT"in oe){var K=oe.wrapT;P.parameter(K,Ce),R=Ce[K]}}if(z.wrapS=Mt,z.wrapT=R,"anisotropic"in oe){var $=oe.anisotropic;P(typeof $=="number"&&$>=1&&$<=j.maxAnisotropic,"aniso samples must be between 1 and "),z.anisotropic=oe.anisotropic}if("mipmap"in oe){var U=!1;switch(typeof oe.mipmap){case"string":P.parameter(oe.mipmap,Ee,"invalid mipmap hint"),z.mipmapHint=Ee[oe.mipmap],z.genMipmaps=!0,U=!0;break;case"boolean":U=z.genMipmaps=oe.mipmap;break;case"object":P(Array.isArray(oe.mipmap),"invalid mipmap type"),z.genMipmaps=!1,U=!0;break;default:P.raise("invalid mipmap type")}U&&!("min"in oe)&&(z.minFilter=bm)}}function qi(z,oe){y.texParameteri(oe,JE,z.minFilter),y.texParameteri(oe,KE,z.magFilter),y.texParameteri(oe,WE,z.wrapS),y.texParameteri(oe,YE,z.wrapT),A.ext_texture_filter_anisotropic&&y.texParameteri(oe,i3,z.anisotropic),z.genMipmaps&&(y.hint($E,z.mipmapHint),y.generateMipmap(oe))}var Zi=0,hr={},vr=j.maxTextureUnits,Fi=Array(vr).map(function(){return null});function Lt(z){be.call(this),this.mipmask=0,this.internalformat=Po,this.id=Zi++,this.refCount=1,this.target=z,this.texture=y.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new xi,he.profile&&(this.stats={size:0})}function _r(z){y.activeTexture(tc),y.bindTexture(z.target,z.texture)}function Qt(){var z=Fi[0];z?y.bindTexture(z.target,z.texture):y.bindTexture(Un,null)}function xt(z){var oe=z.texture;P(oe,"must not double destroy texture");var re=z.unit,tt=z.target;re>=0&&(y.activeTexture(tc+re),y.bindTexture(tt,null),Fi[re]=null),y.deleteTexture(oe),z.texture=null,z.params=null,z.pixels=null,z.refCount=0,delete hr[z.id],ne.textureCount--}i(Lt.prototype,{bind:function(){var z=this;z.bindCount+=1;var oe=z.unit;if(oe<0){for(var re=0;re<vr;++re){var tt=Fi[re];if(tt){if(tt.bindCount>0)continue;tt.unit=-1}Fi[re]=z,oe=re;break}oe>=vr&&P.raise("insufficient number of texture units"),he.profile&&ne.maxTextureUnits<oe+1&&(ne.maxTextureUnits=oe+1),z.unit=oe,y.activeTexture(tc+oe),y.bindTexture(z.target,z.texture)}return oe},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&xt(this)}});function Ft(z,oe){var re=new Lt(Un);hr[re.id]=re,ne.textureCount++;function tt(C,G){var K=re.texInfo;xi.call(K);var $=zt();return typeof C=="number"?typeof G=="number"?Et($,C|0,G|0):Et($,C|0,C|0):C?(P.type(C,"object","invalid arguments to regl.texture"),Vi(K,C),Rt($,C)):Et($,1,1),K.genMipmaps&&($.mipmask=($.width<<1)-1),re.mipmask=$.mipmask,_e(re,$),P.texture2D(K,$,j),re.internalformat=$.internalformat,tt.width=$.width,tt.height=$.height,_r(re),Ei($,Un),qi(K,Un),Qt(),Yi($),he.profile&&(re.stats.size=qd(re.internalformat,re.type,$.width,$.height,K.genMipmaps,!1)),tt.format=Pe[re.internalformat],tt.type=Je[re.type],tt.mag=Se[K.magFilter],tt.min=qe[K.minFilter],tt.wrapS=We[K.wrapS],tt.wrapT=We[K.wrapT],tt}function Mt(C,G,K,$){P(!!C,"must specify image data");var U=G|0,V=K|0,W=$|0,F=Ye();return _e(F,re),F.width=0,F.height=0,Ue(F,C),F.width=F.width||(re.width>>W)-U,F.height=F.height||(re.height>>W)-V,P(re.type===F.type&&re.format===F.format&&re.internalformat===F.internalformat,"incompatible format for texture.subimage"),P(U>=0&&V>=0&&U+F.width<=re.width&&V+F.height<=re.height,"texture.subimage write out of bounds"),P(re.mipmask&1<<W,"missing mipmap data"),P(F.data||F.element||F.needsCopy,"missing image data"),_r(re),kt(F,Un,U,V,W),Qt(),Ke(F),tt}function R(C,G){var K=C|0,$=G|0||K;if(K===re.width&&$===re.height)return tt;tt.width=re.width=K,tt.height=re.height=$,_r(re);for(var U=0;re.mipmask>>U;++U){var V=K>>U,W=$>>U;if(!V||!W)break;y.texImage2D(Un,U,re.format,V,W,0,re.format,re.type,null)}return Qt(),he.profile&&(re.stats.size=qd(re.internalformat,re.type,K,$,!1,!1)),tt}return tt(z,oe),tt.subimage=Mt,tt.resize=R,tt._reglType="texture2d",tt._texture=re,he.profile&&(tt.stats=re.stats),tt.destroy=function(){re.decRef()},tt}function Wt(z,oe,re,tt,Mt,R){var C=new Lt(om);hr[C.id]=C,ne.cubeCount++;var G=new Array(6);function K(V,W,F,B,N,ie){var ee,ge=C.texInfo;for(xi.call(ge),ee=0;ee<6;++ee)G[ee]=zt();if(typeof V=="number"||!V){var xe=V|0||1;for(ee=0;ee<6;++ee)Et(G[ee],xe,xe)}else if(typeof V=="object")if(W)Rt(G[0],V),Rt(G[1],W),Rt(G[2],F),Rt(G[3],B),Rt(G[4],N),Rt(G[5],ie);else if(Vi(ge,V),it(C,V),"faces"in V){var Be=V.faces;for(P(Array.isArray(Be)&&Be.length===6,"cube faces must be a length 6 array"),ee=0;ee<6;++ee)P(typeof Be[ee]=="object"&&!!Be[ee],"invalid input for cube map face"),_e(G[ee],C),Rt(G[ee],Be[ee])}else for(ee=0;ee<6;++ee)Rt(G[ee],V);else P.raise("invalid arguments to cube map");for(_e(C,G[0]),P.optional(function(){j.npotTextureCube||P(L_(C.width)&&L_(C.height),"your browser does not support non power or two texture dimensions")}),ge.genMipmaps?C.mipmask=(G[0].width<<1)-1:C.mipmask=G[0].mipmask,P.textureCube(C,ge,G,j),C.internalformat=G[0].internalformat,K.width=G[0].width,K.height=G[0].height,_r(C),ee=0;ee<6;++ee)Ei(G[ee],Vd+ee);for(qi(ge,om),Qt(),he.profile&&(C.stats.size=qd(C.internalformat,C.type,K.width,K.height,ge.genMipmaps,!0)),K.format=Pe[C.internalformat],K.type=Je[C.type],K.mag=Se[ge.magFilter],K.min=qe[ge.minFilter],K.wrapS=We[ge.wrapS],K.wrapT=We[ge.wrapT],ee=0;ee<6;++ee)Yi(G[ee]);return K}function $(V,W,F,B,N){P(!!W,"must specify image data"),P(typeof V=="number"&&V===(V|0)&&V>=0&&V<6,"invalid face");var ie=F|0,ee=B|0,ge=N|0,xe=Ye();return _e(xe,C),xe.width=0,xe.height=0,Ue(xe,W),xe.width=xe.width||(C.width>>ge)-ie,xe.height=xe.height||(C.height>>ge)-ee,P(C.type===xe.type&&C.format===xe.format&&C.internalformat===xe.internalformat,"incompatible format for texture.subimage"),P(ie>=0&&ee>=0&&ie+xe.width<=C.width&&ee+xe.height<=C.height,"texture.subimage write out of bounds"),P(C.mipmask&1<<ge,"missing mipmap data"),P(xe.data||xe.element||xe.needsCopy,"missing image data"),_r(C),kt(xe,Vd+V,ie,ee,ge),Qt(),Ke(xe),K}function U(V){var W=V|0;if(W!==C.width){K.width=C.width=W,K.height=C.height=W,_r(C);for(var F=0;F<6;++F)for(var B=0;C.mipmask>>B;++B)y.texImage2D(Vd+F,B,C.format,W>>B,W>>B,0,C.format,C.type,null);return Qt(),he.profile&&(C.stats.size=qd(C.internalformat,C.type,K.width,K.height,!1,!0)),K}}return K(z,oe,re,tt,Mt,R),K.subimage=$,K.resize=U,K._reglType="textureCube",K._texture=C,he.profile&&(K.stats=C.stats),K.destroy=function(){C.decRef()},K}function Ni(){for(var z=0;z<vr;++z)y.activeTexture(tc+z),y.bindTexture(Un,null),Fi[z]=null;rn(hr).forEach(xt),ne.cubeCount=0,ne.textureCount=0}he.profile&&(ne.getTotalTextureSize=function(){var z=0;return Object.keys(hr).forEach(function(oe){z+=hr[oe].stats.size}),z});function Xn(){for(var z=0;z<vr;++z){var oe=Fi[z];oe&&(oe.bindCount=0,oe.unit=-1,Fi[z]=null)}rn(hr).forEach(function(re){re.texture=y.createTexture(),y.bindTexture(re.target,re.texture);for(var tt=0;tt<32;++tt)if(re.mipmask&1<<tt)if(re.target===Un)y.texImage2D(Un,tt,re.internalformat,re.width>>tt,re.height>>tt,0,re.internalformat,re.type,null);else for(var Mt=0;Mt<6;++Mt)y.texImage2D(Vd+Mt,tt,re.internalformat,re.width>>tt,re.height>>tt,0,re.internalformat,re.type,null);qi(re.texInfo,re.target)})}function jo(){for(var z=0;z<vr;++z){var oe=Fi[z];oe&&(oe.bindCount=0,oe.unit=-1,Fi[z]=null),y.activeTexture(tc+z),y.bindTexture(Un,null),y.bindTexture(om,null)}}return{create2D:Ft,createCube:Wt,clear:Ni,getTexture:function(z){return null},restore:Xn,refresh:jo}}var Ys=36161,Zd=32854,ny=32855,sy=36194,oy=33189,ay=36168,ly=34041,cy=35907,dy=34836,uy=34842,hy=34843,Cn=[];Cn[Zd]=2,Cn[ny]=2,Cn[sy]=2,Cn[oy]=2,Cn[ay]=1,Cn[ly]=4,Cn[cy]=4,Cn[dy]=16,Cn[uy]=8,Cn[hy]=6;function fy(y,A,j){return Cn[y]*A*j}var g3=function(y,A,j,se,ye){var ne={rgba4:Zd,rgb565:sy,"rgb5 a1":ny,depth:oy,stencil:ay,"depth stencil":ly};A.ext_srgb&&(ne.srgba=cy),A.ext_color_buffer_half_float&&(ne.rgba16f=uy,ne.rgb16f=hy),A.webgl_color_buffer_float&&(ne.rgba32f=dy);var he=[];Object.keys(ne).forEach(function(Ae){var De=ne[Ae];he[De]=Ae});var Ee=0,Ce={};function Re(Ae){this.id=Ee++,this.refCount=1,this.renderbuffer=Ae,this.format=Zd,this.width=0,this.height=0,ye.profile&&(this.stats={size:0})}Re.prototype.decRef=function(){--this.refCount<=0&&Ne(this)};function Ne(Ae){var De=Ae.renderbuffer;P(De,"must not double destroy renderbuffer"),y.bindRenderbuffer(Ys,null),y.deleteRenderbuffer(De),Ae.renderbuffer=null,Ae.refCount=0,delete Ce[Ae.id],se.renderbufferCount--}function Fe(Ae,De){var Q=new Re(y.createRenderbuffer());Ce[Q.id]=Q,se.renderbufferCount++;function ue(Je,Se){var qe=0,We=0,mt=Zd;if(typeof Je=="object"&&Je){var be=Je;if("shape"in be){var _e=be.shape;P(Array.isArray(_e)&&_e.length>=2,"invalid renderbuffer shape"),qe=_e[0]|0,We=_e[1]|0}else"radius"in be&&(qe=We=be.radius|0),"width"in be&&(qe=be.width|0),"height"in be&&(We=be.height|0);"format"in be&&(P.parameter(be.format,ne,"invalid renderbuffer format"),mt=ne[be.format])}else typeof Je=="number"?(qe=Je|0,typeof Se=="number"?We=Se|0:We=qe):Je?P.raise("invalid arguments to renderbuffer constructor"):qe=We=1;if(P(qe>0&&We>0&&qe<=j.maxRenderbufferSize&&We<=j.maxRenderbufferSize,"invalid renderbuffer size"),!(qe===Q.width&&We===Q.height&&mt===Q.format))return ue.width=Q.width=qe,ue.height=Q.height=We,Q.format=mt,y.bindRenderbuffer(Ys,Q.renderbuffer),y.renderbufferStorage(Ys,mt,qe,We),P(y.getError()===0,"invalid render buffer format"),ye.profile&&(Q.stats.size=fy(Q.format,Q.width,Q.height)),ue.format=he[Q.format],ue}function Pe(Je,Se){var qe=Je|0,We=Se|0||qe;return qe===Q.width&&We===Q.height||(P(qe>0&&We>0&&qe<=j.maxRenderbufferSize&&We<=j.maxRenderbufferSize,"invalid renderbuffer size"),ue.width=Q.width=qe,ue.height=Q.height=We,y.bindRenderbuffer(Ys,Q.renderbuffer),y.renderbufferStorage(Ys,Q.format,qe,We),P(y.getError()===0,"invalid render buffer format"),ye.profile&&(Q.stats.size=fy(Q.format,Q.width,Q.height))),ue}return ue(Ae,De),ue.resize=Pe,ue._reglType="renderbuffer",ue._renderbuffer=Q,ye.profile&&(ue.stats=Q.stats),ue.destroy=function(){Q.decRef()},ue}ye.profile&&(se.getTotalRenderbufferSize=function(){var Ae=0;return Object.keys(Ce).forEach(function(De){Ae+=Ce[De].stats.size}),Ae});function Ge(){rn(Ce).forEach(function(Ae){Ae.renderbuffer=y.createRenderbuffer(),y.bindRenderbuffer(Ys,Ae.renderbuffer),y.renderbufferStorage(Ys,Ae.format,Ae.width,Ae.height)}),y.bindRenderbuffer(Ys,null)}return{create:Fe,clear:function(){rn(Ce).forEach(Ne)},restore:Ge}},ps=36160,Sm=36161,Mo=3553,Kd=34069,my=36064,py=36096,gy=36128,vy=33306,_y=36053,v3=36054,_3=36055,y3=36057,b3=36061,x3=36193,w3=5121,S3=5126,yy=6407,by=6408,T3=6402,C3=[yy,by],Tm=[];Tm[by]=4,Tm[yy]=3;var Jd=[];Jd[w3]=1,Jd[S3]=4,Jd[x3]=2;var k3=32854,E3=32855,A3=36194,O3=33189,I3=36168,xy=34041,L3=35907,P3=34836,D3=34842,M3=34843,R3=[k3,E3,A3,L3,D3,M3,P3],Pa={};Pa[_y]="complete",Pa[v3]="incomplete attachment",Pa[y3]="incomplete dimensions",Pa[_3]="incomplete, missing attachment",Pa[b3]="unsupported";function F3(y,A,j,se,ye,ne){var he={cur:null,next:null,dirty:!1,setFBO:null},Ee=["rgba"],Ce=["rgba4","rgb565","rgb5 a1"];A.ext_srgb&&Ce.push("srgba"),A.ext_color_buffer_half_float&&Ce.push("rgba16f","rgb16f"),A.webgl_color_buffer_float&&Ce.push("rgba32f");var Re=["uint8"];A.oes_texture_half_float&&Re.push("half float","float16"),A.oes_texture_float&&Re.push("float","float32");function Ne(Ie,Ue,Xe){this.target=Ie,this.texture=Ue,this.renderbuffer=Xe;var kt=0,Ct=0;Ue?(kt=Ue.width,Ct=Ue.height):Xe&&(kt=Xe.width,Ct=Xe.height),this.width=kt,this.height=Ct}function Fe(Ie){Ie&&(Ie.texture&&Ie.texture._texture.decRef(),Ie.renderbuffer&&Ie.renderbuffer._renderbuffer.decRef())}function Ge(Ie,Ue,Xe){if(Ie)if(Ie.texture){var kt=Ie.texture._texture,Ct=Math.max(1,kt.width),Ye=Math.max(1,kt.height);P(Ct===Ue&&Ye===Xe,"inconsistent width/height for supplied texture"),kt.refCount+=1}else{var Ke=Ie.renderbuffer._renderbuffer;P(Ke.width===Ue&&Ke.height===Xe,"inconsistent width/height for renderbuffer"),Ke.refCount+=1}}function Ae(Ie,Ue){Ue&&(Ue.texture?y.framebufferTexture2D(ps,Ie,Ue.target,Ue.texture._texture.texture,0):y.framebufferRenderbuffer(ps,Ie,Sm,Ue.renderbuffer._renderbuffer.renderbuffer))}function De(Ie){var Ue=Mo,Xe=null,kt=null,Ct=Ie;typeof Ie=="object"&&(Ct=Ie.data,"target"in Ie&&(Ue=Ie.target|0)),P.type(Ct,"function","invalid attachment data");var Ye=Ct._reglType;return Ye==="texture2d"?(Xe=Ct,P(Ue===Mo)):Ye==="textureCube"?(Xe=Ct,P(Ue>=Kd&&Ue<Kd+6,"invalid cube map target")):Ye==="renderbuffer"?(kt=Ct,Ue=Sm):P.raise("invalid regl object for attachment"),new Ne(Ue,Xe,kt)}function Q(Ie,Ue,Xe,kt,Ct){if(Xe){var Ye=se.create2D({width:Ie,height:Ue,format:kt,type:Ct});return Ye._texture.refCount=0,new Ne(Mo,Ye,null)}else{var Ke=ye.create({width:Ie,height:Ue,format:kt});return Ke._renderbuffer.refCount=0,new Ne(Sm,null,Ke)}}function ue(Ie){return Ie&&(Ie.texture||Ie.renderbuffer)}function Pe(Ie,Ue,Xe){Ie&&(Ie.texture?Ie.texture.resize(Ue,Xe):Ie.renderbuffer&&Ie.renderbuffer.resize(Ue,Xe),Ie.width=Ue,Ie.height=Xe)}var Je=0,Se={};function qe(){this.id=Je++,Se[this.id]=this,this.framebuffer=y.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function We(Ie){Ie.colorAttachments.forEach(Fe),Fe(Ie.depthAttachment),Fe(Ie.stencilAttachment),Fe(Ie.depthStencilAttachment)}function mt(Ie){var Ue=Ie.framebuffer;P(Ue,"must not double destroy framebuffer"),y.deleteFramebuffer(Ue),Ie.framebuffer=null,ne.framebufferCount--,delete Se[Ie.id]}function be(Ie){var Ue;y.bindFramebuffer(ps,Ie.framebuffer);var Xe=Ie.colorAttachments;for(Ue=0;Ue<Xe.length;++Ue)Ae(my+Ue,Xe[Ue]);for(Ue=Xe.length;Ue<j.maxColorAttachments;++Ue)y.framebufferTexture2D(ps,my+Ue,Mo,null,0);y.framebufferTexture2D(ps,vy,Mo,null,0),y.framebufferTexture2D(ps,py,Mo,null,0),y.framebufferTexture2D(ps,gy,Mo,null,0),Ae(py,Ie.depthAttachment),Ae(gy,Ie.stencilAttachment),Ae(vy,Ie.depthStencilAttachment);var kt=y.checkFramebufferStatus(ps);!y.isContextLost()&&kt!==_y&&P.raise("framebuffer configuration not supported, status = "+Pa[kt]),y.bindFramebuffer(ps,he.next?he.next.framebuffer:null),he.cur=he.next,y.getError()}function _e(Ie,Ue){var Xe=new qe;ne.framebufferCount++;function kt(Ye,Ke){var wt;P(he.next!==Xe,"can not update framebuffer which is currently in use");var Et=0,Rt=0,Ei=!0,Li=!0,zt=null,Yi=!0,xi="rgba",Vi="uint8",qi=1,Zi=null,hr=null,vr=null,Fi=!1;if(typeof Ye=="number")Et=Ye|0,Rt=Ke|0||Et;else if(!Ye)Et=Rt=1;else{P.type(Ye,"object","invalid arguments for framebuffer");var Lt=Ye;if("shape"in Lt){var _r=Lt.shape;P(Array.isArray(_r)&&_r.length>=2,"invalid shape for framebuffer"),Et=_r[0],Rt=_r[1]}else"radius"in Lt&&(Et=Rt=Lt.radius),"width"in Lt&&(Et=Lt.width),"height"in Lt&&(Rt=Lt.height);("color"in Lt||"colors"in Lt)&&(zt=Lt.color||Lt.colors,Array.isArray(zt)&&P(zt.length===1||A.webgl_draw_buffers,"multiple render targets not supported")),zt||("colorCount"in Lt&&(qi=Lt.colorCount|0,P(qi>0,"invalid color buffer count")),"colorTexture"in Lt&&(Yi=!!Lt.colorTexture,xi="rgba4"),"colorType"in Lt&&(Vi=Lt.colorType,Yi?(P(A.oes_texture_float||!(Vi==="float"||Vi==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(A.oes_texture_half_float||!(Vi==="half float"||Vi==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Vi==="half float"||Vi==="float16"?(P(A.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),xi="rgba16f"):(Vi==="float"||Vi==="float32")&&(P(A.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),xi="rgba32f"),P.oneOf(Vi,Re,"invalid color type")),"colorFormat"in Lt&&(xi=Lt.colorFormat,Ee.indexOf(xi)>=0?Yi=!0:Ce.indexOf(xi)>=0?Yi=!1:P.optional(function(){Yi?P.oneOf(Lt.colorFormat,Ee,"invalid color format for texture"):P.oneOf(Lt.colorFormat,Ce,"invalid color format for renderbuffer")}))),("depthTexture"in Lt||"depthStencilTexture"in Lt)&&(Fi=!!(Lt.depthTexture||Lt.depthStencilTexture),P(!Fi||A.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Lt&&(typeof Lt.depth=="boolean"?Ei=Lt.depth:(Zi=Lt.depth,Li=!1)),"stencil"in Lt&&(typeof Lt.stencil=="boolean"?Li=Lt.stencil:(hr=Lt.stencil,Ei=!1)),"depthStencil"in Lt&&(typeof Lt.depthStencil=="boolean"?Ei=Li=Lt.depthStencil:(vr=Lt.depthStencil,Ei=!1,Li=!1))}var Qt=null,xt=null,Ft=null,Wt=null;if(Array.isArray(zt))Qt=zt.map(De);else if(zt)Qt=[De(zt)];else for(Qt=new Array(qi),wt=0;wt<qi;++wt)Qt[wt]=Q(Et,Rt,Yi,xi,Vi);P(A.webgl_draw_buffers||Qt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(Qt.length<=j.maxColorAttachments,"too many color attachments, not supported"),Et=Et||Qt[0].width,Rt=Rt||Qt[0].height,Zi?xt=De(Zi):Ei&&!Li&&(xt=Q(Et,Rt,Fi,"depth","uint32")),hr?Ft=De(hr):Li&&!Ei&&(Ft=Q(Et,Rt,!1,"stencil","uint8")),vr?Wt=De(vr):!Zi&&!hr&&Li&&Ei&&(Wt=Q(Et,Rt,Fi,"depth stencil","depth stencil")),P(!!Zi+!!hr+!!vr<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Ni=null;for(wt=0;wt<Qt.length;++wt)if(Ge(Qt[wt],Et,Rt),P(!Qt[wt]||Qt[wt].texture&&C3.indexOf(Qt[wt].texture._texture.format)>=0||Qt[wt].renderbuffer&&R3.indexOf(Qt[wt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+wt+" is invalid"),Qt[wt]&&Qt[wt].texture){var Xn=Tm[Qt[wt].texture._texture.format]*Jd[Qt[wt].texture._texture.type];Ni===null?Ni=Xn:P(Ni===Xn,"all color attachments much have the same number of bits per pixel.")}return Ge(xt,Et,Rt),P(!xt||xt.texture&&xt.texture._texture.format===T3||xt.renderbuffer&&xt.renderbuffer._renderbuffer.format===O3,"invalid depth attachment for framebuffer object"),Ge(Ft,Et,Rt),P(!Ft||Ft.renderbuffer&&Ft.renderbuffer._renderbuffer.format===I3,"invalid stencil attachment for framebuffer object"),Ge(Wt,Et,Rt),P(!Wt||Wt.texture&&Wt.texture._texture.format===xy||Wt.renderbuffer&&Wt.renderbuffer._renderbuffer.format===xy,"invalid depth-stencil attachment for framebuffer object"),We(Xe),Xe.width=Et,Xe.height=Rt,Xe.colorAttachments=Qt,Xe.depthAttachment=xt,Xe.stencilAttachment=Ft,Xe.depthStencilAttachment=Wt,kt.color=Qt.map(ue),kt.depth=ue(xt),kt.stencil=ue(Ft),kt.depthStencil=ue(Wt),kt.width=Xe.width,kt.height=Xe.height,be(Xe),kt}function Ct(Ye,Ke){P(he.next!==Xe,"can not resize a framebuffer which is currently in use");var wt=Math.max(Ye|0,1),Et=Math.max(Ke|0||wt,1);if(wt===Xe.width&&Et===Xe.height)return kt;for(var Rt=Xe.colorAttachments,Ei=0;Ei<Rt.length;++Ei)Pe(Rt[Ei],wt,Et);return Pe(Xe.depthAttachment,wt,Et),Pe(Xe.stencilAttachment,wt,Et),Pe(Xe.depthStencilAttachment,wt,Et),Xe.width=kt.width=wt,Xe.height=kt.height=Et,be(Xe),kt}return kt(Ie,Ue),i(kt,{resize:Ct,_reglType:"framebuffer",_framebuffer:Xe,destroy:function(){mt(Xe),We(Xe)},use:function(Ye){he.setFBO({framebuffer:kt},Ye)}})}function it(Ie){var Ue=Array(6);function Xe(Ct){var Ye;P(Ue.indexOf(he.next)<0,"can not update framebuffer which is currently in use");var Ke={color:null},wt=0,Et=null,Rt="rgba",Ei="uint8",Li=1;if(typeof Ct=="number")wt=Ct|0;else if(!Ct)wt=1;else{P.type(Ct,"object","invalid arguments for framebuffer");var zt=Ct;if("shape"in zt){var Yi=zt.shape;P(Array.isArray(Yi)&&Yi.length>=2,"invalid shape for framebuffer"),P(Yi[0]===Yi[1],"cube framebuffer must be square"),wt=Yi[0]}else"radius"in zt&&(wt=zt.radius|0),"width"in zt?(wt=zt.width|0,"height"in zt&&P(zt.height===wt,"must be square")):"height"in zt&&(wt=zt.height|0);("color"in zt||"colors"in zt)&&(Et=zt.color||zt.colors,Array.isArray(Et)&&P(Et.length===1||A.webgl_draw_buffers,"multiple render targets not supported")),Et||("colorCount"in zt&&(Li=zt.colorCount|0,P(Li>0,"invalid color buffer count")),"colorType"in zt&&(P.oneOf(zt.colorType,Re,"invalid color type"),Ei=zt.colorType),"colorFormat"in zt&&(Rt=zt.colorFormat,P.oneOf(zt.colorFormat,Ee,"invalid color format for texture"))),"depth"in zt&&(Ke.depth=zt.depth),"stencil"in zt&&(Ke.stencil=zt.stencil),"depthStencil"in zt&&(Ke.depthStencil=zt.depthStencil)}var xi;if(Et)if(Array.isArray(Et))for(xi=[],Ye=0;Ye<Et.length;++Ye)xi[Ye]=Et[Ye];else xi=[Et];else{xi=Array(Li);var Vi={radius:wt,format:Rt,type:Ei};for(Ye=0;Ye<Li;++Ye)xi[Ye]=se.createCube(Vi)}for(Ke.color=Array(xi.length),Ye=0;Ye<xi.length;++Ye){var qi=xi[Ye];P(typeof qi=="function"&&qi._reglType==="textureCube","invalid cube map"),wt=wt||qi.width,P(qi.width===wt&&qi.height===wt,"invalid cube map shape"),Ke.color[Ye]={target:Kd,data:xi[Ye]}}for(Ye=0;Ye<6;++Ye){for(var Zi=0;Zi<xi.length;++Zi)Ke.color[Zi].target=Kd+Ye;Ye>0&&(Ke.depth=Ue[0].depth,Ke.stencil=Ue[0].stencil,Ke.depthStencil=Ue[0].depthStencil),Ue[Ye]?Ue[Ye](Ke):Ue[Ye]=_e(Ke)}return i(Xe,{width:wt,height:wt,color:xi})}function kt(Ct){var Ye,Ke=Ct|0;if(P(Ke>0&&Ke<=j.maxCubeMapSize,"invalid radius for cube fbo"),Ke===Xe.width)return Xe;var wt=Xe.color;for(Ye=0;Ye<wt.length;++Ye)wt[Ye].resize(Ke);for(Ye=0;Ye<6;++Ye)Ue[Ye].resize(Ke);return Xe.width=Xe.height=Ke,Xe}return Xe(Ie),i(Xe,{faces:Ue,resize:kt,_reglType:"framebufferCube",destroy:function(){Ue.forEach(function(Ct){Ct.destroy()})}})}function Ve(){he.cur=null,he.next=null,he.dirty=!0,rn(Se).forEach(function(Ie){Ie.framebuffer=y.createFramebuffer(),be(Ie)})}return i(he,{getFramebuffer:function(Ie){if(typeof Ie=="function"&&Ie._reglType==="framebuffer"){var Ue=Ie._framebuffer;if(Ue instanceof qe)return Ue}return null},create:_e,createCube:it,clear:function(){rn(Se).forEach(mt)},restore:Ve})}var N3=5126,wy=34962,Qd=34963,Sy=["attributes","elements","offset","count","primitive","instances"];function Cm(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=N3,this.offset=0,this.stride=0,this.divisor=0}function z3(y,A,j,se,ye,ne,he){for(var Ee=j.maxAttributes,Ce=new Array(Ee),Re=0;Re<Ee;++Re)Ce[Re]=new Cm;var Ne=0,Fe={},Ge={Record:Cm,scope:{},state:Ce,currentVAO:null,targetVAO:null,restore:De()?We:function(){},createVAO:mt,getVAO:ue,destroyBuffer:Ae,setVAO:De()?Pe:Je,clear:De()?Se:function(){}};function Ae(be){for(var _e=0;_e<Ce.length;++_e){var it=Ce[_e];it.buffer===be&&(y.disableVertexAttribArray(_e),it.buffer=null)}}function De(){return A.oes_vertex_array_object}function Q(){return A.angle_instanced_arrays}function ue(be){return typeof be=="function"&&be._vao?be._vao:null}function Pe(be){if(be!==Ge.currentVAO){var _e=De();be?_e.bindVertexArrayOES(be.vao):_e.bindVertexArrayOES(null),Ge.currentVAO=be}}function Je(be){if(be!==Ge.currentVAO){if(be)be.bindAttrs();else{for(var _e=Q(),it=0;it<Ce.length;++it){var Ve=Ce[it];Ve.buffer?(y.enableVertexAttribArray(it),Ve.buffer.bind(),y.vertexAttribPointer(it,Ve.size,Ve.type,Ve.normalized,Ve.stride,Ve.offfset),_e&&Ve.divisor&&_e.vertexAttribDivisorANGLE(it,Ve.divisor)):(y.disableVertexAttribArray(it),y.vertexAttrib4f(it,Ve.x,Ve.y,Ve.z,Ve.w))}he.elements?y.bindBuffer(Qd,he.elements.buffer.buffer):y.bindBuffer(Qd,null)}Ge.currentVAO=be}}function Se(){rn(Fe).forEach(function(be){be.destroy()})}function qe(){this.id=++Ne,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var be=De();be?this.vao=be.createVertexArrayOES():this.vao=null,Fe[this.id]=this,this.buffers=[]}qe.prototype.bindAttrs=function(){for(var be=Q(),_e=this.attributes,it=0;it<_e.length;++it){var Ve=_e[it];Ve.buffer?(y.enableVertexAttribArray(it),y.bindBuffer(wy,Ve.buffer.buffer),y.vertexAttribPointer(it,Ve.size,Ve.type,Ve.normalized,Ve.stride,Ve.offset),be&&Ve.divisor&&be.vertexAttribDivisorANGLE(it,Ve.divisor)):(y.disableVertexAttribArray(it),y.vertexAttrib4f(it,Ve.x,Ve.y,Ve.z,Ve.w))}for(var Ie=_e.length;Ie<Ee;++Ie)y.disableVertexAttribArray(Ie);var Ue=ne.getElements(this.elements);Ue?y.bindBuffer(Qd,Ue.buffer.buffer):y.bindBuffer(Qd,null)},qe.prototype.refresh=function(){var be=De();be&&(be.bindVertexArrayOES(this.vao),this.bindAttrs(),Ge.currentVAO=null,be.bindVertexArrayOES(null))},qe.prototype.destroy=function(){if(this.vao){var be=De();this===Ge.currentVAO&&(Ge.currentVAO=null,be.bindVertexArrayOES(null)),be.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Fe[this.id]&&(delete Fe[this.id],se.vaoCount-=1)};function We(){var be=De();be&&rn(Fe).forEach(function(_e){_e.refresh()})}function mt(be){var _e=new qe;se.vaoCount+=1;function it(Ve){var Ie;if(Array.isArray(Ve))Ie=Ve,_e.elements&&_e.ownsElements&&_e.elements.destroy(),_e.elements=null,_e.ownsElements=!1,_e.offset=0,_e.count=0,_e.instances=-1,_e.primitive=4;else{if(P(typeof Ve=="object","invalid arguments for create vao"),P("attributes"in Ve,"must specify attributes for vao"),Ve.elements){var Ue=Ve.elements;_e.ownsElements?typeof Ue=="function"&&Ue._reglType==="elements"?(_e.elements.destroy(),_e.ownsElements=!1):(_e.elements(Ue),_e.ownsElements=!1):ne.getElements(Ve.elements)?(_e.elements=Ve.elements,_e.ownsElements=!1):(_e.elements=ne.create(Ve.elements),_e.ownsElements=!0)}else _e.elements=null,_e.ownsElements=!1;Ie=Ve.attributes,_e.offset=0,_e.count=-1,_e.instances=-1,_e.primitive=4,_e.elements&&(_e.count=_e.elements._elements.vertCount,_e.primitive=_e.elements._elements.primType),"offset"in Ve&&(_e.offset=Ve.offset|0),"count"in Ve&&(_e.count=Ve.count|0),"instances"in Ve&&(_e.instances=Ve.instances|0),"primitive"in Ve&&(P(Ve.primitive in Ws,"bad primitive type: "+Ve.primitive),_e.primitive=Ws[Ve.primitive]),P.optional(()=>{for(var Ei=Object.keys(Ve),Li=0;Li<Ei.length;++Li)P(Sy.indexOf(Ei[Li])>=0,'invalid option for vao: "'+Ei[Li]+'" valid options are '+Sy)}),P(Array.isArray(Ie),"attributes must be an array")}P(Ie.length<Ee,"too many attributes"),P(Ie.length>0,"must specify at least one attribute");var Xe={},kt=_e.attributes;kt.length=Ie.length;for(var Ct=0;Ct<Ie.length;++Ct){var Ye=Ie[Ct],Ke=kt[Ct]=new Cm,wt=Ye.data||Ye;if(Array.isArray(wt)||t(wt)||Tn(wt)){var Et;_e.buffers[Ct]&&(Et=_e.buffers[Ct],t(wt)&&Et._buffer.byteLength>=wt.byteLength?Et.subdata(wt):(Et.destroy(),_e.buffers[Ct]=null)),_e.buffers[Ct]||(Et=_e.buffers[Ct]=ye.create(Ye,wy,!1,!0)),Ke.buffer=ye.getBuffer(Et),Ke.size=Ke.buffer.dimension|0,Ke.normalized=!1,Ke.type=Ke.buffer.dtype,Ke.offset=0,Ke.stride=0,Ke.divisor=0,Ke.state=1,Xe[Ct]=1}else ye.getBuffer(Ye)?(Ke.buffer=ye.getBuffer(Ye),Ke.size=Ke.buffer.dimension|0,Ke.normalized=!1,Ke.type=Ke.buffer.dtype,Ke.offset=0,Ke.stride=0,Ke.divisor=0,Ke.state=1):ye.getBuffer(Ye.buffer)?(Ke.buffer=ye.getBuffer(Ye.buffer),Ke.size=(+Ye.size||Ke.buffer.dimension)|0,Ke.normalized=!!Ye.normalized||!1,"type"in Ye?(P.parameter(Ye.type,Io,"invalid buffer type"),Ke.type=Io[Ye.type]):Ke.type=Ke.buffer.dtype,Ke.offset=(Ye.offset||0)|0,Ke.stride=(Ye.stride||0)|0,Ke.divisor=(Ye.divisor||0)|0,Ke.state=1,P(Ke.size>=1&&Ke.size<=4,"size must be between 1 and 4"),P(Ke.offset>=0,"invalid offset"),P(Ke.stride>=0&&Ke.stride<=255,"stride must be between 0 and 255"),P(Ke.divisor>=0,"divisor must be positive"),P(!Ke.divisor||!!A.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Ye?(P(Ct>0,"first attribute must not be a constant"),Ke.x=+Ye.x||0,Ke.y=+Ye.y||0,Ke.z=+Ye.z||0,Ke.w=+Ye.w||0,Ke.state=2):P(!1,"invalid attribute spec for location "+Ct)}for(var Rt=0;Rt<_e.buffers.length;++Rt)!Xe[Rt]&&_e.buffers[Rt]&&(_e.buffers[Rt].destroy(),_e.buffers[Rt]=null);return _e.refresh(),it}return it.destroy=function(){for(var Ve=0;Ve<_e.buffers.length;++Ve)_e.buffers[Ve]&&_e.buffers[Ve].destroy();_e.buffers.length=0,_e.ownsElements&&(_e.elements.destroy(),_e.elements=null,_e.ownsElements=!1),_e.destroy()},it._vao=_e,it._reglType="vao",it(be)}return Ge}var Ty=35632,B3=35633,j3=35718,G3=35721;function V3(y,A,j,se){var ye={},ne={};function he(Q,ue,Pe,Je){this.name=Q,this.id=ue,this.location=Pe,this.info=Je}function Ee(Q,ue){for(var Pe=0;Pe<Q.length;++Pe)if(Q[Pe].id===ue.id){Q[Pe].location=ue.location;return}Q.push(ue)}function Ce(Q,ue,Pe){var Je=Q===Ty?ye:ne,Se=Je[ue];if(!Se){var qe=A.str(ue);Se=y.createShader(Q),y.shaderSource(Se,qe),y.compileShader(Se),P.shaderError(y,Se,qe,Q,Pe),Je[ue]=Se}return Se}var Re={},Ne=[],Fe=0;function Ge(Q,ue){this.id=Fe++,this.fragId=Q,this.vertId=ue,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,se.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ae(Q,ue,Pe){var Je,Se,qe=Ce(Ty,Q.fragId),We=Ce(B3,Q.vertId),mt=Q.program=y.createProgram();if(y.attachShader(mt,qe),y.attachShader(mt,We),Pe)for(Je=0;Je<Pe.length;++Je){var be=Pe[Je];y.bindAttribLocation(mt,be[0],be[1])}y.linkProgram(mt),P.linkError(y,mt,A.str(Q.fragId),A.str(Q.vertId),ue);var _e=y.getProgramParameter(mt,j3);se.profile&&(Q.stats.uniformsCount=_e);var it=Q.uniforms;for(Je=0;Je<_e;++Je)if(Se=y.getActiveUniform(mt,Je),Se){if(Se.size>1)for(var Ve=0;Ve<Se.size;++Ve){var Ie=Se.name.replace("[0]","["+Ve+"]");Ee(it,new he(Ie,A.id(Ie),y.getUniformLocation(mt,Ie),Se))}var Ue=Se.name;Se.size>1&&(Ue=Ue.replace("[0]","")),Ee(it,new he(Ue,A.id(Ue),y.getUniformLocation(mt,Ue),Se))}var Xe=y.getProgramParameter(mt,G3);se.profile&&(Q.stats.attributesCount=Xe);var kt=Q.attributes;for(Je=0;Je<Xe;++Je)Se=y.getActiveAttrib(mt,Je),Se&&Ee(kt,new he(Se.name,A.id(Se.name),y.getAttribLocation(mt,Se.name),Se))}se.profile&&(j.getMaxUniformsCount=function(){var Q=0;return Ne.forEach(function(ue){ue.stats.uniformsCount>Q&&(Q=ue.stats.uniformsCount)}),Q},j.getMaxAttributesCount=function(){var Q=0;return Ne.forEach(function(ue){ue.stats.attributesCount>Q&&(Q=ue.stats.attributesCount)}),Q});function De(){ye={},ne={};for(var Q=0;Q<Ne.length;++Q)Ae(Ne[Q],null,Ne[Q].attributes.map(function(ue){return[ue.location,ue.name]}))}return{clear:function(){var Q=y.deleteShader.bind(y);rn(ye).forEach(Q),ye={},rn(ne).forEach(Q),ne={},Ne.forEach(function(ue){y.deleteProgram(ue.program)}),Ne.length=0,Re={},j.shaderCount=0},program:function(Q,ue,Pe,Je){P.command(Q>=0,"missing vertex shader",Pe),P.command(ue>=0,"missing fragment shader",Pe);var Se=Re[ue];Se||(Se=Re[ue]={});var qe=Se[Q];if(qe&&(qe.refCount++,!Je))return qe;var We=new Ge(ue,Q);return j.shaderCount++,Ae(We,Pe,Je),qe||(Se[Q]=We),Ne.push(We),i(We,{destroy:function(){if(We.refCount--,We.refCount<=0){y.deleteProgram(We.program);var mt=Ne.indexOf(We);Ne.splice(mt,1),j.shaderCount--}Se[We.vertId].refCount<=0&&(y.deleteShader(ne[We.vertId]),delete ne[We.vertId],delete Re[We.fragId][We.vertId]),Object.keys(Re[We.fragId]).length||(y.deleteShader(ye[We.fragId]),delete ye[We.fragId],delete Re[We.fragId])}})},restore:De,shader:Ce,frag:-1,vert:-1}}var U3=6408,ic=5121,H3=3333,$d=5126;function X3(y,A,j,se,ye,ne,he){function Ee(Ne){var Fe;A.next===null?(P(ye.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Fe=ic):(P(A.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Fe=A.next.colorAttachments[0].texture._texture.type,P.optional(function(){ne.oes_texture_float?(P(Fe===ic||Fe===$d,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Fe===$d&&P(he.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Fe===ic,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ge=0,Ae=0,De=se.framebufferWidth,Q=se.framebufferHeight,ue=null;t(Ne)?ue=Ne:Ne&&(P.type(Ne,"object","invalid arguments to regl.read()"),Ge=Ne.x|0,Ae=Ne.y|0,P(Ge>=0&&Ge<se.framebufferWidth,"invalid x offset for regl.read"),P(Ae>=0&&Ae<se.framebufferHeight,"invalid y offset for regl.read"),De=(Ne.width||se.framebufferWidth-Ge)|0,Q=(Ne.height||se.framebufferHeight-Ae)|0,ue=Ne.data||null),ue&&(Fe===ic?P(ue instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Fe===$d&&P(ue instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(De>0&&De+Ge<=se.framebufferWidth,"invalid width for read pixels"),P(Q>0&&Q+Ae<=se.framebufferHeight,"invalid height for read pixels"),j();var Pe=De*Q*4;return ue||(Fe===ic?ue=new Uint8Array(Pe):Fe===$d&&(ue=ue||new Float32Array(Pe))),P.isTypedArray(ue,"data buffer for regl.read() must be a typedarray"),P(ue.byteLength>=Pe,"data buffer for regl.read() too small"),y.pixelStorei(H3,4),y.readPixels(Ge,Ae,De,Q,U3,Fe,ue),ue}function Ce(Ne){var Fe;return A.setFBO({framebuffer:Ne.framebuffer},function(){Fe=Ee(Ne)}),Fe}function Re(Ne){return!Ne||!("framebuffer"in Ne)?Ee(Ne):Ce(Ne)}return Re}function Da(y){return Array.prototype.slice.call(y)}function Ma(y){return Da(y).join("")}function W3(){var y=0,A=[],j=[];function se(Fe){for(var Ge=0;Ge<j.length;++Ge)if(j[Ge]===Fe)return A[Ge];var Ae="g"+y++;return A.push(Ae),j.push(Fe),Ae}function ye(){var Fe=[];function Ge(){Fe.push.apply(Fe,Da(arguments))}var Ae=[];function De(){var Q="v"+y++;return Ae.push(Q),arguments.length>0&&(Fe.push(Q,"="),Fe.push.apply(Fe,Da(arguments)),Fe.push(";")),Q}return i(Ge,{def:De,toString:function(){return Ma([Ae.length>0?"var "+Ae.join(",")+";":"",Ma(Fe)])}})}function ne(){var Fe=ye(),Ge=ye(),Ae=Fe.toString,De=Ge.toString;function Q(ue,Pe){Ge(ue,Pe,"=",Fe.def(ue,Pe),";")}return i(function(){Fe.apply(Fe,Da(arguments))},{def:Fe.def,entry:Fe,exit:Ge,save:Q,set:function(ue,Pe,Je){Q(ue,Pe),Fe(ue,Pe,"=",Je,";")},toString:function(){return Ae()+De()}})}function he(){var Fe=Ma(arguments),Ge=ne(),Ae=ne(),De=Ge.toString,Q=Ae.toString;return i(Ge,{then:function(){return Ge.apply(Ge,Da(arguments)),this},else:function(){return Ae.apply(Ae,Da(arguments)),this},toString:function(){var ue=Q();return ue&&(ue="else{"+ue+"}"),Ma(["if(",Fe,"){",De(),"}",ue])}})}var Ee=ye(),Ce={};function Re(Fe,Ge){var Ae=[];function De(){var Se="a"+Ae.length;return Ae.push(Se),Se}Ge=Ge||0;for(var Q=0;Q<Ge;++Q)De();var ue=ne(),Pe=ue.toString,Je=Ce[Fe]=i(ue,{arg:De,toString:function(){return Ma(["function(",Ae.join(),"){",Pe(),"}"])}});return Je}function Ne(){var Fe=['"use strict";',Ee,"return {"];Object.keys(Ce).forEach(function(De){Fe.push('"',De,'":',Ce[De].toString(),",")}),Fe.push("}");var Ge=Ma(Fe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ae=Function.apply(null,A.concat(Ge));return Ae.apply(null,j)}return{global:Ee,link:se,block:ye,proc:Re,scope:ne,cond:he,compile:Ne}}var Ra="xyzw".split(""),Cy=5121,Fa=1,km=2,Em=0,Am=1,Om=2,Im=3,eu=4,ky=5,Ey=6,Ay="dither",Oy="blend.enable",Iy="blend.color",Lm="blend.equation",Pm="blend.func",Ly="depth.enable",Py="depth.func",Dy="depth.range",My="depth.mask",Dm="colorMask",Ry="cull.enable",Fy="cull.face",Mm="frontFace",Rm="lineWidth",Ny="polygonOffset.enable",Fm="polygonOffset.offset",zy="sample.alpha",By="sample.enable",Nm="sample.coverage",jy="stencil.enable",Gy="stencil.mask",zm="stencil.func",Bm="stencil.opFront",rc="stencil.opBack",Vy="scissor.enable",tu="scissor.box",gs="viewport",nc="profile",Ro="framebuffer",sc="vert",oc="frag",Fo="elements",No="primitive",zo="count",iu="offset",ru="instances",ac="vao",jm="Width",Gm="Height",Na=Ro+jm,za=Ro+Gm,Y3=gs+jm,q3=gs+Gm,Uy="drawingBuffer",Hy=Uy+jm,Xy=Uy+Gm,Z3=[Pm,Lm,zm,Bm,rc,Nm,gs,tu,Fm],Ba=34962,Vm=34963,K3=35632,J3=35633,Wy=3553,Q3=34067,$3=2884,eA=3042,tA=3024,iA=2960,rA=2929,nA=3089,sA=32823,oA=32926,aA=32928,Um=5126,nu=35664,su=35665,ou=35666,Hm=5124,au=35667,lu=35668,cu=35669,Xm=35670,du=35671,uu=35672,hu=35673,lc=35674,cc=35675,dc=35676,uc=35678,hc=35680,Wm=4,fc=1028,Bo=1029,Yy=2304,Ym=2305,lA=32775,cA=32776,dA=519,qs=7680,qy=0,Zy=1,Ky=32774,uA=513,Jy=36160,hA=36064,Hn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qy=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ja={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Zs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$y={frag:K3,vert:J3},qm={cw:Yy,ccw:Ym};function fu(y){return Array.isArray(y)||t(y)||Tn(y)}function eb(y){return y.sort(function(A,j){return A===gs?-1:j===gs?1:A<j?-1:1})}function nr(y,A,j,se){this.thisDep=y,this.contextDep=A,this.propDep=j,this.append=se}function Ks(y){return y&&!(y.thisDep||y.contextDep||y.propDep)}function Gi(y){return new nr(!1,!1,!1,y)}function Xr(y,A){var j=y.type;if(j===Em){var se=y.data.length;return new nr(!0,se>=1,se>=2,A)}else if(j===eu){var ye=y.data;return new nr(ye.thisDep,ye.contextDep,ye.propDep,A)}else{if(j===ky)return new nr(!1,!1,!1,A);if(j===Ey){for(var ne=!1,he=!1,Ee=!1,Ce=0;Ce<y.data.length;++Ce){var Re=y.data[Ce];if(Re.type===Am)Ee=!0;else if(Re.type===Om)he=!0;else if(Re.type===Im)ne=!0;else if(Re.type===Em){ne=!0;var Ne=Re.data;Ne>=1&&(he=!0),Ne>=2&&(Ee=!0)}else Re.type===eu&&(ne=ne||Re.data.thisDep,he=he||Re.data.contextDep,Ee=Ee||Re.data.propDep)}return new nr(ne,he,Ee,A)}else return new nr(j===Im,j===Om,j===Am,A)}}var tb=new nr(!1,!1,!1,function(){});function fA(y,A,j,se,ye,ne,he,Ee,Ce,Re,Ne,Fe,Ge,Ae,De){var Q=Re.Record,ue={add:32774,subtract:32778,"reverse subtract":32779};j.ext_blend_minmax&&(ue.min=lA,ue.max=cA);var Pe=j.angle_instanced_arrays,Je=j.webgl_draw_buffers,Se=j.oes_vertex_array_object,qe={dirty:!0,profile:De.profile},We={},mt=[],be={},_e={};function it(R){return R.replace(".","_")}function Ve(R,C,G){var K=it(R);mt.push(R),We[K]=qe[K]=!!G,be[K]=C}function Ie(R,C,G){var K=it(R);mt.push(R),Array.isArray(G)?(qe[K]=G.slice(),We[K]=G.slice()):qe[K]=We[K]=G,_e[K]=C}Ve(Ay,tA),Ve(Oy,eA),Ie(Iy,"blendColor",[0,0,0,0]),Ie(Lm,"blendEquationSeparate",[Ky,Ky]),Ie(Pm,"blendFuncSeparate",[Zy,qy,Zy,qy]),Ve(Ly,rA,!0),Ie(Py,"depthFunc",uA),Ie(Dy,"depthRange",[0,1]),Ie(My,"depthMask",!0),Ie(Dm,Dm,[!0,!0,!0,!0]),Ve(Ry,$3),Ie(Fy,"cullFace",Bo),Ie(Mm,Mm,Ym),Ie(Rm,Rm,1),Ve(Ny,sA),Ie(Fm,"polygonOffset",[0,0]),Ve(zy,oA),Ve(By,aA),Ie(Nm,"sampleCoverage",[1,!1]),Ve(jy,iA),Ie(Gy,"stencilMask",-1),Ie(zm,"stencilFunc",[dA,0,-1]),Ie(Bm,"stencilOpSeparate",[fc,qs,qs,qs]),Ie(rc,"stencilOpSeparate",[Bo,qs,qs,qs]),Ve(Vy,nA),Ie(tu,"scissor",[0,0,y.drawingBufferWidth,y.drawingBufferHeight]),Ie(gs,gs,[0,0,y.drawingBufferWidth,y.drawingBufferHeight]);var Ue={gl:y,context:Ge,strings:A,next:We,current:qe,draw:Fe,elements:ne,buffer:ye,shader:Ne,attributes:Re.state,vao:Re,uniforms:Ce,framebuffer:Ee,extensions:j,timer:Ae,isBufferArgs:fu},Xe={primTypes:Ws,compareFuncs:ja,blendFuncs:Hn,blendEquations:ue,stencilOps:Zs,glTypes:Io,orientationType:qm};P.optional(function(){Ue.isArrayLike=ki}),Je&&(Xe.backBuffer=[Bo],Xe.drawBuffer=Ti(se.maxDrawbuffers,function(R){return R===0?[0]:Ti(R,function(C){return hA+C})}));var kt=0;function Ct(){var R=W3(),C=R.link,G=R.global;R.id=kt++,R.batchId="0";var K=C(Ue),$=R.shared={props:"a0"};Object.keys(Ue).forEach(function(B){$[B]=G.def(K,".",B)}),P.optional(function(){R.CHECK=C(P),R.commandStr=P.guessCommand(),R.command=C(R.commandStr),R.assert=function(B,N,ie){B("if(!(",N,"))",this.CHECK,".commandRaise(",C(ie),",",this.command,");")},Xe.invalidBlendCombinations=Qy});var U=R.next={},V=R.current={};Object.keys(_e).forEach(function(B){Array.isArray(qe[B])&&(U[B]=G.def($.next,".",B),V[B]=G.def($.current,".",B))});var W=R.constants={};Object.keys(Xe).forEach(function(B){W[B]=G.def(JSON.stringify(Xe[B]))}),R.invoke=function(B,N){switch(N.type){case Em:var ie=["this",$.context,$.props,R.batchId];return B.def(C(N.data),".call(",ie.slice(0,Math.max(N.data.length+1,4)),")");case Am:return B.def($.props,N.data);case Om:return B.def($.context,N.data);case Im:return B.def("this",N.data);case eu:return N.data.append(R,B),N.data.ref;case ky:return N.data.toString();case Ey:return N.data.map(function(ee){return R.invoke(B,ee)})}},R.attribCache={};var F={};return R.scopeAttrib=function(B){var N=A.id(B);if(N in F)return F[N];var ie=Re.scope[N];ie||(ie=Re.scope[N]=new Q);var ee=F[N]=C(ie);return ee},R}function Ye(R){var C=R.static,G=R.dynamic,K;if(nc in C){var $=!!C[nc];K=Gi(function(V,W){return $}),K.enable=$}else if(nc in G){var U=G[nc];K=Xr(U,function(V,W){return V.invoke(W,U)})}return K}function Ke(R,C){var G=R.static,K=R.dynamic;if(Ro in G){var $=G[Ro];return $?($=Ee.getFramebuffer($),P.command($,"invalid framebuffer object"),Gi(function(V,W){var F=V.link($),B=V.shared;W.set(B.framebuffer,".next",F);var N=B.context;return W.set(N,"."+Na,F+".width"),W.set(N,"."+za,F+".height"),F})):Gi(function(V,W){var F=V.shared;W.set(F.framebuffer,".next","null");var B=F.context;return W.set(B,"."+Na,B+"."+Hy),W.set(B,"."+za,B+"."+Xy),"null"})}else if(Ro in K){var U=K[Ro];return Xr(U,function(V,W){var F=V.invoke(W,U),B=V.shared,N=B.framebuffer,ie=W.def(N,".getFramebuffer(",F,")");P.optional(function(){V.assert(W,"!"+F+"||"+ie,"invalid framebuffer object")}),W.set(N,".next",ie);var ee=B.context;return W.set(ee,"."+Na,ie+"?"+ie+".width:"+ee+"."+Hy),W.set(ee,"."+za,ie+"?"+ie+".height:"+ee+"."+Xy),ie})}else return null}function wt(R,C,G){var K=R.static,$=R.dynamic;function U(F){if(F in K){var B=K[F];P.commandType(B,"object","invalid "+F,G.commandStr);var N=!0,ie=B.x|0,ee=B.y|0,ge,xe;return"width"in B?(ge=B.width|0,P.command(ge>=0,"invalid "+F,G.commandStr)):N=!1,"height"in B?(xe=B.height|0,P.command(xe>=0,"invalid "+F,G.commandStr)):N=!1,new nr(!N&&C&&C.thisDep,!N&&C&&C.contextDep,!N&&C&&C.propDep,function(ft,Qe){var we=ft.shared.context,me=ge;"width"in B||(me=Qe.def(we,".",Na,"-",ie));var ct=xe;return"height"in B||(ct=Qe.def(we,".",za,"-",ee)),[ie,ee,me,ct]})}else if(F in $){var Be=$[F],Tt=Xr(Be,function(ft,Qe){var we=ft.invoke(Qe,Be);P.optional(function(){ft.assert(Qe,we+"&&typeof "+we+'==="object"',"invalid "+F)});var me=ft.shared.context,ct=Qe.def(we,".x|0"),nt=Qe.def(we,".y|0"),St=Qe.def('"width" in ',we,"?",we,".width|0:","(",me,".",Na,"-",ct,")"),ti=Qe.def('"height" in ',we,"?",we,".height|0:","(",me,".",za,"-",nt,")");return P.optional(function(){ft.assert(Qe,St+">=0&&"+ti+">=0","invalid "+F)}),[ct,nt,St,ti]});return C&&(Tt.thisDep=Tt.thisDep||C.thisDep,Tt.contextDep=Tt.contextDep||C.contextDep,Tt.propDep=Tt.propDep||C.propDep),Tt}else return C?new nr(C.thisDep,C.contextDep,C.propDep,function(ft,Qe){var we=ft.shared.context;return[0,0,Qe.def(we,".",Na),Qe.def(we,".",za)]}):null}var V=U(gs);if(V){var W=V;V=new nr(V.thisDep,V.contextDep,V.propDep,function(F,B){var N=W.append(F,B),ie=F.shared.context;return B.set(ie,"."+Y3,N[2]),B.set(ie,"."+q3,N[3]),N})}return{viewport:V,scissor_box:U(tu)}}function Et(R,C){var G=R.static,K=typeof G[oc]=="string"&&typeof G[sc]=="string";if(K){if(Object.keys(C.dynamic).length>0)return null;var $=C.static,U=Object.keys($);if(U.length>0&&typeof $[U[0]]=="number"){for(var V=[],W=0;W<U.length;++W)P(typeof $[U[W]]=="number","must specify all vertex attribute locations when using vaos"),V.push([$[U[W]]|0,U[W]]);return V}}return null}function Rt(R,C,G){var K=R.static,$=R.dynamic;function U(N){if(N in K){var ie=A.id(K[N]);P.optional(function(){Ne.shader($y[N],ie,P.guessCommand())});var ee=Gi(function(){return ie});return ee.id=ie,ee}else if(N in $){var ge=$[N];return Xr(ge,function(xe,Be){var Tt=xe.invoke(Be,ge),ft=Be.def(xe.shared.strings,".id(",Tt,")");return P.optional(function(){Be(xe.shared.shader,".shader(",$y[N],",",ft,",",xe.command,");")}),ft})}return null}var V=U(oc),W=U(sc),F=null,B;return Ks(V)&&Ks(W)?(F=Ne.program(W.id,V.id,null,G),B=Gi(function(N,ie){return N.link(F)})):B=new nr(V&&V.thisDep||W&&W.thisDep,V&&V.contextDep||W&&W.contextDep,V&&V.propDep||W&&W.propDep,function(N,ie){var ee=N.shared.shader,ge;V?ge=V.append(N,ie):ge=ie.def(ee,".",oc);var xe;W?xe=W.append(N,ie):xe=ie.def(ee,".",sc);var Be=ee+".program("+xe+","+ge;return P.optional(function(){Be+=","+N.command}),ie.def(Be+")")}),{frag:V,vert:W,progVar:B,program:F}}function Ei(R,C){var G=R.static,K=R.dynamic,$={},U=!1;function V(){if(ac in G){var Qe=G[ac];return Qe!==null&&Re.getVAO(Qe)===null&&(Qe=Re.createVAO(Qe)),U=!0,$.vao=Qe,Gi(function(me){var ct=Re.getVAO(Qe);return ct?me.link(ct):"null"})}else if(ac in K){U=!0;var we=K[ac];return Xr(we,function(me,ct){var nt=me.invoke(ct,we);return ct.def(me.shared.vao+".getVAO("+nt+")")})}return null}var W=V(),F=!1;function B(){if(Fo in G){var Qe=G[Fo];if($.elements=Qe,fu(Qe)){var we=$.elements=ne.create(Qe,!0);Qe=ne.getElements(we),F=!0}else Qe&&(Qe=ne.getElements(Qe),F=!0,P.command(Qe,"invalid elements",C.commandStr));var me=Gi(function(nt,St){if(Qe){var ti=nt.link(Qe);return nt.ELEMENTS=ti,ti}return nt.ELEMENTS=null,null});return me.value=Qe,me}else if(Fo in K){F=!0;var ct=K[Fo];return Xr(ct,function(nt,St){var ti=nt.shared,yr=ti.isBufferArgs,Go=ti.elements,vs=nt.invoke(St,ct),Wn=St.def("null"),Js=St.def(yr,"(",vs,")"),Vo=nt.cond(Js).then(Wn,"=",Go,".createStream(",vs,");").else(Wn,"=",Go,".getElements(",vs,");");return P.optional(function(){nt.assert(Vo.else,"!"+vs+"||"+Wn,"invalid elements")}),St.entry(Vo),St.exit(nt.cond(Js).then(Go,".destroyStream(",Wn,");")),nt.ELEMENTS=Wn,Wn})}else if(U)return new nr(W.thisDep,W.contextDep,W.propDep,function(nt,St){return St.def(nt.shared.vao+".currentVAO?"+nt.shared.elements+".getElements("+nt.shared.vao+".currentVAO.elements):null")});return null}var N=B();function ie(){if(No in G){var Qe=G[No];return $.primitive=Qe,P.commandParameter(Qe,Ws,"invalid primitve",C.commandStr),Gi(function(me,ct){return Ws[Qe]})}else if(No in K){var we=K[No];return Xr(we,function(me,ct){var nt=me.constants.primTypes,St=me.invoke(ct,we);return P.optional(function(){me.assert(ct,St+" in "+nt,"invalid primitive, must be one of "+Object.keys(Ws))}),ct.def(nt,"[",St,"]")})}else{if(F)return Ks(N)?N.value?Gi(function(me,ct){return ct.def(me.ELEMENTS,".primType")}):Gi(function(){return Wm}):new nr(N.thisDep,N.contextDep,N.propDep,function(me,ct){var nt=me.ELEMENTS;return ct.def(nt,"?",nt,".primType:",Wm)});if(U)return new nr(W.thisDep,W.contextDep,W.propDep,function(me,ct){return ct.def(me.shared.vao+".currentVAO?"+me.shared.vao+".currentVAO.primitive:"+Wm)})}return null}function ee(Qe,we){if(Qe in G){var me=G[Qe]|0;return we?$.offset=me:$.instances=me,P.command(!we||me>=0,"invalid "+Qe,C.commandStr),Gi(function(nt,St){return we&&(nt.OFFSET=me),me})}else if(Qe in K){var ct=K[Qe];return Xr(ct,function(nt,St){var ti=nt.invoke(St,ct);return we&&(nt.OFFSET=ti,P.optional(function(){nt.assert(St,ti+">=0","invalid "+Qe)})),ti})}else if(we){if(F)return Gi(function(nt,St){return nt.OFFSET=0,0});if(U)return new nr(W.thisDep,W.contextDep,W.propDep,function(nt,St){return St.def(nt.shared.vao+".currentVAO?"+nt.shared.vao+".currentVAO.offset:0")})}else if(U)return new nr(W.thisDep,W.contextDep,W.propDep,function(nt,St){return St.def(nt.shared.vao+".currentVAO?"+nt.shared.vao+".currentVAO.instances:-1")});return null}var ge=ee(iu,!0);function xe(){if(zo in G){var Qe=G[zo]|0;return $.count=Qe,P.command(typeof Qe=="number"&&Qe>=0,"invalid vertex count",C.commandStr),Gi(function(){return Qe})}else if(zo in K){var we=K[zo];return Xr(we,function(St,ti){var yr=St.invoke(ti,we);return P.optional(function(){St.assert(ti,"typeof "+yr+'==="number"&&'+yr+">=0&&"+yr+"===("+yr+"|0)","invalid vertex count")}),yr})}else if(F)if(Ks(N)){if(N)return ge?new nr(ge.thisDep,ge.contextDep,ge.propDep,function(St,ti){var yr=ti.def(St.ELEMENTS,".vertCount-",St.OFFSET);return P.optional(function(){St.assert(ti,yr+">=0","invalid vertex offset/element buffer too small")}),yr}):Gi(function(St,ti){return ti.def(St.ELEMENTS,".vertCount")});var me=Gi(function(){return-1});return P.optional(function(){me.MISSING=!0}),me}else{var ct=new nr(N.thisDep||ge.thisDep,N.contextDep||ge.contextDep,N.propDep||ge.propDep,function(St,ti){var yr=St.ELEMENTS;return St.OFFSET?ti.def(yr,"?",yr,".vertCount-",St.OFFSET,":-1"):ti.def(yr,"?",yr,".vertCount:-1")});return P.optional(function(){ct.DYNAMIC=!0}),ct}else if(U){var nt=new nr(W.thisDep,W.contextDep,W.propDep,function(St,ti){return ti.def(St.shared.vao,".currentVAO?",St.shared.vao,".currentVAO.count:-1")});return nt}return null}var Be=ie(),Tt=xe(),ft=ee(ru,!1);return{elements:N,primitive:Be,count:Tt,instances:ft,offset:ge,vao:W,vaoActive:U,elementsActive:F,static:$}}function Li(R,C){var G=R.static,K=R.dynamic,$={};return mt.forEach(function(U){var V=it(U);function W(F,B){if(U in G){var N=F(G[U]);$[V]=Gi(function(){return N})}else if(U in K){var ie=K[U];$[V]=Xr(ie,function(ee,ge){return B(ee,ge,ee.invoke(ge,ie))})}}switch(U){case Ry:case Oy:case Ay:case jy:case Ly:case Vy:case Ny:case zy:case By:case My:return W(function(F){return P.commandType(F,"boolean",U,C.commandStr),F},function(F,B,N){return P.optional(function(){F.assert(B,"typeof "+N+'==="boolean"',"invalid flag "+U,F.commandStr)}),N});case Py:return W(function(F){return P.commandParameter(F,ja,"invalid "+U,C.commandStr),ja[F]},function(F,B,N){var ie=F.constants.compareFuncs;return P.optional(function(){F.assert(B,N+" in "+ie,"invalid "+U+", must be one of "+Object.keys(ja))}),B.def(ie,"[",N,"]")});case Dy:return W(function(F){return P.command(ki(F)&&F.length===2&&typeof F[0]=="number"&&typeof F[1]=="number"&&F[0]<=F[1],"depth range is 2d array",C.commandStr),F},function(F,B,N){P.optional(function(){F.assert(B,F.shared.isArrayLike+"("+N+")&&"+N+".length===2&&typeof "+N+'[0]==="number"&&typeof '+N+'[1]==="number"&&'+N+"[0]<="+N+"[1]","depth range must be a 2d array")});var ie=B.def("+",N,"[0]"),ee=B.def("+",N,"[1]");return[ie,ee]});case Pm:return W(function(F){P.commandType(F,"object","blend.func",C.commandStr);var B="srcRGB"in F?F.srcRGB:F.src,N="srcAlpha"in F?F.srcAlpha:F.src,ie="dstRGB"in F?F.dstRGB:F.dst,ee="dstAlpha"in F?F.dstAlpha:F.dst;return P.commandParameter(B,Hn,V+".srcRGB",C.commandStr),P.commandParameter(N,Hn,V+".srcAlpha",C.commandStr),P.commandParameter(ie,Hn,V+".dstRGB",C.commandStr),P.commandParameter(ee,Hn,V+".dstAlpha",C.commandStr),P.command(Qy.indexOf(B+", "+ie)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+B+", "+ie+")",C.commandStr),[Hn[B],Hn[ie],Hn[N],Hn[ee]]},function(F,B,N){var ie=F.constants.blendFuncs;P.optional(function(){F.assert(B,N+"&&typeof "+N+'==="object"',"invalid blend func, must be an object")});function ee(we,me){var ct=B.def('"',we,me,'" in ',N,"?",N,".",we,me,":",N,".",we);return P.optional(function(){F.assert(B,ct+" in "+ie,"invalid "+U+"."+we+me+", must be one of "+Object.keys(Hn))}),ct}var ge=ee("src","RGB"),xe=ee("dst","RGB");P.optional(function(){var we=F.constants.invalidBlendCombinations;F.assert(B,we+".indexOf("+ge+'+", "+'+xe+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Be=B.def(ie,"[",ge,"]"),Tt=B.def(ie,"[",ee("src","Alpha"),"]"),ft=B.def(ie,"[",xe,"]"),Qe=B.def(ie,"[",ee("dst","Alpha"),"]");return[Be,ft,Tt,Qe]});case Lm:return W(function(F){if(typeof F=="string")return P.commandParameter(F,ue,"invalid "+U,C.commandStr),[ue[F],ue[F]];if(typeof F=="object")return P.commandParameter(F.rgb,ue,U+".rgb",C.commandStr),P.commandParameter(F.alpha,ue,U+".alpha",C.commandStr),[ue[F.rgb],ue[F.alpha]];P.commandRaise("invalid blend.equation",C.commandStr)},function(F,B,N){var ie=F.constants.blendEquations,ee=B.def(),ge=B.def(),xe=F.cond("typeof ",N,'==="string"');return P.optional(function(){function Be(Tt,ft,Qe){F.assert(Tt,Qe+" in "+ie,"invalid "+ft+", must be one of "+Object.keys(ue))}Be(xe.then,U,N),F.assert(xe.else,N+"&&typeof "+N+'==="object"',"invalid "+U),Be(xe.else,U+".rgb",N+".rgb"),Be(xe.else,U+".alpha",N+".alpha")}),xe.then(ee,"=",ge,"=",ie,"[",N,"];"),xe.else(ee,"=",ie,"[",N,".rgb];",ge,"=",ie,"[",N,".alpha];"),B(xe),[ee,ge]});case Iy:return W(function(F){return P.command(ki(F)&&F.length===4,"blend.color must be a 4d array",C.commandStr),Ti(4,function(B){return+F[B]})},function(F,B,N){return P.optional(function(){F.assert(B,F.shared.isArrayLike+"("+N+")&&"+N+".length===4","blend.color must be a 4d array")}),Ti(4,function(ie){return B.def("+",N,"[",ie,"]")})});case Gy:return W(function(F){return P.commandType(F,"number",V,C.commandStr),F|0},function(F,B,N){return P.optional(function(){F.assert(B,"typeof "+N+'==="number"',"invalid stencil.mask")}),B.def(N,"|0")});case zm:return W(function(F){P.commandType(F,"object",V,C.commandStr);var B=F.cmp||"keep",N=F.ref||0,ie="mask"in F?F.mask:-1;return P.commandParameter(B,ja,U+".cmp",C.commandStr),P.commandType(N,"number",U+".ref",C.commandStr),P.commandType(ie,"number",U+".mask",C.commandStr),[ja[B],N,ie]},function(F,B,N){var ie=F.constants.compareFuncs;P.optional(function(){function Be(){F.assert(B,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Be(N+"&&typeof ",N,'==="object"'),Be('!("cmp" in ',N,")||(",N,".cmp in ",ie,")")});var ee=B.def('"cmp" in ',N,"?",ie,"[",N,".cmp]",":",qs),ge=B.def(N,".ref|0"),xe=B.def('"mask" in ',N,"?",N,".mask|0:-1");return[ee,ge,xe]});case Bm:case rc:return W(function(F){P.commandType(F,"object",V,C.commandStr);var B=F.fail||"keep",N=F.zfail||"keep",ie=F.zpass||"keep";return P.commandParameter(B,Zs,U+".fail",C.commandStr),P.commandParameter(N,Zs,U+".zfail",C.commandStr),P.commandParameter(ie,Zs,U+".zpass",C.commandStr),[U===rc?Bo:fc,Zs[B],Zs[N],Zs[ie]]},function(F,B,N){var ie=F.constants.stencilOps;P.optional(function(){F.assert(B,N+"&&typeof "+N+'==="object"',"invalid "+U)});function ee(ge){return P.optional(function(){F.assert(B,'!("'+ge+'" in '+N+")||("+N+"."+ge+" in "+ie+")","invalid "+U+"."+ge+", must be one of "+Object.keys(Zs))}),B.def('"',ge,'" in ',N,"?",ie,"[",N,".",ge,"]:",qs)}return[U===rc?Bo:fc,ee("fail"),ee("zfail"),ee("zpass")]});case Fm:return W(function(F){P.commandType(F,"object",V,C.commandStr);var B=F.factor|0,N=F.units|0;return P.commandType(B,"number",V+".factor",C.commandStr),P.commandType(N,"number",V+".units",C.commandStr),[B,N]},function(F,B,N){P.optional(function(){F.assert(B,N+"&&typeof "+N+'==="object"',"invalid "+U)});var ie=B.def(N,".factor|0"),ee=B.def(N,".units|0");return[ie,ee]});case Fy:return W(function(F){var B=0;return F==="front"?B=fc:F==="back"&&(B=Bo),P.command(!!B,V,C.commandStr),B},function(F,B,N){return P.optional(function(){F.assert(B,N+'==="front"||'+N+'==="back"',"invalid cull.face")}),B.def(N,'==="front"?',fc,":",Bo)});case Rm:return W(function(F){return P.command(typeof F=="number"&&F>=se.lineWidthDims[0]&&F<=se.lineWidthDims[1],"invalid line width, must be a positive number between "+se.lineWidthDims[0]+" and "+se.lineWidthDims[1],C.commandStr),F},function(F,B,N){return P.optional(function(){F.assert(B,"typeof "+N+'==="number"&&'+N+">="+se.lineWidthDims[0]+"&&"+N+"<="+se.lineWidthDims[1],"invalid line width")}),N});case Mm:return W(function(F){return P.commandParameter(F,qm,V,C.commandStr),qm[F]},function(F,B,N){return P.optional(function(){F.assert(B,N+'==="cw"||'+N+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),B.def(N+'==="cw"?'+Yy+":"+Ym)});case Dm:return W(function(F){return P.command(ki(F)&&F.length===4,"color.mask must be length 4 array",C.commandStr),F.map(function(B){return!!B})},function(F,B,N){return P.optional(function(){F.assert(B,F.shared.isArrayLike+"("+N+")&&"+N+".length===4","invalid color.mask")}),Ti(4,function(ie){return"!!"+N+"["+ie+"]"})});case Nm:return W(function(F){P.command(typeof F=="object"&&F,V,C.commandStr);var B="value"in F?F.value:1,N=!!F.invert;return P.command(typeof B=="number"&&B>=0&&B<=1,"sample.coverage.value must be a number between 0 and 1",C.commandStr),[B,N]},function(F,B,N){P.optional(function(){F.assert(B,N+"&&typeof "+N+'==="object"',"invalid sample.coverage")});var ie=B.def('"value" in ',N,"?+",N,".value:1"),ee=B.def("!!",N,".invert");return[ie,ee]})}}),$}function zt(R,C){var G=R.static,K=R.dynamic,$={};return Object.keys(G).forEach(function(U){var V=G[U],W;if(typeof V=="number"||typeof V=="boolean")W=Gi(function(){return V});else if(typeof V=="function"){var F=V._reglType;F==="texture2d"||F==="textureCube"?W=Gi(function(B){return B.link(V)}):F==="framebuffer"||F==="framebufferCube"?(P.command(V.color.length>0,'missing color attachment for framebuffer sent to uniform "'+U+'"',C.commandStr),W=Gi(function(B){return B.link(V.color[0])})):P.commandRaise('invalid data for uniform "'+U+'"',C.commandStr)}else ki(V)?W=Gi(function(B){var N=B.global.def("[",Ti(V.length,function(ie){return P.command(typeof V[ie]=="number"||typeof V[ie]=="boolean","invalid uniform "+U,B.commandStr),V[ie]}),"]");return N}):P.commandRaise('invalid or missing data for uniform "'+U+'"',C.commandStr);W.value=V,$[U]=W}),Object.keys(K).forEach(function(U){var V=K[U];$[U]=Xr(V,function(W,F){return W.invoke(F,V)})}),$}function Yi(R,C){var G=R.static,K=R.dynamic,$={};return Object.keys(G).forEach(function(U){var V=G[U],W=A.id(U),F=new Q;if(fu(V))F.state=Fa,F.buffer=ye.getBuffer(ye.create(V,Ba,!1,!0)),F.type=0;else{var B=ye.getBuffer(V);if(B)F.state=Fa,F.buffer=B,F.type=0;else if(P.command(typeof V=="object"&&V,"invalid data for attribute "+U,C.commandStr),"constant"in V){var N=V.constant;F.buffer="null",F.state=km,typeof N=="number"?F.x=N:(P.command(ki(N)&&N.length>0&&N.length<=4,"invalid constant for attribute "+U,C.commandStr),Ra.forEach(function(ft,Qe){Qe<N.length&&(F[ft]=N[Qe])}))}else{fu(V.buffer)?B=ye.getBuffer(ye.create(V.buffer,Ba,!1,!0)):B=ye.getBuffer(V.buffer),P.command(!!B,'missing buffer for attribute "'+U+'"',C.commandStr);var ie=V.offset|0;P.command(ie>=0,'invalid offset for attribute "'+U+'"',C.commandStr);var ee=V.stride|0;P.command(ee>=0&&ee<256,'invalid stride for attribute "'+U+'", must be integer betweeen [0, 255]',C.commandStr);var ge=V.size|0;P.command(!("size"in V)||ge>0&&ge<=4,'invalid size for attribute "'+U+'", must be 1,2,3,4',C.commandStr);var xe=!!V.normalized,Be=0;"type"in V&&(P.commandParameter(V.type,Io,"invalid type for attribute "+U,C.commandStr),Be=Io[V.type]);var Tt=V.divisor|0;P.optional(function(){"divisor"in V&&(P.command(Tt===0||Pe,'cannot specify divisor for attribute "'+U+'", instancing not supported',C.commandStr),P.command(Tt>=0,'invalid divisor for attribute "'+U+'"',C.commandStr));var ft=C.commandStr,Qe=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(V).forEach(function(we){P.command(Qe.indexOf(we)>=0,'unknown parameter "'+we+'" for attribute pointer "'+U+'" (valid parameters are '+Qe+")",ft)})}),F.buffer=B,F.state=Fa,F.size=ge,F.normalized=xe,F.type=Be||B.dtype,F.offset=ie,F.stride=ee,F.divisor=Tt}}$[U]=Gi(function(ft,Qe){var we=ft.attribCache;if(W in we)return we[W];var me={isStream:!1};return Object.keys(F).forEach(function(ct){me[ct]=F[ct]}),F.buffer&&(me.buffer=ft.link(F.buffer),me.type=me.type||me.buffer+".dtype"),we[W]=me,me})}),Object.keys(K).forEach(function(U){var V=K[U];function W(F,B){var N=F.invoke(B,V),ie=F.shared,ee=F.constants,ge=ie.isBufferArgs,xe=ie.buffer;P.optional(function(){F.assert(B,N+"&&(typeof "+N+'==="object"||typeof '+N+'==="function")&&('+ge+"("+N+")||"+xe+".getBuffer("+N+")||"+xe+".getBuffer("+N+".buffer)||"+ge+"("+N+'.buffer)||("constant" in '+N+"&&(typeof "+N+'.constant==="number"||'+ie.isArrayLike+"("+N+".constant))))",'invalid dynamic attribute "'+U+'"')});var Be={isStream:B.def(!1)},Tt=new Q;Tt.state=Fa,Object.keys(Tt).forEach(function(me){Be[me]=B.def(""+Tt[me])});var ft=Be.buffer,Qe=Be.type;B("if(",ge,"(",N,")){",Be.isStream,"=true;",ft,"=",xe,".createStream(",Ba,",",N,");",Qe,"=",ft,".dtype;","}else{",ft,"=",xe,".getBuffer(",N,");","if(",ft,"){",Qe,"=",ft,".dtype;",'}else if("constant" in ',N,"){",Be.state,"=",km,";","if(typeof "+N+'.constant === "number"){',Be[Ra[0]],"=",N,".constant;",Ra.slice(1).map(function(me){return Be[me]}).join("="),"=0;","}else{",Ra.map(function(me,ct){return Be[me]+"="+N+".constant.length>"+ct+"?"+N+".constant["+ct+"]:0;"}).join(""),"}}else{","if(",ge,"(",N,".buffer)){",ft,"=",xe,".createStream(",Ba,",",N,".buffer);","}else{",ft,"=",xe,".getBuffer(",N,".buffer);","}",Qe,'="type" in ',N,"?",ee.glTypes,"[",N,".type]:",ft,".dtype;",Be.normalized,"=!!",N,".normalized;");function we(me){B(Be[me],"=",N,".",me,"|0;")}return we("size"),we("offset"),we("stride"),we("divisor"),B("}}"),B.exit("if(",Be.isStream,"){",xe,".destroyStream(",ft,");","}"),Be}$[U]=Xr(V,W)}),$}function xi(R){var C=R.static,G=R.dynamic,K={};return Object.keys(C).forEach(function($){var U=C[$];K[$]=Gi(function(V,W){return typeof U=="number"||typeof U=="boolean"?""+U:V.link(U)})}),Object.keys(G).forEach(function($){var U=G[$];K[$]=Xr(U,function(V,W){return V.invoke(W,U)})}),K}function Vi(R,C,G,K,$){var U=R.static,V=R.dynamic;P.optional(function(){var we=[Ro,sc,oc,Fo,No,iu,zo,ru,nc,ac].concat(mt);function me(ct){Object.keys(ct).forEach(function(nt){P.command(we.indexOf(nt)>=0,'unknown parameter "'+nt+'"',$.commandStr)})}me(U),me(V)});var W=Et(R,C),F=Ke(R),B=wt(R,F,$),N=Ei(R,$),ie=Li(R,$),ee=Rt(R,$,W);function ge(we){var me=B[we];me&&(ie[we]=me)}ge(gs),ge(it(tu));var xe=Object.keys(ie).length>0,Be={framebuffer:F,draw:N,shader:ee,state:ie,dirty:xe,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Be.profile=Ye(R),Be.uniforms=zt(G,$),Be.drawVAO=Be.scopeVAO=N.vao,!Be.drawVAO&&ee.program&&!W&&j.angle_instanced_arrays&&N.static.elements){var Tt=!0,ft=ee.program.attributes.map(function(we){var me=C.static[we];return Tt=Tt&&!!me,me});if(Tt&&ft.length>0){var Qe=Re.getVAO(Re.createVAO({attributes:ft,elements:N.static.elements}));Be.drawVAO=new nr(null,null,null,function(we,me){return we.link(Qe)}),Be.useVAO=!0}}return W?Be.useVAO=!0:Be.attributes=Yi(C,$),Be.context=xi(K),Be}function qi(R,C,G){var K=R.shared,$=K.context,U=R.scope();Object.keys(G).forEach(function(V){C.save($,"."+V);var W=G[V],F=W.append(R,C);Array.isArray(F)?U($,".",V,"=[",F.join(),"];"):U($,".",V,"=",F,";")}),C(U)}function Zi(R,C,G,K){var $=R.shared,U=$.gl,V=$.framebuffer,W;Je&&(W=C.def($.extensions,".webgl_draw_buffers"));var F=R.constants,B=F.drawBuffer,N=F.backBuffer,ie;G?ie=G.append(R,C):ie=C.def(V,".next"),K||C("if(",ie,"!==",V,".cur){"),C("if(",ie,"){",U,".bindFramebuffer(",Jy,",",ie,".framebuffer);"),Je&&C(W,".drawBuffersWEBGL(",B,"[",ie,".colorAttachments.length]);"),C("}else{",U,".bindFramebuffer(",Jy,",null);"),Je&&C(W,".drawBuffersWEBGL(",N,");"),C("}",V,".cur=",ie,";"),K||C("}")}function hr(R,C,G){var K=R.shared,$=K.gl,U=R.current,V=R.next,W=K.current,F=K.next,B=R.cond(W,".dirty");mt.forEach(function(N){var ie=it(N);if(!(ie in G.state)){var ee,ge;if(ie in V){ee=V[ie],ge=U[ie];var xe=Ti(qe[ie].length,function(Tt){return B.def(ee,"[",Tt,"]")});B(R.cond(xe.map(function(Tt,ft){return Tt+"!=="+ge+"["+ft+"]"}).join("||")).then($,".",_e[ie],"(",xe,");",xe.map(function(Tt,ft){return ge+"["+ft+"]="+Tt}).join(";"),";"))}else{ee=B.def(F,".",ie);var Be=R.cond(ee,"!==",W,".",ie);B(Be),ie in be?Be(R.cond(ee).then($,".enable(",be[ie],");").else($,".disable(",be[ie],");"),W,".",ie,"=",ee,";"):Be($,".",_e[ie],"(",ee,");",W,".",ie,"=",ee,";")}}}),Object.keys(G.state).length===0&&B(W,".dirty=false;"),C(B)}function vr(R,C,G,K){var $=R.shared,U=R.current,V=$.current,W=$.gl;eb(Object.keys(G)).forEach(function(F){var B=G[F];if(!(K&&!K(B))){var N=B.append(R,C);if(be[F]){var ie=be[F];Ks(B)?N?C(W,".enable(",ie,");"):C(W,".disable(",ie,");"):C(R.cond(N).then(W,".enable(",ie,");").else(W,".disable(",ie,");")),C(V,".",F,"=",N,";")}else if(ki(N)){var ee=U[F];C(W,".",_e[F],"(",N,");",N.map(function(ge,xe){return ee+"["+xe+"]="+ge}).join(";"),";")}else C(W,".",_e[F],"(",N,");",V,".",F,"=",N,";")}})}function Fi(R,C){Pe&&(R.instancing=C.def(R.shared.extensions,".angle_instanced_arrays"))}function Lt(R,C,G,K,$){var U=R.shared,V=R.stats,W=U.current,F=U.timer,B=G.profile;function N(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var ie,ee;function ge(we){ie=C.def(),we(ie,"=",N(),";"),typeof $=="string"?we(V,".count+=",$,";"):we(V,".count++;"),Ae&&(K?(ee=C.def(),we(ee,"=",F,".getNumPendingQueries();")):we(F,".beginQuery(",V,");"))}function xe(we){we(V,".cpuTime+=",N(),"-",ie,";"),Ae&&(K?we(F,".pushScopeStats(",ee,",",F,".getNumPendingQueries(),",V,");"):we(F,".endQuery();"))}function Be(we){var me=C.def(W,".profile");C(W,".profile=",we,";"),C.exit(W,".profile=",me,";")}var Tt;if(B){if(Ks(B)){B.enable?(ge(C),xe(C.exit),Be("true")):Be("false");return}Tt=B.append(R,C),Be(Tt)}else Tt=C.def(W,".profile");var ft=R.block();ge(ft),C("if(",Tt,"){",ft,"}");var Qe=R.block();xe(Qe),C.exit("if(",Tt,"){",Qe,"}")}function _r(R,C,G,K,$){var U=R.shared;function V(F){switch(F){case nu:case au:case du:return 2;case su:case lu:case uu:return 3;case ou:case cu:case hu:return 4;default:return 1}}function W(F,B,N){var ie=U.gl,ee=C.def(F,".location"),ge=C.def(U.attributes,"[",ee,"]"),xe=N.state,Be=N.buffer,Tt=[N.x,N.y,N.z,N.w],ft=["buffer","normalized","offset","stride"];function Qe(){C("if(!",ge,".buffer){",ie,".enableVertexAttribArray(",ee,");}");var me=N.type,ct;if(N.size?ct=C.def(N.size,"||",B):ct=B,C("if(",ge,".type!==",me,"||",ge,".size!==",ct,"||",ft.map(function(St){return ge+"."+St+"!=="+N[St]}).join("||"),"){",ie,".bindBuffer(",Ba,",",Be,".buffer);",ie,".vertexAttribPointer(",[ee,ct,me,N.normalized,N.stride,N.offset],");",ge,".type=",me,";",ge,".size=",ct,";",ft.map(function(St){return ge+"."+St+"="+N[St]+";"}).join(""),"}"),Pe){var nt=N.divisor;C("if(",ge,".divisor!==",nt,"){",R.instancing,".vertexAttribDivisorANGLE(",[ee,nt],");",ge,".divisor=",nt,";}")}}function we(){C("if(",ge,".buffer){",ie,".disableVertexAttribArray(",ee,");",ge,".buffer=null;","}if(",Ra.map(function(me,ct){return ge+"."+me+"!=="+Tt[ct]}).join("||"),"){",ie,".vertexAttrib4f(",ee,",",Tt,");",Ra.map(function(me,ct){return ge+"."+me+"="+Tt[ct]+";"}).join(""),"}")}xe===Fa?Qe():xe===km?we():(C("if(",xe,"===",Fa,"){"),Qe(),C("}else{"),we(),C("}"))}K.forEach(function(F){var B=F.name,N=G.attributes[B],ie;if(N){if(!$(N))return;ie=N.append(R,C)}else{if(!$(tb))return;var ee=R.scopeAttrib(B);P.optional(function(){R.assert(C,ee+".state","missing attribute "+B)}),ie={},Object.keys(new Q).forEach(function(ge){ie[ge]=C.def(ee,".",ge)})}W(R.link(F),V(F.info.type),ie)})}function Qt(R,C,G,K,$,U){for(var V=R.shared,W=V.gl,F={},B,N=0;N<K.length;++N){var ie=K[N],ee=ie.name,ge=ie.info.type,xe=ie.info.size,Be=G.uniforms[ee];if(xe>1){if(!Be)continue;var Tt=ee.replace("[0]","");if(F[Tt])continue;F[Tt]=1}var ft=R.link(ie),Qe=ft+".location",we;if(Be){if(!$(Be))continue;if(Ks(Be)){var me=Be.value;if(P.command(me!==null&&typeof me!="undefined",'missing uniform "'+ee+'"',R.commandStr),ge===uc||ge===hc){P.command(typeof me=="function"&&(ge===uc&&(me._reglType==="texture2d"||me._reglType==="framebuffer")||ge===hc&&(me._reglType==="textureCube"||me._reglType==="framebufferCube")),"invalid texture for uniform "+ee,R.commandStr);var ct=R.link(me._texture||me.color[0]._texture);C(W,".uniform1i(",Qe,",",ct+".bind());"),C.exit(ct,".unbind();")}else if(ge===lc||ge===cc||ge===dc){P.optional(function(){P.command(ki(me),"invalid matrix for uniform "+ee,R.commandStr),P.command(ge===lc&&me.length===4||ge===cc&&me.length===9||ge===dc&&me.length===16,"invalid length for matrix uniform "+ee,R.commandStr)});var nt=R.global.def("new Float32Array(["+Array.prototype.slice.call(me)+"])"),St=2;ge===cc?St=3:ge===dc&&(St=4),C(W,".uniformMatrix",St,"fv(",Qe,",false,",nt,");")}else{switch(ge){case Um:xe===1?P.commandType(me,"number","uniform "+ee,R.commandStr):P.command(ki(me)&&me.length===xe,"uniform "+ee,R.commandStr),B="1f";break;case nu:P.command(ki(me)&&me.length&&me.length%2===0&&me.length<=xe*2,"uniform "+ee,R.commandStr),B="2f";break;case su:P.command(ki(me)&&me.length&&me.length%3===0&&me.length<=xe*3,"uniform "+ee,R.commandStr),B="3f";break;case ou:P.command(ki(me)&&me.length&&me.length%4===0&&me.length<=xe*4,"uniform "+ee,R.commandStr),B="4f";break;case Xm:xe===1?P.commandType(me,"boolean","uniform "+ee,R.commandStr):P.command(ki(me)&&me.length===xe,"uniform "+ee,R.commandStr),B="1i";break;case Hm:xe===1?P.commandType(me,"number","uniform "+ee,R.commandStr):P.command(ki(me)&&me.length===xe,"uniform "+ee,R.commandStr),B="1i";break;case du:P.command(ki(me)&&me.length&&me.length%2===0&&me.length<=xe*2,"uniform "+ee,R.commandStr),B="2i";break;case au:P.command(ki(me)&&me.length&&me.length%2===0&&me.length<=xe*2,"uniform "+ee,R.commandStr),B="2i";break;case uu:P.command(ki(me)&&me.length&&me.length%3===0&&me.length<=xe*3,"uniform "+ee,R.commandStr),B="3i";break;case lu:P.command(ki(me)&&me.length&&me.length%3===0&&me.length<=xe*3,"uniform "+ee,R.commandStr),B="3i";break;case hu:P.command(ki(me)&&me.length&&me.length%4===0&&me.length<=xe*4,"uniform "+ee,R.commandStr),B="4i";break;case cu:P.command(ki(me)&&me.length&&me.length%4===0&&me.length<=xe*4,"uniform "+ee,R.commandStr),B="4i";break}xe>1?(B+="v",me=R.global.def("["+Array.prototype.slice.call(me)+"]")):me=ki(me)?Array.prototype.slice.call(me):me,C(W,".uniform",B,"(",Qe,",",me,");")}continue}else we=Be.append(R,C)}else{if(!$(tb))continue;we=C.def(V.uniforms,"[",A.id(ee),"]")}ge===uc?(P(!Array.isArray(we),"must specify a scalar prop for textures"),C("if(",we,"&&",we,'._reglType==="framebuffer"){',we,"=",we,".color[0];","}")):ge===hc&&(P(!Array.isArray(we),"must specify a scalar prop for cube maps"),C("if(",we,"&&",we,'._reglType==="framebufferCube"){',we,"=",we,".color[0];","}")),P.optional(function(){function nn(Wr,mu){R.assert(C,Wr,'bad data or missing for uniform "'+ee+'".  '+mu)}function Uo(Wr,mu){mu===1&&P(!Array.isArray(we),"must not specify an array type for uniform"),nn("Array.isArray("+we+") && typeof "+we+'[0]===" '+Wr+'" || typeof '+we+'==="'+Wr+'"',"invalid type, expected "+Wr)}function hn(Wr,mu,pu){Array.isArray(we)?P(we.length&&we.length%Wr===0&&we.length<=Wr*pu,"must have length of "+(pu===1?"":"n * ")+Wr):nn(V.isArrayLike+"("+we+")&&"+we+".length && "+we+".length % "+Wr+" === 0 && "+we+".length<="+Wr*pu,"invalid vector, should have length of "+(pu===1?"":"n * ")+Wr,R.commandStr)}function lb(Wr){P(!Array.isArray(we),"must not specify a value type"),nn("typeof "+we+'==="function"&&'+we+'._reglType==="texture'+(Wr===Wy?"2d":"Cube")+'"',"invalid texture type",R.commandStr)}switch(ge){case Hm:Uo("number",xe);break;case au:hn(2,"number",xe);break;case lu:hn(3,"number",xe);break;case cu:hn(4,"number",xe);break;case Um:Uo("number",xe);break;case nu:hn(2,"number",xe);break;case su:hn(3,"number",xe);break;case ou:hn(4,"number",xe);break;case Xm:Uo("boolean",xe);break;case du:hn(2,"boolean",xe);break;case uu:hn(3,"boolean",xe);break;case hu:hn(4,"boolean",xe);break;case lc:hn(4,"number",xe);break;case cc:hn(9,"number",xe);break;case dc:hn(16,"number",xe);break;case uc:lb(Wy);break;case hc:lb(Q3);break}});var ti=1;switch(ge){case uc:case hc:var yr=C.def(we,"._texture");C(W,".uniform1i(",Qe,",",yr,".bind());"),C.exit(yr,".unbind();");continue;case Hm:case Xm:B="1i";break;case au:case du:B="2i",ti=2;break;case lu:case uu:B="3i",ti=3;break;case cu:case hu:B="4i",ti=4;break;case Um:B="1f";break;case nu:B="2f",ti=2;break;case su:B="3f",ti=3;break;case ou:B="4f",ti=4;break;case lc:B="Matrix2fv";break;case cc:B="Matrix3fv";break;case dc:B="Matrix4fv";break}if(B.indexOf("Matrix")===-1&&xe>1&&(B+="v",ti=1),B.charAt(0)==="M"){C(W,".uniform",B,"(",Qe,",");var Go=Math.pow(ge-lc+2,2),vs=R.global.def("new Float32Array(",Go,")");Array.isArray(we)?C("false,(",Ti(Go,function(nn){return vs+"["+nn+"]="+we[nn]}),",",vs,")"):C("false,(Array.isArray(",we,")||",we," instanceof Float32Array)?",we,":(",Ti(Go,function(nn){return vs+"["+nn+"]="+we+"["+nn+"]"}),",",vs,")"),C(");")}else if(ti>1){for(var Wn=[],Js=[],Vo=0;Vo<ti;++Vo)Array.isArray(we)?Js.push(we[Vo]):Js.push(C.def(we+"["+Vo+"]")),U&&Wn.push(C.def());U&&C("if(!",R.batchId,"||",Wn.map(function(nn,Uo){return nn+"!=="+Js[Uo]}).join("||"),"){",Wn.map(function(nn,Uo){return nn+"="+Js[Uo]+";"}).join("")),C(W,".uniform",B,"(",Qe,",",Js.join(","),");"),U&&C("}")}else{if(P(!Array.isArray(we),"uniform value must not be an array"),U){var ab=C.def();C("if(!",R.batchId,"||",ab,"!==",we,"){",ab,"=",we,";")}C(W,".uniform",B,"(",Qe,",",we,");"),U&&C("}")}}}function xt(R,C,G,K){var $=R.shared,U=$.gl,V=$.draw,W=K.draw;function F(){var ct=W.elements,nt,St=C;return ct?((ct.contextDep&&K.contextDynamic||ct.propDep)&&(St=G),nt=ct.append(R,St),W.elementsActive&&St("if("+nt+")"+U+".bindBuffer("+Vm+","+nt+".buffer.buffer);")):(nt=St.def(),St(nt,"=",V,".",Fo,";","if(",nt,"){",U,".bindBuffer(",Vm,",",nt,".buffer.buffer);}","else if(",$.vao,".currentVAO){",nt,"=",R.shared.elements+".getElements("+$.vao,".currentVAO.elements);",Se?"":"if("+nt+")"+U+".bindBuffer("+Vm+","+nt+".buffer.buffer);","}")),nt}function B(){var ct=W.count,nt,St=C;return ct?((ct.contextDep&&K.contextDynamic||ct.propDep)&&(St=G),nt=ct.append(R,St),P.optional(function(){ct.MISSING&&R.assert(C,"false","missing vertex count"),ct.DYNAMIC&&R.assert(St,nt+">=0","missing vertex count")})):(nt=St.def(V,".",zo),P.optional(function(){R.assert(St,nt+">=0","missing vertex count")})),nt}var N=F();function ie(ct){var nt=W[ct];return nt?nt.contextDep&&K.contextDynamic||nt.propDep?nt.append(R,G):nt.append(R,C):C.def(V,".",ct)}var ee=ie(No),ge=ie(iu),xe=B();if(typeof xe=="number"){if(xe===0)return}else G("if(",xe,"){"),G.exit("}");var Be,Tt;Pe&&(Be=ie(ru),Tt=R.instancing);var ft=N+".type",Qe=W.elements&&Ks(W.elements)&&!W.vaoActive;function we(){function ct(){G(Tt,".drawElementsInstancedANGLE(",[ee,xe,ft,ge+"<<(("+ft+"-"+Cy+")>>1)",Be],");")}function nt(){G(Tt,".drawArraysInstancedANGLE(",[ee,ge,xe,Be],");")}N&&N!=="null"?Qe?ct():(G("if(",N,"){"),ct(),G("}else{"),nt(),G("}")):nt()}function me(){function ct(){G(U+".drawElements("+[ee,xe,ft,ge+"<<(("+ft+"-"+Cy+")>>1)"]+");")}function nt(){G(U+".drawArrays("+[ee,ge,xe]+");")}N&&N!=="null"?Qe?ct():(G("if(",N,"){"),ct(),G("}else{"),nt(),G("}")):nt()}Pe&&(typeof Be!="number"||Be>=0)?typeof Be=="string"?(G("if(",Be,">0){"),we(),G("}else if(",Be,"<0){"),me(),G("}")):we():me()}function Ft(R,C,G,K,$){var U=Ct(),V=U.proc("body",$);return P.optional(function(){U.commandStr=C.commandStr,U.command=U.link(C.commandStr)}),Pe&&(U.instancing=V.def(U.shared.extensions,".angle_instanced_arrays")),R(U,V,G,K),U.compile().body}function Wt(R,C,G,K){Fi(R,C),G.useVAO?G.drawVAO?C(R.shared.vao,".setVAO(",G.drawVAO.append(R,C),");"):C(R.shared.vao,".setVAO(",R.shared.vao,".targetVAO);"):(C(R.shared.vao,".setVAO(null);"),_r(R,C,G,K.attributes,function(){return!0})),Qt(R,C,G,K.uniforms,function(){return!0},!1),xt(R,C,C,G)}function Ni(R,C){var G=R.proc("draw",1);Fi(R,G),qi(R,G,C.context),Zi(R,G,C.framebuffer),hr(R,G,C),vr(R,G,C.state),Lt(R,G,C,!1,!0);var K=C.shader.progVar.append(R,G);if(G(R.shared.gl,".useProgram(",K,".program);"),C.shader.program)Wt(R,G,C,C.shader.program);else{G(R.shared.vao,".setVAO(null);");var $=R.global.def("{}"),U=G.def(K,".id"),V=G.def($,"[",U,"]");G(R.cond(V).then(V,".call(this,a0);").else(V,"=",$,"[",U,"]=",R.link(function(W){return Ft(Wt,R,C,W,1)}),"(",K,");",V,".call(this,a0);"))}Object.keys(C.state).length>0&&G(R.shared.current,".dirty=true;"),R.shared.vao&&G(R.shared.vao,".setVAO(null);")}function Xn(R,C,G,K){R.batchId="a1",Fi(R,C);function $(){return!0}_r(R,C,G,K.attributes,$),Qt(R,C,G,K.uniforms,$,!1),xt(R,C,C,G)}function jo(R,C,G,K){Fi(R,C);var $=G.contextDep,U=C.def(),V="a0",W="a1",F=C.def();R.shared.props=F,R.batchId=U;var B=R.scope(),N=R.scope();C(B.entry,"for(",U,"=0;",U,"<",W,";++",U,"){",F,"=",V,"[",U,"];",N,"}",B.exit);function ie(ft){return ft.contextDep&&$||ft.propDep}function ee(ft){return!ie(ft)}if(G.needsContext&&qi(R,N,G.context),G.needsFramebuffer&&Zi(R,N,G.framebuffer),vr(R,N,G.state,ie),G.profile&&ie(G.profile)&&Lt(R,N,G,!1,!0),K)G.useVAO?G.drawVAO?ie(G.drawVAO)?N(R.shared.vao,".setVAO(",G.drawVAO.append(R,N),");"):B(R.shared.vao,".setVAO(",G.drawVAO.append(R,B),");"):B(R.shared.vao,".setVAO(",R.shared.vao,".targetVAO);"):(B(R.shared.vao,".setVAO(null);"),_r(R,B,G,K.attributes,ee),_r(R,N,G,K.attributes,ie)),Qt(R,B,G,K.uniforms,ee,!1),Qt(R,N,G,K.uniforms,ie,!0),xt(R,B,N,G);else{var ge=R.global.def("{}"),xe=G.shader.progVar.append(R,N),Be=N.def(xe,".id"),Tt=N.def(ge,"[",Be,"]");N(R.shared.gl,".useProgram(",xe,".program);","if(!",Tt,"){",Tt,"=",ge,"[",Be,"]=",R.link(function(ft){return Ft(Xn,R,G,ft,2)}),"(",xe,");}",Tt,".call(this,a0[",U,"],",U,");")}}function z(R,C){var G=R.proc("batch",2);R.batchId="0",Fi(R,G);var K=!1,$=!0;Object.keys(C.context).forEach(function(ge){K=K||C.context[ge].propDep}),K||(qi(R,G,C.context),$=!1);var U=C.framebuffer,V=!1;U?(U.propDep?K=V=!0:U.contextDep&&K&&(V=!0),V||Zi(R,G,U)):Zi(R,G,null),C.state.viewport&&C.state.viewport.propDep&&(K=!0);function W(ge){return ge.contextDep&&K||ge.propDep}hr(R,G,C),vr(R,G,C.state,function(ge){return!W(ge)}),(!C.profile||!W(C.profile))&&Lt(R,G,C,!1,"a1"),C.contextDep=K,C.needsContext=$,C.needsFramebuffer=V;var F=C.shader.progVar;if(F.contextDep&&K||F.propDep)jo(R,G,C,null);else{var B=F.append(R,G);if(G(R.shared.gl,".useProgram(",B,".program);"),C.shader.program)jo(R,G,C,C.shader.program);else{G(R.shared.vao,".setVAO(null);");var N=R.global.def("{}"),ie=G.def(B,".id"),ee=G.def(N,"[",ie,"]");G(R.cond(ee).then(ee,".call(this,a0,a1);").else(ee,"=",N,"[",ie,"]=",R.link(function(ge){return Ft(jo,R,C,ge,2)}),"(",B,");",ee,".call(this,a0,a1);"))}}Object.keys(C.state).length>0&&G(R.shared.current,".dirty=true;"),R.shared.vao&&G(R.shared.vao,".setVAO(null);")}function oe(R,C){var G=R.proc("scope",3);R.batchId="a2";var K=R.shared,$=K.current;qi(R,G,C.context),C.framebuffer&&C.framebuffer.append(R,G),eb(Object.keys(C.state)).forEach(function(V){var W=C.state[V],F=W.append(R,G);ki(F)?F.forEach(function(B,N){G.set(R.next[V],"["+N+"]",B)}):G.set(K.next,"."+V,F)}),Lt(R,G,C,!0,!0),[Fo,iu,zo,ru,No].forEach(function(V){var W=C.draw[V];W&&G.set(K.draw,"."+V,""+W.append(R,G))}),Object.keys(C.uniforms).forEach(function(V){var W=C.uniforms[V].append(R,G);Array.isArray(W)&&(W="["+W.join()+"]"),G.set(K.uniforms,"["+A.id(V)+"]",W)}),Object.keys(C.attributes).forEach(function(V){var W=C.attributes[V].append(R,G),F=R.scopeAttrib(V);Object.keys(new Q).forEach(function(B){G.set(F,"."+B,W[B])})}),C.scopeVAO&&G.set(K.vao,".targetVAO",C.scopeVAO.append(R,G));function U(V){var W=C.shader[V];W&&G.set(K.shader,"."+V,W.append(R,G))}U(sc),U(oc),Object.keys(C.state).length>0&&(G($,".dirty=true;"),G.exit($,".dirty=true;")),G("a1(",R.shared.context,",a0,",R.batchId,");")}function re(R){if(!(typeof R!="object"||ki(R))){for(var C=Object.keys(R),G=0;G<C.length;++G)if(li.isDynamic(R[C[G]]))return!0;return!1}}function tt(R,C,G){var K=C.static[G];if(!K||!re(K))return;var $=R.global,U=Object.keys(K),V=!1,W=!1,F=!1,B=R.global.def("{}");U.forEach(function(ie){var ee=K[ie];if(li.isDynamic(ee)){typeof ee=="function"&&(ee=K[ie]=li.unbox(ee));var ge=Xr(ee,null);V=V||ge.thisDep,F=F||ge.propDep,W=W||ge.contextDep}else{switch($(B,".",ie,"="),typeof ee){case"number":$(ee);break;case"string":$('"',ee,'"');break;case"object":Array.isArray(ee)&&$("[",ee.join(),"]");break;default:$(R.link(ee));break}$(";")}});function N(ie,ee){U.forEach(function(ge){var xe=K[ge];if(li.isDynamic(xe)){var Be=ie.invoke(ee,xe);ee(B,".",ge,"=",Be,";")}})}C.dynamic[G]=new li.DynamicVariable(eu,{thisDep:V,contextDep:W,propDep:F,ref:B,append:N}),delete C.static[G]}function Mt(R,C,G,K,$){var U=Ct();U.stats=U.link($),Object.keys(C.static).forEach(function(W){tt(U,C,W)}),Z3.forEach(function(W){tt(U,R,W)});var V=Vi(R,C,G,K,U);return Ni(U,V),oe(U,V),z(U,V),i(U.compile(),{destroy:function(){V.shader.program.destroy()}})}return{next:We,current:qe,procs:function(){var R=Ct(),C=R.proc("poll"),G=R.proc("refresh"),K=R.block();C(K),G(K);var $=R.shared,U=$.gl,V=$.next,W=$.current;K(W,".dirty=false;"),Zi(R,C),Zi(R,G,null,!0);var F;Pe&&(F=R.link(Pe)),j.oes_vertex_array_object&&G(R.link(j.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var B=0;B<se.maxAttributes;++B){var N=G.def($.attributes,"[",B,"]"),ie=R.cond(N,".buffer");ie.then(U,".enableVertexAttribArray(",B,");",U,".bindBuffer(",Ba,",",N,".buffer.buffer);",U,".vertexAttribPointer(",B,",",N,".size,",N,".type,",N,".normalized,",N,".stride,",N,".offset);").else(U,".disableVertexAttribArray(",B,");",U,".vertexAttrib4f(",B,",",N,".x,",N,".y,",N,".z,",N,".w);",N,".buffer=null;"),G(ie),Pe&&G(F,".vertexAttribDivisorANGLE(",B,",",N,".divisor);")}return G(R.shared.vao,".currentVAO=null;",R.shared.vao,".setVAO(",R.shared.vao,".targetVAO);"),Object.keys(be).forEach(function(ee){var ge=be[ee],xe=K.def(V,".",ee),Be=R.block();Be("if(",xe,"){",U,".enable(",ge,")}else{",U,".disable(",ge,")}",W,".",ee,"=",xe,";"),G(Be),C("if(",xe,"!==",W,".",ee,"){",Be,"}")}),Object.keys(_e).forEach(function(ee){var ge=_e[ee],xe=qe[ee],Be,Tt,ft=R.block();if(ft(U,".",ge,"("),ki(xe)){var Qe=xe.length;Be=R.global.def(V,".",ee),Tt=R.global.def(W,".",ee),ft(Ti(Qe,function(we){return Be+"["+we+"]"}),");",Ti(Qe,function(we){return Tt+"["+we+"]="+Be+"["+we+"];"}).join("")),C("if(",Ti(Qe,function(we){return Be+"["+we+"]!=="+Tt+"["+we+"]"}).join("||"),"){",ft,"}")}else Be=K.def(V,".",ee),Tt=K.def(W,".",ee),ft(Be,");",W,".",ee,"=",Be,";"),C("if(",Be,"!==",Tt,"){",ft,"}");G(ft)}),R.compile()}(),compile:Mt}}function mA(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var pA=34918,gA=34919,ib=35007,vA=function(y,A){if(!A.ext_disjoint_timer_query)return null;var j=[];function se(){return j.pop()||A.ext_disjoint_timer_query.createQueryEXT()}function ye(Pe){j.push(Pe)}var ne=[];function he(Pe){var Je=se();A.ext_disjoint_timer_query.beginQueryEXT(ib,Je),ne.push(Je),Ae(ne.length-1,ne.length,Pe)}function Ee(){A.ext_disjoint_timer_query.endQueryEXT(ib)}function Ce(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Re=[];function Ne(){return Re.pop()||new Ce}function Fe(Pe){Re.push(Pe)}var Ge=[];function Ae(Pe,Je,Se){var qe=Ne();qe.startQueryIndex=Pe,qe.endQueryIndex=Je,qe.sum=0,qe.stats=Se,Ge.push(qe)}var De=[],Q=[];function ue(){var Pe,Je,Se=ne.length;if(Se!==0){Q.length=Math.max(Q.length,Se+1),De.length=Math.max(De.length,Se+1),De[0]=0,Q[0]=0;var qe=0;for(Pe=0,Je=0;Je<ne.length;++Je){var We=ne[Je];A.ext_disjoint_timer_query.getQueryObjectEXT(We,gA)?(qe+=A.ext_disjoint_timer_query.getQueryObjectEXT(We,pA),ye(We)):ne[Pe++]=We,De[Je+1]=qe,Q[Je+1]=Pe}for(ne.length=Pe,Pe=0,Je=0;Je<Ge.length;++Je){var mt=Ge[Je],be=mt.startQueryIndex,_e=mt.endQueryIndex;mt.sum+=De[_e]-De[be];var it=Q[be],Ve=Q[_e];Ve===it?(mt.stats.gpuTime+=mt.sum/1e6,Fe(mt)):(mt.startQueryIndex=it,mt.endQueryIndex=Ve,Ge[Pe++]=mt)}Ge.length=Pe}}return{beginQuery:he,endQuery:Ee,pushScopeStats:Ae,update:ue,getNumPendingQueries:function(){return ne.length},clear:function(){j.push.apply(j,ne);for(var Pe=0;Pe<j.length;Pe++)A.ext_disjoint_timer_query.deleteQueryEXT(j[Pe]);ne.length=0,j.length=0},restore:function(){ne.length=0,j.length=0}}},_A=16384,yA=256,bA=1024,xA=34962,rb="webglcontextlost",nb="webglcontextrestored",sb=1,wA=2,SA=3;function ob(y,A){for(var j=0;j<y.length;++j)if(y[j]===A)return j;return-1}function TA(y){var A=Ao(y);if(!A)return null;var j=A.gl,se=j.getContextAttributes(),ye=j.isContextLost(),ne=Us(j,A);if(!ne)return null;var he=Or(),Ee=mA(),Ce=ne.extensions,Re=vA(j,Ce),Ne=Ri(),Fe=j.drawingBufferWidth,Ge=j.drawingBufferHeight,Ae={tick:0,time:0,viewportWidth:Fe,viewportHeight:Ge,framebufferWidth:Fe,framebufferHeight:Ge,drawingBufferWidth:Fe,drawingBufferHeight:Ge,pixelRatio:A.pixelRatio},De={},Q={elements:null,primitive:4,count:-1,offset:0,instances:-1},ue=dE(j,Ce),Pe=kE(j,Ee,A,qe),Je=zE(j,Ce,Pe,Ee),Se=z3(j,Ce,ue,Ee,Pe,Je,Q);function qe(xt){return Se.destroyBuffer(xt)}var We=V3(j,he,Ee,A),mt=p3(j,Ce,ue,function(){it.procs.poll()},Ae,Ee,A),be=g3(j,Ce,ue,Ee,A),_e=F3(j,Ce,ue,mt,be,Ee),it=fA(j,he,Ce,ue,Pe,Je,mt,_e,De,Se,We,Q,Ae,Re,A),Ve=X3(j,_e,it.procs.poll,Ae,se,Ce,ue),Ie=it.next,Ue=j.canvas,Xe=[],kt=[],Ct=[],Ye=[A.onDestroy],Ke=null;function wt(){if(Xe.length===0){Re&&Re.update(),Ke=null;return}Ke=ji.next(wt),vr();for(var xt=Xe.length-1;xt>=0;--xt){var Ft=Xe[xt];Ft&&Ft(Ae,null,0)}j.flush(),Re&&Re.update()}function Et(){!Ke&&Xe.length>0&&(Ke=ji.next(wt))}function Rt(){Ke&&(ji.cancel(wt),Ke=null)}function Ei(xt){xt.preventDefault(),ye=!0,Rt(),kt.forEach(function(Ft){Ft()})}function Li(xt){j.getError(),ye=!1,ne.restore(),We.restore(),Pe.restore(),mt.restore(),be.restore(),_e.restore(),Se.restore(),Re&&Re.restore(),it.procs.refresh(),Et(),Ct.forEach(function(Ft){Ft()})}Ue&&(Ue.addEventListener(rb,Ei,!1),Ue.addEventListener(nb,Li,!1));function zt(){Xe.length=0,Rt(),Ue&&(Ue.removeEventListener(rb,Ei),Ue.removeEventListener(nb,Li)),We.clear(),_e.clear(),be.clear(),Se.clear(),mt.clear(),Je.clear(),Pe.clear(),Re&&Re.clear(),Ye.forEach(function(xt){xt()})}function Yi(xt){P(!!xt,"invalid args to regl({...})"),P.type(xt,"object","invalid args to regl({...})");function Ft($){var U=i({},$);delete U.uniforms,delete U.attributes,delete U.context,delete U.vao,"stencil"in U&&U.stencil.op&&(U.stencil.opBack=U.stencil.opFront=U.stencil.op,delete U.stencil.op);function V(W){if(W in U){var F=U[W];delete U[W],Object.keys(F).forEach(function(B){U[W+"."+B]=F[B]})}}return V("blend"),V("depth"),V("cull"),V("stencil"),V("polygonOffset"),V("scissor"),V("sample"),"vao"in $&&(U.vao=$.vao),U}function Wt($,U){var V={},W={};return Object.keys($).forEach(function(F){var B=$[F];if(li.isDynamic(B)){W[F]=li.unbox(B,F);return}else if(U&&Array.isArray(B)){for(var N=0;N<B.length;++N)if(li.isDynamic(B[N])){W[F]=li.unbox(B,F);return}}V[F]=B}),{dynamic:W,static:V}}var Ni=Wt(xt.context||{},!0),Xn=Wt(xt.uniforms||{},!0),jo=Wt(xt.attributes||{},!1),z=Wt(Ft(xt),!1),oe={gpuTime:0,cpuTime:0,count:0},re=it.compile(z,jo,Xn,Ni,oe),tt=re.draw,Mt=re.batch,R=re.scope,C=[];function G($){for(;C.length<$;)C.push(null);return C}function K($,U){var V;if(ye&&P.raise("context lost"),typeof $=="function")return R.call(this,null,$,0);if(typeof U=="function")if(typeof $=="number")for(V=0;V<$;++V)R.call(this,null,U,V);else if(Array.isArray($))for(V=0;V<$.length;++V)R.call(this,$[V],U,V);else return R.call(this,$,U,0);else if(typeof $=="number"){if($>0)return Mt.call(this,G($|0),$|0)}else if(Array.isArray($)){if($.length)return Mt.call(this,$,$.length)}else return tt.call(this,$)}return i(K,{stats:oe,destroy:function(){re.destroy()}})}var xi=_e.setFBO=Yi({framebuffer:li.define.call(null,sb,"framebuffer")});function Vi(xt,Ft){var Wt=0;it.procs.poll();var Ni=Ft.color;Ni&&(j.clearColor(+Ni[0]||0,+Ni[1]||0,+Ni[2]||0,+Ni[3]||0),Wt|=_A),"depth"in Ft&&(j.clearDepth(+Ft.depth),Wt|=yA),"stencil"in Ft&&(j.clearStencil(Ft.stencil|0),Wt|=bA),P(!!Wt,"called regl.clear with no buffer specified"),j.clear(Wt)}function qi(xt){if(P(typeof xt=="object"&&xt,"regl.clear() takes an object as input"),"framebuffer"in xt)if(xt.framebuffer&&xt.framebuffer_reglType==="framebufferCube")for(var Ft=0;Ft<6;++Ft)xi(i({framebuffer:xt.framebuffer.faces[Ft]},xt),Vi);else xi(xt,Vi);else Vi(null,xt)}function Zi(xt){P.type(xt,"function","regl.frame() callback must be a function"),Xe.push(xt);function Ft(){var Wt=ob(Xe,xt);P(Wt>=0,"cannot cancel a frame twice");function Ni(){var Xn=ob(Xe,Ni);Xe[Xn]=Xe[Xe.length-1],Xe.length-=1,Xe.length<=0&&Rt()}Xe[Wt]=Ni}return Et(),{cancel:Ft}}function hr(){var xt=Ie.viewport,Ft=Ie.scissor_box;xt[0]=xt[1]=Ft[0]=Ft[1]=0,Ae.viewportWidth=Ae.framebufferWidth=Ae.drawingBufferWidth=xt[2]=Ft[2]=j.drawingBufferWidth,Ae.viewportHeight=Ae.framebufferHeight=Ae.drawingBufferHeight=xt[3]=Ft[3]=j.drawingBufferHeight}function vr(){Ae.tick+=1,Ae.time=Lt(),hr(),it.procs.poll()}function Fi(){mt.refresh(),hr(),it.procs.refresh(),Re&&Re.update()}function Lt(){return(Ri()-Ne)/1e3}Fi();function _r(xt,Ft){P.type(Ft,"function","listener callback must be a function");var Wt;switch(xt){case"frame":return Zi(Ft);case"lost":Wt=kt;break;case"restore":Wt=Ct;break;case"destroy":Wt=Ye;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Wt.push(Ft),{cancel:function(){for(var Ni=0;Ni<Wt.length;++Ni)if(Wt[Ni]===Ft){Wt[Ni]=Wt[Wt.length-1],Wt.pop();return}}}}var Qt=i(Yi,{clear:qi,prop:li.define.bind(null,sb),context:li.define.bind(null,wA),this:li.define.bind(null,SA),draw:Yi({}),buffer:function(xt){return Pe.create(xt,xA,!1,!1)},elements:function(xt){return Je.create(xt,!1)},texture:mt.create2D,cube:mt.createCube,renderbuffer:be.create,framebuffer:_e.create,framebufferCube:_e.createCube,vao:Se.createVAO,attributes:se,frame:Zi,on:_r,limits:ue,hasExtension:function(xt){return ue.extensions.indexOf(xt.toLowerCase())>=0},read:Ve,destroy:zt,_gl:j,_refresh:Fi,poll:function(){vr(),Re&&Re.update()},now:Lt,stats:Ee});return A.onDone(null,Qt),Qt}return TA})})(RC);var IF=RC.exports;const LF=Sv(IF);function yh(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function PF(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function FC(r){let e,t,i;r.length!==2?(e=yh,t=(a,l)=>yh(r(a),l),i=(a,l)=>r(a)-l):(e=r===yh||r===PF?r:DF,t=r,i=r);function n(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;t(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;t(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function o(a,l,c=0,d=a.length){const u=n(a,l,c,d-1);return u>c&&i(a[u-1],l)>-i(a[u],l)?u-1:u}return{left:n,center:o,right:s}}function DF(){return 0}function MF(r){return r===null?NaN:+r}const RF=FC(yh),FF=RF.right;FC(MF).center;function Jh(r,e){let t,i;for(const n of r)n!=null&&(t===void 0?n>=n&&(t=i=n):(t>n&&(t=n),i<n&&(i=n)));return[t,i]}const NF=Math.sqrt(50),zF=Math.sqrt(10),BF=Math.sqrt(2);function Qh(r,e,t){const i=(e-r)/Math.max(0,t),n=Math.floor(Math.log10(i)),s=i/Math.pow(10,n),o=s>=NF?10:s>=zF?5:s>=BF?2:1;let a,l,c;return n<0?(c=Math.pow(10,-n)/o,a=Math.round(r*c),l=Math.round(e*c),a/c<r&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,n)*o,a=Math.round(r/c),l=Math.round(e/c),a*c<r&&++a,l*c>e&&--l),l<a&&.5<=t&&t<2?Qh(r,e,t*2):[a,l,c]}function jF(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const i=e<r,[n,s,o]=i?Qh(e,r,t):Qh(r,e,t);if(!(s>=n))return[];const a=s-n+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(n+c)/-o;else for(let c=0;c<a;++c)l[c]=(n+c)*o;return l}function C0(r,e,t){return e=+e,r=+r,t=+t,Qh(r,e,t)[2]}function GF(r,e,t){e=+e,r=+r,t=+t;const i=e<r,n=i?C0(e,r,t):C0(r,e,t);return(i?-1:1)*(n<0?1/-n:n)}function VF(r,e,t){r=+r,e=+e,t=(n=arguments.length)<2?(e=r,r=0,1):n<3?1:+t;for(var i=-1,n=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(n);++i<n;)s[i]=r+i*t;return s}function NC(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function UF(r){return function(){return r}}function HF(r){return+r}var kw=[0,1];function $n(r){return r}function k0(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:UF(isNaN(e)?NaN:.5)}function XF(r,e){var t;return r>e&&(t=r,r=e,e=t),function(i){return Math.max(r,Math.min(e,i))}}function WF(r,e,t){var i=r[0],n=r[1],s=e[0],o=e[1];return n<i?(i=k0(n,i),s=t(o,s)):(i=k0(i,n),s=t(s,o)),function(a){return s(i(a))}}function YF(r,e,t){var i=Math.min(r.length,e.length)-1,n=new Array(i),s=new Array(i),o=-1;for(r[i]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++o<i;)n[o]=k0(r[o],r[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=FF(r,a,1,i)-1;return s[l](n[l](a))}}function zC(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function BC(){var r=kw,e=kw,t=Xv,i,n,s,o=$n,a,l,c;function d(){var h=Math.min(r.length,e.length);return o!==$n&&(o=XF(r[0],r[h-1])),a=h>2?YF:WF,l=c=null,u}function u(h){return h==null||isNaN(h=+h)?s:(l||(l=a(r.map(i),e,t)))(i(o(h)))}return u.invert=function(h){return o(n((c||(c=a(e,r.map(i),Pn)))(h)))},u.domain=function(h){return arguments.length?(r=Array.from(h,HF),d()):r.slice()},u.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},u.rangeRound=function(h){return e=Array.from(h),t=pR,d()},u.clamp=function(h){return arguments.length?(o=h?!0:$n,d()):o!==$n},u.interpolate=function(h){return arguments.length?(t=h,d()):t},u.unknown=function(h){return arguments.length?(s=h,u):s},function(h,f){return i=h,n=f,d()}}function qF(){return BC()($n,$n)}function ZF(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function $h(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,i=r.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+r.slice(t+1)]}function Pl(r){return r=$h(Math.abs(r)),r?r[1]:NaN}function KF(r,e){return function(t,i){for(var n=t.length,s=[],o=0,a=r[0],l=0;n>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(n-=a,n+a)),!((l+=a+1)>i));)a=r[o=(o+1)%r.length];return s.reverse().join(e)}}function JF(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var QF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(r){if(!(e=QF.exec(r)))throw new Error("invalid format: "+r);var e;return new Yv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ef.prototype=Yv.prototype;function Yv(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}Yv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $F(r){e:for(var e=r.length,t=1,i=-1,n;t<e;++t)switch(r[t]){case".":i=n=t;break;case"0":i===0&&(i=t),n=t;break;default:if(!+r[t])break e;i>0&&(i=0);break}return i>0?r.slice(0,i)+r.slice(n+1):r}var jC;function eN(r,e){var t=$h(r,e);if(!t)return r+"";var i=t[0],n=t[1],s=n-(jC=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+$h(r,Math.max(0,e+s-1))[0]}function Ew(r,e){var t=$h(r,e);if(!t)return r+"";var i=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}const Aw={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:ZF,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>Ew(r*100,e),r:Ew,s:eN,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function Ow(r){return r}var Iw=Array.prototype.map,Lw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tN(r){var e=r.grouping===void 0||r.thousands===void 0?Ow:KF(Iw.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",i=r.currency===void 0?"":r.currency[1]+"",n=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?Ow:JF(Iw.call(r.numerals,String)),o=r.percent===void 0?"%":r.percent+"",a=r.minus===void 0?"":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function c(u){u=ef(u);var h=u.fill,f=u.align,m=u.sign,p=u.symbol,g=u.zero,v=u.width,b=u.comma,S=u.precision,_=u.trim,x=u.type;x==="n"?(b=!0,x="g"):Aw[x]||(S===void 0&&(S=12),_=!0,x="g"),(g||h==="0"&&f==="=")&&(g=!0,h="0",f="=");var I=p==="$"?t:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=p==="$"?i:/[%p]/.test(x)?o:"",O=Aw[x],E=/[defgprs%]/.test(x);S=S===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function w(X){var H=I,Y=T,k,D,M;if(x==="c")Y=O(X)+Y,X="";else{X=+X;var L=X<0||1/X<0;if(X=isNaN(X)?l:O(Math.abs(X),S),_&&(X=$F(X)),L&&+X==0&&m!=="+"&&(L=!1),H=(L?m==="("?m:a:m==="-"||m==="("?"":m)+H,Y=(x==="s"?Lw[8+jC/3]:"")+Y+(L&&m==="("?")":""),E){for(k=-1,D=X.length;++k<D;)if(M=X.charCodeAt(k),48>M||M>57){Y=(M===46?n+X.slice(k+1):X.slice(k))+Y,X=X.slice(0,k);break}}}b&&!g&&(X=e(X,1/0));var J=H.length+X.length+Y.length,ce=J<v?new Array(v-J+1).join(h):"";switch(b&&g&&(X=e(ce+X,ce.length?v-Y.length:1/0),ce=""),f){case"<":X=H+X+Y+ce;break;case"=":X=H+ce+X+Y;break;case"^":X=ce.slice(0,J=ce.length>>1)+H+X+Y+ce.slice(J);break;default:X=ce+H+X+Y;break}return s(X)}return w.toString=function(){return u+""},w}function d(u,h){var f=c((u=ef(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(Pl(h)/3)))*3,p=Math.pow(10,-m),g=Lw[8+m/3];return function(v){return f(p*v)+g}}return{format:c,formatPrefix:d}}var Qu,GC,VC;iN({thousands:",",grouping:[3],currency:["$",""]});function iN(r){return Qu=tN(r),GC=Qu.format,VC=Qu.formatPrefix,Qu}function rN(r){return Math.max(0,-Pl(Math.abs(r)))}function nN(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pl(e)/3)))*3-Pl(Math.abs(r)))}function sN(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,Pl(e)-Pl(r))+1}function oN(r,e,t,i){var n=GF(r,e,t),s;switch(i=ef(i==null?",f":i),i.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(e));return i.precision==null&&!isNaN(s=nN(n,o))&&(i.precision=s),VC(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=sN(n,Math.max(Math.abs(r),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=rN(n))&&(i.precision=s-(i.type==="%")*2);break}}return GC(i)}function UC(r){var e=r.domain;return r.ticks=function(t){var i=e();return jF(i[0],i[i.length-1],t==null?10:t)},r.tickFormat=function(t,i){var n=e();return oN(n[0],n[n.length-1],t==null?10:t,i)},r.nice=function(t){t==null&&(t=10);var i=e(),n=0,s=i.length-1,o=i[n],a=i[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=n,n=s,s=c);d-- >0;){if(c=C0(o,a,t),c===l)return i[n]=o,i[s]=a,e(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return r},r}function sd(){var r=qF();return r.copy=function(){return zC(r,sd())},NC.apply(r,arguments),UC(r)}function Pw(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function aN(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function lN(r){return r<0?-r*r:r*r}function cN(r){var e=r($n,$n),t=1;function i(){return t===1?r($n,$n):t===.5?r(aN,lN):r(Pw(t),Pw(1/t))}return e.exponent=function(n){return arguments.length?(t=+n,i()):t},UC(e)}function HC(){var r=cN(BC());return r.copy=function(){return zC(r,HC()).exponent(r.exponent())},NC.apply(r,arguments),r}const kg=new Date,Eg=new Date;function ls(r,e,t,i){function n(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return n.floor=s=>(r(s=new Date(+s)),s),n.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),n.round=s=>{const o=n(s),a=n.ceil(s);return s-o<a-s?o:a},n.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),n.range=(s,o,a)=>{const l=[];if(s=n.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),r(s);while(c<s&&s<o);return l},n.filter=s=>ls(o=>{if(o>=o)for(;r(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),t&&(n.count=(s,o)=>(kg.setTime(+s),Eg.setTime(+o),r(kg),r(Eg),Math.floor(t(kg,Eg))),n.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?n.filter(i?o=>i(o)%s===0:o=>n.count(0,o)%s===0):n)),n}const dN=1e3,qv=dN*60,uN=qv*60,od=uN*24,XC=od*7,Zv=ls(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*qv)/od,r=>r.getDate()-1);Zv.range;const Kv=ls(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/od,r=>r.getUTCDate()-1);Kv.range;const hN=ls(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/od,r=>Math.floor(r/od));hN.range;function _a(r){return ls(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qv)/XC)}const WC=_a(0),tf=_a(1),fN=_a(2),mN=_a(3),Dl=_a(4),pN=_a(5),gN=_a(6);WC.range;tf.range;fN.range;mN.range;Dl.range;pN.range;gN.range;function ya(r){return ls(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/XC)}const YC=ya(0),rf=ya(1),vN=ya(2),_N=ya(3),Ml=ya(4),yN=ya(5),bN=ya(6);YC.range;rf.range;vN.range;_N.range;Ml.range;yN.range;bN.range;const ha=ls(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());ha.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ls(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});ha.range;const fa=ls(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());fa.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ls(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});fa.range;function Ag(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Og(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function bc(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function xN(r){var e=r.dateTime,t=r.date,i=r.time,n=r.periods,s=r.days,o=r.shortDays,a=r.months,l=r.shortMonths,c=xc(n),d=wc(n),u=xc(s),h=wc(s),f=xc(o),m=wc(o),p=xc(a),g=wc(a),v=xc(l),b=wc(l),S={a:L,A:J,b:ce,B:te,c:null,d:zw,e:zw,f:HN,g:e7,G:i7,H:GN,I:VN,j:UN,L:qC,m:XN,M:WN,p:et,q:ot,Q:Gw,s:Vw,S:YN,u:qN,U:ZN,V:KN,w:JN,W:QN,x:null,X:null,y:$N,Y:t7,Z:r7,"%":jw},_={a:Ot,A:gt,b:je,B:At,c:null,d:Bw,e:Bw,f:a7,g:v7,G:y7,H:n7,I:s7,j:o7,L:KC,m:l7,M:c7,p:It,q:de,Q:Gw,s:Vw,S:d7,u:u7,U:h7,V:f7,w:m7,W:p7,x:null,X:null,y:g7,Y:_7,Z:b7,"%":jw},x={a:w,A:X,b:H,B:Y,c:k,d:Fw,e:Fw,f:NN,g:Rw,G:Mw,H:Nw,I:Nw,j:DN,L:FN,m:PN,M:MN,p:E,q:LN,Q:BN,s:jN,S:RN,u:kN,U:EN,V:AN,w:CN,W:ON,x:D,X:M,y:Rw,Y:Mw,Z:IN,"%":zN};S.x=I(t,S),S.X=I(i,S),S.c=I(e,S),_.x=I(t,_),_.X=I(i,_),_.c=I(e,_);function I(pe,He){return function(dt){var Oe=[],Gt=-1,ei=0,rt=pe.length,_t,vi,Si;for(dt instanceof Date||(dt=new Date(+dt));++Gt<rt;)pe.charCodeAt(Gt)===37&&(Oe.push(pe.slice(ei,Gt)),(vi=Dw[_t=pe.charAt(++Gt)])!=null?_t=pe.charAt(++Gt):vi=_t==="e"?" ":"0",(Si=He[_t])&&(_t=Si(dt,vi)),Oe.push(_t),ei=Gt+1);return Oe.push(pe.slice(ei,Gt)),Oe.join("")}}function T(pe,He){return function(dt){var Oe=bc(1900,void 0,1),Gt=O(Oe,pe,dt+="",0),ei,rt;if(Gt!=dt.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(Oe.s*1e3+("L"in Oe?Oe.L:0));if(He&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+Oe.p*12),Oe.m===void 0&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(ei=Og(bc(Oe.y,0,1)),rt=ei.getUTCDay(),ei=rt>4||rt===0?rf.ceil(ei):rf(ei),ei=Kv.offset(ei,(Oe.V-1)*7),Oe.y=ei.getUTCFullYear(),Oe.m=ei.getUTCMonth(),Oe.d=ei.getUTCDate()+(Oe.w+6)%7):(ei=Ag(bc(Oe.y,0,1)),rt=ei.getDay(),ei=rt>4||rt===0?tf.ceil(ei):tf(ei),ei=Zv.offset(ei,(Oe.V-1)*7),Oe.y=ei.getFullYear(),Oe.m=ei.getMonth(),Oe.d=ei.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),rt="Z"in Oe?Og(bc(Oe.y,0,1)).getUTCDay():Ag(bc(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+Oe.W*7-(rt+5)%7:Oe.w+Oe.U*7-(rt+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,Og(Oe)):Ag(Oe)}}function O(pe,He,dt,Oe){for(var Gt=0,ei=He.length,rt=dt.length,_t,vi;Gt<ei;){if(Oe>=rt)return-1;if(_t=He.charCodeAt(Gt++),_t===37){if(_t=He.charAt(Gt++),vi=x[_t in Dw?He.charAt(Gt++):_t],!vi||(Oe=vi(pe,dt,Oe))<0)return-1}else if(_t!=dt.charCodeAt(Oe++))return-1}return Oe}function E(pe,He,dt){var Oe=c.exec(He.slice(dt));return Oe?(pe.p=d.get(Oe[0].toLowerCase()),dt+Oe[0].length):-1}function w(pe,He,dt){var Oe=f.exec(He.slice(dt));return Oe?(pe.w=m.get(Oe[0].toLowerCase()),dt+Oe[0].length):-1}function X(pe,He,dt){var Oe=u.exec(He.slice(dt));return Oe?(pe.w=h.get(Oe[0].toLowerCase()),dt+Oe[0].length):-1}function H(pe,He,dt){var Oe=v.exec(He.slice(dt));return Oe?(pe.m=b.get(Oe[0].toLowerCase()),dt+Oe[0].length):-1}function Y(pe,He,dt){var Oe=p.exec(He.slice(dt));return Oe?(pe.m=g.get(Oe[0].toLowerCase()),dt+Oe[0].length):-1}function k(pe,He,dt){return O(pe,e,He,dt)}function D(pe,He,dt){return O(pe,t,He,dt)}function M(pe,He,dt){return O(pe,i,He,dt)}function L(pe){return o[pe.getDay()]}function J(pe){return s[pe.getDay()]}function ce(pe){return l[pe.getMonth()]}function te(pe){return a[pe.getMonth()]}function et(pe){return n[+(pe.getHours()>=12)]}function ot(pe){return 1+~~(pe.getMonth()/3)}function Ot(pe){return o[pe.getUTCDay()]}function gt(pe){return s[pe.getUTCDay()]}function je(pe){return l[pe.getUTCMonth()]}function At(pe){return a[pe.getUTCMonth()]}function It(pe){return n[+(pe.getUTCHours()>=12)]}function de(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var He=I(pe+="",S);return He.toString=function(){return pe},He},parse:function(pe){var He=T(pe+="",!1);return He.toString=function(){return pe},He},utcFormat:function(pe){var He=I(pe+="",_);return He.toString=function(){return pe},He},utcParse:function(pe){var He=T(pe+="",!0);return He.toString=function(){return pe},He}}}var Dw={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,wN=/^%/,SN=/[\\^$*+?|[\]().{}]/g;function ui(r,e,t){var i=r<0?"-":"",n=(i?-r:r)+"",s=n.length;return i+(s<t?new Array(t-s+1).join(e)+n:n)}function TN(r){return r.replace(SN,"\\$&")}function xc(r){return new RegExp("^(?:"+r.map(TN).join("|")+")","i")}function wc(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function CN(r,e,t){var i=xr.exec(e.slice(t,t+1));return i?(r.w=+i[0],t+i[0].length):-1}function kN(r,e,t){var i=xr.exec(e.slice(t,t+1));return i?(r.u=+i[0],t+i[0].length):-1}function EN(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.U=+i[0],t+i[0].length):-1}function AN(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.V=+i[0],t+i[0].length):-1}function ON(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.W=+i[0],t+i[0].length):-1}function Mw(r,e,t){var i=xr.exec(e.slice(t,t+4));return i?(r.y=+i[0],t+i[0].length):-1}function Rw(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function IN(r,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(r.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function LN(r,e,t){var i=xr.exec(e.slice(t,t+1));return i?(r.q=i[0]*3-3,t+i[0].length):-1}function PN(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.m=i[0]-1,t+i[0].length):-1}function Fw(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.d=+i[0],t+i[0].length):-1}function DN(r,e,t){var i=xr.exec(e.slice(t,t+3));return i?(r.m=0,r.d=+i[0],t+i[0].length):-1}function Nw(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.H=+i[0],t+i[0].length):-1}function MN(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.M=+i[0],t+i[0].length):-1}function RN(r,e,t){var i=xr.exec(e.slice(t,t+2));return i?(r.S=+i[0],t+i[0].length):-1}function FN(r,e,t){var i=xr.exec(e.slice(t,t+3));return i?(r.L=+i[0],t+i[0].length):-1}function NN(r,e,t){var i=xr.exec(e.slice(t,t+6));return i?(r.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function zN(r,e,t){var i=wN.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function BN(r,e,t){var i=xr.exec(e.slice(t));return i?(r.Q=+i[0],t+i[0].length):-1}function jN(r,e,t){var i=xr.exec(e.slice(t));return i?(r.s=+i[0],t+i[0].length):-1}function zw(r,e){return ui(r.getDate(),e,2)}function GN(r,e){return ui(r.getHours(),e,2)}function VN(r,e){return ui(r.getHours()%12||12,e,2)}function UN(r,e){return ui(1+Zv.count(ha(r),r),e,3)}function qC(r,e){return ui(r.getMilliseconds(),e,3)}function HN(r,e){return qC(r,e)+"000"}function XN(r,e){return ui(r.getMonth()+1,e,2)}function WN(r,e){return ui(r.getMinutes(),e,2)}function YN(r,e){return ui(r.getSeconds(),e,2)}function qN(r){var e=r.getDay();return e===0?7:e}function ZN(r,e){return ui(WC.count(ha(r)-1,r),e,2)}function ZC(r){var e=r.getDay();return e>=4||e===0?Dl(r):Dl.ceil(r)}function KN(r,e){return r=ZC(r),ui(Dl.count(ha(r),r)+(ha(r).getDay()===4),e,2)}function JN(r){return r.getDay()}function QN(r,e){return ui(tf.count(ha(r)-1,r),e,2)}function $N(r,e){return ui(r.getFullYear()%100,e,2)}function e7(r,e){return r=ZC(r),ui(r.getFullYear()%100,e,2)}function t7(r,e){return ui(r.getFullYear()%1e4,e,4)}function i7(r,e){var t=r.getDay();return r=t>=4||t===0?Dl(r):Dl.ceil(r),ui(r.getFullYear()%1e4,e,4)}function r7(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ui(e/60|0,"0",2)+ui(e%60,"0",2)}function Bw(r,e){return ui(r.getUTCDate(),e,2)}function n7(r,e){return ui(r.getUTCHours(),e,2)}function s7(r,e){return ui(r.getUTCHours()%12||12,e,2)}function o7(r,e){return ui(1+Kv.count(fa(r),r),e,3)}function KC(r,e){return ui(r.getUTCMilliseconds(),e,3)}function a7(r,e){return KC(r,e)+"000"}function l7(r,e){return ui(r.getUTCMonth()+1,e,2)}function c7(r,e){return ui(r.getUTCMinutes(),e,2)}function d7(r,e){return ui(r.getUTCSeconds(),e,2)}function u7(r){var e=r.getUTCDay();return e===0?7:e}function h7(r,e){return ui(YC.count(fa(r)-1,r),e,2)}function JC(r){var e=r.getUTCDay();return e>=4||e===0?Ml(r):Ml.ceil(r)}function f7(r,e){return r=JC(r),ui(Ml.count(fa(r),r)+(fa(r).getUTCDay()===4),e,2)}function m7(r){return r.getUTCDay()}function p7(r,e){return ui(rf.count(fa(r)-1,r),e,2)}function g7(r,e){return ui(r.getUTCFullYear()%100,e,2)}function v7(r,e){return r=JC(r),ui(r.getUTCFullYear()%100,e,2)}function _7(r,e){return ui(r.getUTCFullYear()%1e4,e,4)}function y7(r,e){var t=r.getUTCDay();return r=t>=4||t===0?Ml(r):Ml.ceil(r),ui(r.getUTCFullYear()%1e4,e,4)}function b7(){return"+0000"}function jw(){return"%"}function Gw(r){return+r}function Vw(r){return Math.floor(+r/1e3)}var Wa,Ns;x7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x7(r){return Wa=xN(r),Ns=Wa.format,Wa.parse,Wa.utcFormat,Wa.utcParse,Wa}var Uw=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function w7(){var r=new Uw(9);return Uw!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Hw(r,e,t){var i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=t[0],f=t[1];return r[0]=i,r[1]=n,r[2]=s,r[3]=o,r[4]=a,r[5]=l,r[6]=h*i+f*o+c,r[7]=h*n+f*a+d,r[8]=h*s+f*l+u,r}function Ig(r,e,t){var i=t[0],n=t[1];return r[0]=i*e[0],r[1]=i*e[1],r[2]=i*e[2],r[3]=n*e[3],r[4]=n*e[4],r[5]=n*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function S7(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var Jv={exports:{}};Jv.exports;(function(r){(function(e,t,i){function n(l){var c=this,d=a();c.next=function(){var u=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=u-(c.c=u|0)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var d=new n(l),u=c&&c.state,h=d.next;return h.int32=function(){return d.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,u&&(typeof u=="object"&&s(u,d),h.state=function(){return s(d,{})}),h}function a(){var l=4022871197,c=function(d){d=String(d);for(var u=0;u<d.length;u++){l+=d.charCodeAt(u);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:this.alea=o})(Xi,r)})(Jv);var T7=Jv.exports,Qv={exports:{}};Qv.exports;(function(r){(function(e,t,i){function n(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var u=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^u^u>>>8},a===(a|0)?l.x=a:c+=a;for(var d=0;d<c.length+64;d++)l.x^=c.charCodeAt(d)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new n(a),d=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},u.int32=c.next,u.quick=u,d&&(typeof d=="object"&&s(d,c),u.state=function(){return s(c,{})}),u}t&&t.exports?t.exports=o:this.xor128=o})(Xi,r)})(Qv);var C7=Qv.exports,$v={exports:{}};$v.exports;(function(r){(function(e,t,i){function n(a){var l=this,c="";l.next=function(){var u=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(u^u<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var d=0;d<c.length+64;d++)l.x^=c.charCodeAt(d)|0,d==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new n(a),d=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},u.int32=c.next,u.quick=u,d&&(typeof d=="object"&&s(d,c),u.state=function(){return s(c,{})}),u}t&&t.exports?t.exports=o:this.xorwow=o})(Xi,r)})($v);var k7=$v.exports,e_={exports:{}};e_.exports;(function(r){(function(e,t,i){function n(a){var l=this;l.next=function(){var d=l.x,u=l.i,h,f;return h=d[u],h^=h>>>7,f=h^h<<24,h=d[u+1&7],f^=h^h>>>10,h=d[u+3&7],f^=h^h>>>3,h=d[u+4&7],f^=h^h<<7,h=d[u+7&7],h=h^h<<13,f^=h^h<<9,d[u]=f,l.i=u+1&7,f};function c(d,u){var h,f=[];if(u===(u|0))f[0]=u;else for(u=""+u,h=0;h<u.length;++h)f[h&7]=f[h&7]<<15^u.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],d.x=f,d.i=0,h=256;h>0;--h)d.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new n(a),d=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},u.int32=c.next,u.quick=u,d&&(d.x&&s(d,c),u.state=function(){return s(c,{})}),u}t&&t.exports?t.exports=o:this.xorshift7=o})(Xi,r)})(e_);var E7=e_.exports,t_={exports:{}};t_.exports;(function(r){(function(e,t,i){function n(a){var l=this;l.next=function(){var d=l.w,u=l.X,h=l.i,f,m;return l.w=d=d+1640531527|0,m=u[h+34&127],f=u[h=h+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,m=u[h]=m^f,l.i=h,m+(d^d>>>16)|0};function c(d,u){var h,f,m,p,g,v=[],b=128;for(u===(u|0)?(f=u,u=null):(u=u+"\0",f=0,b=Math.max(b,u.length)),m=0,p=-32;p<b;++p)u&&(f^=u.charCodeAt((p+32)%u.length)),p===0&&(g=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,p>=0&&(g=g+1640531527|0,h=v[p&127]^=f+g,m=h==0?m+1:0);for(m>=128&&(v[(u&&u.length||0)&127]=-1),m=127,p=4*128;p>0;--p)f=v[m+34&127],h=v[m=m+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,v[m]=f^h;d.w=g,d.X=v,d.i=m}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new n(a),d=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},u.int32=c.next,u.quick=u,d&&(d.X&&s(d,c),u.state=function(){return s(c,{})}),u}t&&t.exports?t.exports=o:this.xor4096=o})(Xi,r)})(t_);var A7=t_.exports,i_={exports:{}};i_.exports;(function(r){(function(e,t,i){function n(a){var l=this,c="";l.next=function(){var u=l.b,h=l.c,f=l.d,m=l.a;return u=u<<25^u>>>7^h,h=h-f|0,f=f<<24^f>>>8^m,m=m-u|0,l.b=u=u<<20^u>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^m,l.a=m-u|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var d=0;d<c.length+20;d++)l.b^=c.charCodeAt(d)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new n(a),d=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,m=(h+f)/(1<<21);while(m===0);return m},u.int32=c.next,u.quick=u,d&&(typeof d=="object"&&s(d,c),u.state=function(){return s(c,{})}),u}t&&t.exports?t.exports=o:this.tychei=o})(Xi,r)})(i_);var O7=i_.exports,QC={exports:{}};const I7={},L7=Object.freeze(Object.defineProperty({__proto__:null,default:I7},Symbol.toStringTag,{value:"Module"})),P7=ET(L7);(function(r){(function(e,t,i){var n=256,s=6,o=52,a="random",l=i.pow(n,s),c=i.pow(2,o),d=c*2,u=n-1,h;function f(_,x,I){var T=[];x=x==!0?{entropy:!0}:x||{};var O=v(g(x.entropy?[_,S(t)]:_==null?b():_,3),T),E=new m(T),w=function(){for(var X=E.g(s),H=l,Y=0;X<c;)X=(X+Y)*n,H*=n,Y=E.g(1);for(;X>=d;)X/=2,H/=2,Y>>>=1;return(X+Y)/H};return w.int32=function(){return E.g(4)|0},w.quick=function(){return E.g(4)/4294967296},w.double=w,v(S(E.S),t),(x.pass||I||function(X,H,Y,k){return k&&(k.S&&p(k,E),X.state=function(){return p(E,{})}),Y?(i[a]=X,H):X})(w,O,"global"in x?x.global:this==i,x.state)}function m(_){var x,I=_.length,T=this,O=0,E=T.i=T.j=0,w=T.S=[];for(I||(_=[I++]);O<n;)w[O]=O++;for(O=0;O<n;O++)w[O]=w[E=u&E+_[O%I]+(x=w[O])],w[E]=x;(T.g=function(X){for(var H,Y=0,k=T.i,D=T.j,M=T.S;X--;)H=M[k=u&k+1],Y=Y*n+M[u&(M[k]=M[D=u&D+H])+(M[D]=H)];return T.i=k,T.j=D,Y})(n)}function p(_,x){return x.i=_.i,x.j=_.j,x.S=_.S.slice(),x}function g(_,x){var I=[],T=typeof _,O;if(x&&T=="object")for(O in _)try{I.push(g(_[O],x-1))}catch(E){}return I.length?I:T=="string"?_:_+"\0"}function v(_,x){for(var I=_+"",T,O=0;O<I.length;)x[u&O]=u&(T^=x[u&O]*19)+I.charCodeAt(O++);return S(x)}function b(){try{var _;return h&&(_=h.randomBytes)?_=_(n):(_=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(_)),S(_)}catch(T){var x=e.navigator,I=x&&x.plugins;return[+new Date,e,I,e.screen,S(t)]}}function S(_){return String.fromCharCode.apply(0,_)}if(v(i.random(),t),r.exports){r.exports=f;try{h=P7}catch(_){}}else i["seed"+a]=f})(typeof self!="undefined"?self:Xi,[],Math)})(QC);var D7=QC.exports,M7=T7,R7=C7,F7=k7,N7=E7,z7=A7,B7=O7,ba=D7;ba.alea=M7;ba.xor128=R7;ba.xorwow=F7;ba.xorshift7=N7;ba.xor4096=z7;ba.tychei=B7;var j7=ba;const G7=Sv(j7);function V7(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,H7(i.key),i)}}function r_(r,e,t){return e&&V7(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function $C(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,E0(r,e)}function E0(r,e){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},E0(r,e)}function U7(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function H7(r){var e=U7(r,"string");return typeof e=="symbol"?e:String(e)}var Df=function(){function r(){}var e=r.prototype;return e._seed=function(i,n){if(i===(i||0))return i;for(var s=""+i,o=0,a=0;a<s.length;++a)o^=s.charCodeAt(a)|0;return o},r}(),Xw=function(r){$C(e,r);function e(i,n){var s;return s=r.call(this)||this,s._rng=void 0,s.seed(i,n),s}var t=e.prototype;return t.next=function(){return this._rng()},t.seed=function(n,s){this._rng=n},t.clone=function(n,s){return new e(this._rng,s)},r_(e,[{key:"name",get:function(){return"function"}}]),e}(Df),Ww=function(){var r=[].slice.call(arguments),e=r,t=e[0],i=t===void 0?"default":t;switch(typeof i){case"object":if(i instanceof Df)return i;break;case"function":return new Xw(i);case"number":case"string":default:return new Xw(G7.apply(void 0,r))}throw new Error('invalid RNG "'+i+'"')},X7=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),function(){return r.next()*(t-e)+e}};function jn(r){return new W7(r)}var W7=function(e){var t=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(t.n))return t;throw new Error("Expected number to be an integer, got "+t.n)},this.isPositive=function(){if(t.n>0)return t;throw new Error("Expected number to be positive, got "+t.n)},this.lessThan=function(i){if(t.n<i)return t;throw new Error("Expected number to be less than "+i+", got "+t.n)},this.greaterThanOrEqual=function(i){if(t.n>=i)return t;throw new Error("Expected number to be greater than or equal to "+i+", got "+t.n)},this.greaterThan=function(i){if(t.n>i)return t;throw new Error("Expected number to be greater than "+i+", got "+t.n)},this.n=e},Y7=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),t===void 0&&(t=e===void 0?1:e,e=0),jn(e).isInt(),jn(t).isInt(),function(){return Math.floor(r.next()*(t-e+1)+e)}},q7=function(r){return function(){return r.next()>=.5}},Z7=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),function(){var i,n,s;do i=r.next()*2-1,n=r.next()*2-1,s=i*i+n*n;while(!s||s>1);return e+t*n*Math.sqrt(-2*Math.log(s)/s)}},K7=function(r,e,t){e===void 0&&(e=0),t===void 0&&(t=1);var i=r.normal(e,t);return function(){return Math.exp(i())}},J7=function(r,e){return e===void 0&&(e=.5),jn(e).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(r.next()+e)}},Q7=function(r,e,t){return e===void 0&&(e=1),t===void 0&&(t=.5),jn(e).isInt().isPositive(),jn(t).greaterThanOrEqual(0).lessThan(1),function(){for(var i=0,n=0;i++<e;)r.next()<t&&n++;return n}},$7=function(r,e){e===void 0&&(e=.5),jn(e).greaterThan(0).lessThan(1);var t=1/Math.log(1-e);return function(){return Math.floor(1+Math.log(r.next())*t)}},e8=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],t8=function(e){return e8[e]},i8=.9189385332046727,r8=function(r,e){if(e===void 0&&(e=1),jn(e).isPositive(),e<10){var t=Math.exp(-e);return function(){for(var l=t,c=0,d=r.next();d>l;)d=d-l,l=e*l/++c;return c}}else{var i=Math.sqrt(e),n=.931+2.53*i,s=-.059+.02483*n,o=1.1239+1.1328/(n-3.4),a=.9277-3.6224/(n-2);return function(){for(;;){var l=void 0,c=r.next();if(c<=.86*a)return l=c/a-.43,Math.floor((2*s/(.5-Math.abs(l))+n)*l+e+.445);c>=a?l=r.next()-.5:(l=c/a-.93,l=(l<0?-.5:.5)-l,c=r.next()*a);var d=.5-Math.abs(l);if(!(d<.013&&c>d)){var u=Math.floor((2*s/d+n)*l+e+.445);if(c=c*o/(s/(d*d)+n),u>=10){var h=(u+.5)*Math.log(e/u)-e-i8+u-(.08333333333333333-(.002777777777777778-1/(1260*u*u))/(u*u))/u;if(Math.log(c*i)<=h)return u}else if(u>=0){var f,m=(f=t8(u))!=null?f:0;if(Math.log(c)<=u*Math.log(e)-e-m)return u}}}}}},n8=function(r,e){return e===void 0&&(e=1),jn(e).isPositive(),function(){return-Math.log(1-r.next())/e}},s8=function(r,e){return e===void 0&&(e=1),jn(e).isInt().greaterThanOrEqual(0),function(){for(var t=0,i=0;i<e;++i)t+=r.next();return t}},o8=function(r,e){e===void 0&&(e=1),jn(e).isInt().isPositive();var t=r.irwinHall(e);return function(){return t()/e}},a8=function(r,e){e===void 0&&(e=1),jn(e).greaterThanOrEqual(0);var t=1/e;return function(){return 1/Math.pow(1-r.next(),t)}},l8=function(r){$C(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.next=function(){return Math.random()},t.seed=function(n,s){},t.clone=function(){return new e},r_(e,[{key:"name",get:function(){return"default"}}]),e}(Df),ek=function(){function r(t){var i=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return i._rng.next()},this.float=function(n,s){return i.uniform(n,s)()},this.int=function(n,s){return i.uniformInt(n,s)()},this.integer=function(n,s){return i.uniformInt(n,s)()},this.bool=function(){return i.uniformBoolean()()},this.boolean=function(){return i.uniformBoolean()()},this.uniform=function(n,s){return i._memoize("uniform",X7,n,s)},this.uniformInt=function(n,s){return i._memoize("uniformInt",Y7,n,s)},this.uniformBoolean=function(){return i._memoize("uniformBoolean",q7)},this.normal=function(n,s){return Z7(i,n,s)},this.logNormal=function(n,s){return K7(i,n,s)},this.bernoulli=function(n){return J7(i,n)},this.binomial=function(n,s){return Q7(i,n,s)},this.geometric=function(n){return $7(i,n)},this.poisson=function(n){return r8(i,n)},this.exponential=function(n){return n8(i,n)},this.irwinHall=function(n){return s8(i,n)},this.bates=function(n){return o8(i,n)},this.pareto=function(n){return a8(i,n)},t&&t instanceof Df?this.use(t):this.use(new l8),this._cache={}}var e=r.prototype;return e.clone=function(){var i=[].slice.call(arguments);return i.length?new r(Ww.apply(void 0,i)):new r(this.rng.clone())},e.use=function(){this._rng=Ww.apply(void 0,[].slice.call(arguments))},e.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},e.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},e.choice=function(i){if(!Array.isArray(i))throw new Error("Random.choice expected input to be an array, got "+typeof i);var n=i==null?void 0:i.length;if(n>0){var s=this.uniformInt(0,n-1)();return i[s]}else return},e._memoize=function(i,n){var s=[].slice.call(arguments,2),o=""+s.join(";"),a=this._cache[i];return(a===void 0||a.key!==o)&&(a={key:o,distribution:n.apply(void 0,[this].concat(s))},this._cache[i]=a),a.distribution},r_(r,[{key:"rng",get:function(){return this._rng}}]),r}();new ek;const A0={capture:!0,passive:!1};function O0(r){r.preventDefault(),r.stopImmediatePropagation()}function c8(r){var e=r.document.documentElement,t=Zn(r).on("dragstart.drag",O0,A0);"onselectstart"in e?t.on("selectstart.drag",O0,A0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function d8(r,e){var t=r.document.documentElement,i=Zn(r).on("dragstart.drag",null);e&&(i.on("click.drag",O0,A0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const $u=r=>()=>r;function u8(r,{sourceEvent:e,target:t,transform:i,dispatch:n}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:n}})}function ks(r,e,t){this.k=r,this.x=e,this.y=t}ks.prototype={constructor:ks,scale:function(r){return r===1?this:new ks(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new ks(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Uc=new ks(1,0,0);ks.prototype;function Lg(r){r.stopImmediatePropagation()}function Sc(r){r.preventDefault(),r.stopImmediatePropagation()}function h8(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function f8(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function Yw(){return this.__zoom||Uc}function m8(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function p8(){return navigator.maxTouchPoints||"ontouchstart"in this}function g8(r,e,t){var i=r.invertX(e[0][0])-t[0][0],n=r.invertX(e[1][0])-t[1][0],s=r.invertY(e[0][1])-t[0][1],o=r.invertY(e[1][1])-t[1][1];return r.translate(n>i?(i+n)/2:Math.min(0,i)||Math.max(0,n),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function v8(){var r=h8,e=f8,t=g8,i=m8,n=p8,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=SR,c=Tf("start","zoom","end"),d,u,h,f=500,m=150,p=0,g=10;function v(k){k.property("__zoom",Yw).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",w).filter(n).on("touchstart.zoom",X).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(k,D,M,L){var J=k.selection?k.selection():k;J.property("__zoom",Yw),k!==J?x(k,D,M,L):J.interrupt().each(function(){I(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(k,D,M,L){v.scaleTo(k,function(){var J=this.__zoom.k,ce=typeof D=="function"?D.apply(this,arguments):D;return J*ce},M,L)},v.scaleTo=function(k,D,M,L){v.transform(k,function(){var J=e.apply(this,arguments),ce=this.__zoom,te=M==null?_(J):typeof M=="function"?M.apply(this,arguments):M,et=ce.invert(te),ot=typeof D=="function"?D.apply(this,arguments):D;return t(S(b(ce,ot),te,et),J,o)},M,L)},v.translateBy=function(k,D,M,L){v.transform(k,function(){return t(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof M=="function"?M.apply(this,arguments):M),e.apply(this,arguments),o)},null,L)},v.translateTo=function(k,D,M,L,J){v.transform(k,function(){var ce=e.apply(this,arguments),te=this.__zoom,et=L==null?_(ce):typeof L=="function"?L.apply(this,arguments):L;return t(Uc.translate(et[0],et[1]).scale(te.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof M=="function"?-M.apply(this,arguments):-M),ce,o)},L,J)};function b(k,D){return D=Math.max(s[0],Math.min(s[1],D)),D===k.k?k:new ks(D,k.x,k.y)}function S(k,D,M){var L=D[0]-M[0]*k.k,J=D[1]-M[1]*k.k;return L===k.x&&J===k.y?k:new ks(k.k,L,J)}function _(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function x(k,D,M,L){k.on("start.zoom",function(){I(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(L).end()}).tween("zoom",function(){var J=this,ce=arguments,te=I(J,ce).event(L),et=e.apply(J,ce),ot=M==null?_(et):typeof M=="function"?M.apply(J,ce):M,Ot=Math.max(et[1][0]-et[0][0],et[1][1]-et[0][1]),gt=J.__zoom,je=typeof D=="function"?D.apply(J,ce):D,At=l(gt.invert(ot).concat(Ot/gt.k),je.invert(ot).concat(Ot/je.k));return function(It){if(It===1)It=je;else{var de=At(It),pe=Ot/de[2];It=new ks(pe,ot[0]-de[0]*pe,ot[1]-de[1]*pe)}te.zoom(null,It)}})}function I(k,D,M){return!M&&k.__zooming||new T(k,D)}function T(k,D){this.that=k,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,D),this.taps=0}T.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,D){return this.mouse&&k!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var D=Zn(this.that).datum();c.call(k,this.that,new u8(k,{sourceEvent:this.sourceEvent,target:v,type:k,transform:this.that.__zoom,dispatch:c}),D)}};function O(k,...D){if(!r.apply(this,arguments))return;var M=I(this,D).event(k),L=this.__zoom,J=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,i.apply(this,arguments)))),ce=Ho(k);if(M.wheel)(M.mouse[0][0]!==ce[0]||M.mouse[0][1]!==ce[1])&&(M.mouse[1]=L.invert(M.mouse[0]=ce)),clearTimeout(M.wheel);else{if(L.k===J)return;M.mouse=[ce,L.invert(ce)],_h(this),M.start()}Sc(k),M.wheel=setTimeout(te,m),M.zoom("mouse",t(S(b(L,J),M.mouse[0],M.mouse[1]),M.extent,o));function te(){M.wheel=null,M.end()}}function E(k,...D){if(h||!r.apply(this,arguments))return;var M=k.currentTarget,L=I(this,D,!0).event(k),J=Zn(k.view).on("mousemove.zoom",ot,!0).on("mouseup.zoom",Ot,!0),ce=Ho(k,M),te=k.clientX,et=k.clientY;c8(k.view),Lg(k),L.mouse=[ce,this.__zoom.invert(ce)],_h(this),L.start();function ot(gt){if(Sc(gt),!L.moved){var je=gt.clientX-te,At=gt.clientY-et;L.moved=je*je+At*At>p}L.event(gt).zoom("mouse",t(S(L.that.__zoom,L.mouse[0]=Ho(gt,M),L.mouse[1]),L.extent,o))}function Ot(gt){J.on("mousemove.zoom mouseup.zoom",null),d8(gt.view,L.moved),Sc(gt),L.event(gt).end()}}function w(k,...D){if(r.apply(this,arguments)){var M=this.__zoom,L=Ho(k.changedTouches?k.changedTouches[0]:k,this),J=M.invert(L),ce=M.k*(k.shiftKey?.5:2),te=t(S(b(M,ce),L,J),e.apply(this,D),o);Sc(k),a>0?Zn(this).transition().duration(a).call(x,te,L,k):Zn(this).call(v.transform,te,L,k)}}function X(k,...D){if(r.apply(this,arguments)){var M=k.touches,L=M.length,J=I(this,D,k.changedTouches.length===L).event(k),ce,te,et,ot;for(Lg(k),te=0;te<L;++te)et=M[te],ot=Ho(et,this),ot=[ot,this.__zoom.invert(ot),et.identifier],J.touch0?!J.touch1&&J.touch0[2]!==ot[2]&&(J.touch1=ot,J.taps=0):(J.touch0=ot,ce=!0,J.taps=1+!!d);d&&(d=clearTimeout(d)),ce&&(J.taps<2&&(u=ot[0],d=setTimeout(function(){d=null},f)),_h(this),J.start())}}function H(k,...D){if(this.__zooming){var M=I(this,D).event(k),L=k.changedTouches,J=L.length,ce,te,et,ot;for(Sc(k),ce=0;ce<J;++ce)te=L[ce],et=Ho(te,this),M.touch0&&M.touch0[2]===te.identifier?M.touch0[0]=et:M.touch1&&M.touch1[2]===te.identifier&&(M.touch1[0]=et);if(te=M.that.__zoom,M.touch1){var Ot=M.touch0[0],gt=M.touch0[1],je=M.touch1[0],At=M.touch1[1],It=(It=je[0]-Ot[0])*It+(It=je[1]-Ot[1])*It,de=(de=At[0]-gt[0])*de+(de=At[1]-gt[1])*de;te=b(te,Math.sqrt(It/de)),et=[(Ot[0]+je[0])/2,(Ot[1]+je[1])/2],ot=[(gt[0]+At[0])/2,(gt[1]+At[1])/2]}else if(M.touch0)et=M.touch0[0],ot=M.touch0[1];else return;M.zoom("touch",t(S(te,et,ot),M.extent,o))}}function Y(k,...D){if(this.__zooming){var M=I(this,D).event(k),L=k.changedTouches,J=L.length,ce,te;for(Lg(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),ce=0;ce<J;++ce)te=L[ce],M.touch0&&M.touch0[2]===te.identifier?delete M.touch0:M.touch1&&M.touch1[2]===te.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(te=Ho(te,this),Math.hypot(u[0]-te[0],u[1]-te[1])<g)){var et=Zn(this).on("dblclick.zoom");et&&et.apply(this,arguments)}}}return v.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:$u(+k),v):i},v.filter=function(k){return arguments.length?(r=typeof k=="function"?k:$u(!!k),v):r},v.touchable=function(k){return arguments.length?(n=typeof k=="function"?k:$u(!!k),v):n},v.extent=function(k){return arguments.length?(e=typeof k=="function"?k:$u([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),v):e},v.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],v):[s[0],s[1]]},v.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(k){return arguments.length?(t=k,v):t},v.duration=function(k){return arguments.length?(a=+k,v):a},v.interpolate=function(k){return arguments.length?(l=k,v):l},v.on=function(){var k=c.on.apply(c,arguments);return k===c?v:k},v.clickDistance=function(k){return arguments.length?(p=(k=+k)*k,v):Math.sqrt(p)},v.tapDistance=function(k){return arguments.length?(g=+k,v):g},v}const tk="#b3b3b3",_8=.1,ik=4,rk="#666666",y8=.1,nk=1,b8="#222222",Ut={disableSimulation:!1,spaceSize:4096,nodeSizeScale:1,linkWidthScale:1,arrowSizeScale:1,renderLinks:!0,curvedLinks:!1,curvedLinkSegments:19,curvedLinkWeight:.8,curvedLinkControlPointDistance:.5,arrowLinks:!0,linkVisibilityDistanceRange:[50,150],linkVisibilityMinTransparency:.25,hoveredNodeRingColor:"white",focusedNodeRingColor:"white",useQuadtree:!1,simulation:{decay:1e3,gravity:0,center:0,repulsion:.1,repulsionTheta:1.7,repulsionQuadtreeLevels:12,linkSpring:1,linkDistance:2,linkDistRandomVariationRange:[1,1.2],repulsionFromMouse:2,friction:.85},showFPSMonitor:!1,pixelRatio:2,scaleNodesOnZoom:!0,disableZoom:!1,fitViewOnInit:!0,fitViewDelay:250,nodeSamplingDistance:150},x8=.7,w8=.95,qw=3,sk=r=>typeof r=="function",ok=r=>Array.isArray(r),S8=r=>r instanceof Object,T8=r=>r instanceof Object?r.constructor.name!=="Function"&&r.constructor.name!=="Object":!1,Zw=r=>S8(r)&&!ok(r)&&!sk(r)&&!T8(r);function Hc(r,e,t){return sk(e)?e(r,t):e}function Rl(r){var e;let t;if(ok(r))t=r;else{const i=Ps(r),n=i==null?void 0:i.rgb();t=[(n==null?void 0:n.r)||0,(n==null?void 0:n.g)||0,(n==null?void 0:n.b)||0,(e=i==null?void 0:i.opacity)!==null&&e!==void 0?e:1]}return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function uo(r,e){let t=new Float32Array;return r({framebuffer:e})(()=>{t=r.read()}),t}function C8(r,e,t){return Math.min(Math.max(r,e),t)}class k8{constructor(){this.disableSimulation=Ut.disableSimulation,this.backgroundColor=b8,this.spaceSize=Ut.spaceSize,this.nodeColor=tk,this.nodeGreyoutOpacity=_8,this.nodeSize=ik,this.nodeSizeScale=Ut.nodeSizeScale,this.renderHighlightedNodeRing=!0,this.highlightedNodeRingColor=void 0,this.renderHoveredNodeRing=!0,this.hoveredNodeRingColor=Ut.hoveredNodeRingColor,this.focusedNodeRingColor=Ut.focusedNodeRingColor,this.linkColor=rk,this.linkGreyoutOpacity=y8,this.linkWidth=nk,this.linkWidthScale=Ut.linkWidthScale,this.renderLinks=Ut.renderLinks,this.curvedLinks=Ut.curvedLinks,this.curvedLinkSegments=Ut.curvedLinkSegments,this.curvedLinkWeight=Ut.curvedLinkWeight,this.curvedLinkControlPointDistance=Ut.curvedLinkControlPointDistance,this.linkArrows=Ut.arrowLinks,this.linkArrowsSizeScale=Ut.arrowSizeScale,this.linkVisibilityDistanceRange=Ut.linkVisibilityDistanceRange,this.linkVisibilityMinTransparency=Ut.linkVisibilityMinTransparency,this.useQuadtree=Ut.useQuadtree,this.simulation={decay:Ut.simulation.decay,gravity:Ut.simulation.gravity,center:Ut.simulation.center,repulsion:Ut.simulation.repulsion,repulsionTheta:Ut.simulation.repulsionTheta,repulsionQuadtreeLevels:Ut.simulation.repulsionQuadtreeLevels,linkSpring:Ut.simulation.linkSpring,linkDistance:Ut.simulation.linkDistance,linkDistRandomVariationRange:Ut.simulation.linkDistRandomVariationRange,repulsionFromMouse:Ut.simulation.repulsionFromMouse,friction:Ut.simulation.friction,onStart:void 0,onTick:void 0,onEnd:void 0,onPause:void 0,onRestart:void 0},this.events={onClick:void 0,onMouseMove:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onZoomStart:void 0,onZoom:void 0,onZoomEnd:void 0},this.showFPSMonitor=Ut.showFPSMonitor,this.pixelRatio=Ut.pixelRatio,this.scaleNodesOnZoom=Ut.scaleNodesOnZoom,this.initialZoomLevel=void 0,this.disableZoom=Ut.disableZoom,this.fitViewOnInit=Ut.fitViewOnInit,this.fitViewDelay=Ut.fitViewDelay,this.fitViewByNodesInRect=void 0,this.randomSeed=void 0,this.nodeSamplingDistance=Ut.nodeSamplingDistance}init(e){Object.keys(e).forEach(t=>{this.deepMergeConfig(this.getConfig(),e,t)})}deepMergeConfig(e,t,i){Zw(e[i])&&Zw(t[i])?Object.keys(t[i]).forEach(n=>{this.deepMergeConfig(e[i],t[i],n)}):e[i]=t[i]}getConfig(){return this}}class ko{constructor(e,t,i,n,s){this.reglInstance=e,this.config=t,this.store=i,this.data=n,s&&(this.points=s)}}var E8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,A8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.xy,1.0,0.0);gl_Position=vec4(0.0,0.0,0.0,1.0);gl_PointSize=1.0;}`,O8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D centermass;uniform float center;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec4 centermassValues=texture2D(centermass,vec2(0.0));vec2 centermassPosition=centermassValues.xy/centermassValues.b;vec2 distVector=centermassPosition-pointPosition.xy;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*center*dist*0.01;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;function Sr(r){return{buffer:r.buffer(new Float32Array([-1,-1,1,-1,-1,1,1,1])),size:2}}function vl(r,e){const t=new Float32Array(e*e*2);for(let n=0;n<e;n++)for(let s=0;s<e;s++){const o=n*e*2+s*2;t[o+0]=s,t[o+1]=n}return{buffer:r.buffer(t),size:2}}function Hi(r){var e;r&&!((e=r==null?void 0:r._framebuffer)===null||e===void 0)&&e.framebuffer&&r.destroy()}function eh(r){var e;r&&!((e=r==null?void 0:r._buffer)===null||e===void 0)&&e.buffer&&r.destroy()}var Fl=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;void main(){gl_FragColor=vec4(0.0);}`,Lr=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 quad;varying vec2 index;void main(){index=(quad+1.0)/2.0;gl_Position=vec4(quad,0,1);}`;class I8 extends ko{create(){const{reglInstance:e}=this;this.centermassFbo=e.framebuffer({color:e.texture({data:new Float32Array(4).fill(0),shape:[1,1,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:i,data:n,points:s}=this;this.clearCentermassCommand=e({frag:Fl,vert:Lr,framebuffer:this.centermassFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)}}),this.calculateCentermassCommand=e({frag:E8,vert:A8,framebuffer:()=>this.centermassFbo,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:vl(e,i.pointsTextureSize)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,pointsTextureSize:()=>i.pointsTextureSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.runCommand=e({frag:O8,vert:Lr,framebuffer:()=>s==null?void 0:s.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,centermass:()=>this.centermassFbo,center:()=>{var o;return(o=t.simulation)===null||o===void 0?void 0:o.center},alpha:()=>i.alpha}})}run(){var e,t,i;(e=this.clearCentermassCommand)===null||e===void 0||e.call(this),(t=this.calculateCentermassCommand)===null||t===void 0||t.call(this),(i=this.runCommand)===null||i===void 0||i.call(this)}destroy(){Hi(this.centermassFbo)}}var L8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float gravity;uniform float spaceSize;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 centerPosition=vec2(spaceSize/2.0);vec2 distVector=centerPosition-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*gravity*dist*0.1;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;class P8 extends ko{initPrograms(){const{reglInstance:e,config:t,store:i,points:n}=this;this.runCommand=e({frag:L8,vert:Lr,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,gravity:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.gravity},spaceSize:()=>i.adjustedSpaceSize,alpha:()=>i.alpha}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}}function D8(r){return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform float linkSpring;
uniform float linkDistance;
uniform vec2 linkDistRandomVariationRange;

uniform sampler2D linkFirstIndicesAndAmount;
uniform sampler2D linkIndices;
uniform sampler2D linkBiasAndStrength;
uniform sampler2D linkRandomDistanceFbo;

uniform float pointsTextureSize;
uniform float linksTextureSize;
uniform float alpha;

varying vec2 index;

const float MAX_LINKS = ${r}.0;

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 velocity = vec4(0.0);

  vec4 linkFirstIJAndAmount = texture2D(linkFirstIndicesAndAmount, index);
  float iCount = linkFirstIJAndAmount.r;
  float jCount = linkFirstIJAndAmount.g;
  float linkAmount = linkFirstIJAndAmount.b;
  if (linkAmount > 0.0) {
    for (float i = 0.0; i < MAX_LINKS; i += 1.0) {
      if (i < linkAmount) {
        if (iCount >= linksTextureSize) {
          iCount = 0.0;
          jCount += 1.0;
        }
        vec2 linkTextureIndex = (vec2(iCount, jCount) + 0.5) / linksTextureSize;
        vec4 connectedPointIndex = texture2D(linkIndices, linkTextureIndex);
        vec4 biasAndStrength = texture2D(linkBiasAndStrength, linkTextureIndex);
        vec4 randomMinDistance = texture2D(linkRandomDistanceFbo, linkTextureIndex);
        float bias = biasAndStrength.r;
        float strength = biasAndStrength.g;
        float randomMinLinkDist = randomMinDistance.r * (linkDistRandomVariationRange.g - linkDistRandomVariationRange.r) + linkDistRandomVariationRange.r;
        randomMinLinkDist *= linkDistance;

        iCount += 1.0;

        vec4 connectedPointPosition = texture2D(position, (connectedPointIndex.rg + 0.5) / pointsTextureSize);
        float x = connectedPointPosition.x - (pointPosition.x + velocity.x);
        float y = connectedPointPosition.y - (pointPosition.y + velocity.y);
        float l = sqrt(x * x + y * y);
        l = max(l, randomMinLinkDist * 0.99);
        l = (l - randomMinLinkDist) / l;
        l *= linkSpring * alpha;
        l *= strength;
        l *= bias;
        x *= l;
        y *= l;
        velocity.x += x;
        velocity.y += y;
      }
    }
  }

  gl_FragColor = vec4(velocity.rg, 0.0, 0.0);
}
  `}var ad;(function(r){r.OUTGOING="outgoing",r.INCOMING="incoming"})(ad||(ad={}));class Kw extends ko{constructor(){super(...arguments),this.linkFirstIndicesAndAmount=new Float32Array,this.indices=new Float32Array,this.maxPointDegree=0}create(e){const{reglInstance:t,store:{pointsTextureSize:i,linksTextureSize:n},data:s}=this;if(!i||!n)return;this.linkFirstIndicesAndAmount=new Float32Array(i*i*4),this.indices=new Float32Array(n*n*4);const o=new Float32Array(n*n*4),a=new Float32Array(n*n*4),l=e===ad.INCOMING?s.groupedSourceToTargetLinks:s.groupedTargetToSourceLinks;this.maxPointDegree=0;let c=0;l.forEach((d,u)=>{this.linkFirstIndicesAndAmount[u*4+0]=c%n,this.linkFirstIndicesAndAmount[u*4+1]=Math.floor(c/n),this.linkFirstIndicesAndAmount[u*4+2]=d.size,d.forEach(h=>{var f,m;this.indices[c*4+0]=h%i,this.indices[c*4+1]=Math.floor(h/i);const p=(f=s.degree[s.getInputIndexBySortedIndex(h)])!==null&&f!==void 0?f:0,g=(m=s.degree[s.getInputIndexBySortedIndex(u)])!==null&&m!==void 0?m:0,v=p/(p+g);let b=1/Math.min(p,g);b=Math.sqrt(b),o[c*4+0]=v,o[c*4+1]=b,a[c*4]=this.store.getRandomFloat(0,1),c+=1}),this.maxPointDegree=Math.max(this.maxPointDegree,d.size)}),this.linkFirstIndicesAndAmountFbo=t.framebuffer({color:t.texture({data:this.linkFirstIndicesAndAmount,shape:[i,i,4],type:"float"}),depth:!1,stencil:!1}),this.indicesFbo=t.framebuffer({color:t.texture({data:this.indices,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1}),this.biasAndStrengthFbo=t.framebuffer({color:t.texture({data:o,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1}),this.randomDistanceFbo=t.framebuffer({color:t.texture({data:a,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:i,points:n}=this;this.runCommand=e({frag:()=>D8(this.maxPointDegree),vert:Lr,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,linkSpring:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.linkSpring},linkDistance:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.linkDistance},linkDistRandomVariationRange:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.linkDistRandomVariationRange},linkFirstIndicesAndAmount:()=>this.linkFirstIndicesAndAmountFbo,linkIndices:()=>this.indicesFbo,linkBiasAndStrength:()=>this.biasAndStrengthFbo,linkRandomDistanceFbo:()=>this.randomDistanceFbo,pointsTextureSize:()=>i.pointsTextureSize,linksTextureSize:()=>i.linksTextureSize,alpha:()=>i.alpha}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}destroy(){Hi(this.linkFirstIndicesAndAmountFbo),Hi(this.indicesFbo),Hi(this.biasAndStrengthFbo),Hi(this.randomDistanceFbo)}}var ak=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,lk=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float levelTextureSize;uniform float cellSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.rg,1.0,0.0);float n=floor(pointPosition.x/cellSize);float m=floor(pointPosition.y/cellSize);vec2 levelPosition=2.0*(vec2(n,m)+0.5)/levelTextureSize-1.0;gl_Position=vec4(levelPosition,0.0,1.0);gl_PointSize=1.0;}`,M8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform float level;uniform float levels;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;uniform float spaceSize;uniform float theta;varying vec2 index;const float MAX_LEVELS_NUM=14.0;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);float x=pointPosition.x;float y=pointPosition.y;float left=0.0;float top=0.0;float right=spaceSize;float bottom=spaceSize;float n_left=0.0;float n_top=0.0;float n_right=0.0;float n_bottom=0.0;float cellSize=0.0;for(float i=0.0;i<MAX_LEVELS_NUM;i+=1.0){if(i<=level){left+=cellSize*n_left;top+=cellSize*n_top;right-=cellSize*n_right;bottom-=cellSize*n_bottom;cellSize=pow(2.0,levels-i-1.0);float dist_left=x-left;n_left=max(0.0,floor(dist_left/cellSize-theta));float dist_top=y-top;n_top=max(0.0,floor(dist_top/cellSize-theta));float dist_right=right-x;n_right=max(0.0,floor(dist_right/cellSize-theta));float dist_bottom=bottom-y;n_bottom=max(0.0,floor(dist_bottom/cellSize-theta));}}vec4 velocity=vec4(vec2(0.0),1.0,0.0);for(float i=0.0;i<12.0;i+=1.0){for(float j=0.0;j<4.0;j+=1.0){float n=left+cellSize*j;float m=top+cellSize*n_top+cellSize*i;if(n<(left+n_left*cellSize)&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+cellSize*i;m=top+cellSize*j;if(n<(right-n_right*cellSize)&&m<(top+n_top*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=right-n_right*cellSize+cellSize*j;m=top+cellSize*i;if(n<right&&m<(bottom-n_bottom*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+n_left*cellSize+cellSize*i;m=bottom-n_bottom*cellSize+cellSize*j;if(n<right&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}}}gl_FragColor=velocity;}`,R8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform sampler2D randomValues;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;varying vec2 index;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);vec4 random=texture2D(randomValues,index);vec4 velocity=vec4(0.0);velocity.xy+=calcAdd(pointPosition.xy/levelTextureSize,pointPosition.xy);velocity.xy+=velocity.xy*random.rg;gl_FragColor=velocity;}`;class F8 extends ko{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){const{reglInstance:e,store:t}=this;if(!t.pointsTextureSize)return;this.quadtreeLevels=Math.log2(t.adjustedSpaceSize);for(let n=0;n<this.quadtreeLevels;n+=1){const s=Math.pow(2,n+1);this.levelsFbos.set(`level[${n}]`,e.framebuffer({shape:[s,s],colorType:"float",depth:!1,stencil:!1}))}const i=new Float32Array(t.pointsTextureSize*t.pointsTextureSize*4);for(let n=0;n<t.pointsTextureSize*t.pointsTextureSize;++n)i[n*4]=t.getRandomFloat(-1,1)*1e-5,i[n*4+1]=t.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=e.framebuffer({color:e.texture({data:i,shape:[t.pointsTextureSize,t.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:i,data:n,points:s}=this;this.clearLevelsCommand=e({frag:Fl,vert:Lr,framebuffer:(o,a)=>a.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)}}),this.calculateLevelsCommand=e({frag:ak,vert:lk,framebuffer:(o,a)=>a.levelFbo,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:vl(e,i.pointsTextureSize)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,pointsTextureSize:()=>i.pointsTextureSize,levelTextureSize:(o,a)=>a.levelTextureSize,cellSize:(o,a)=>a.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceCommand=e({frag:M8,vert:Lr,framebuffer:()=>s==null?void 0:s.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,level:(o,a)=>a.level,levels:this.quadtreeLevels,levelFbo:(o,a)=>a.levelFbo,levelTextureSize:(o,a)=>a.levelTextureSize,alpha:()=>i.alpha,repulsion:()=>{var o;return(o=t.simulation)===null||o===void 0?void 0:o.repulsion},spaceSize:()=>i.adjustedSpaceSize,theta:()=>{var o;return(o=t.simulation)===null||o===void 0?void 0:o.repulsionTheta}},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceFromItsOwnCentermassCommand=e({frag:R8,vert:Lr,framebuffer:()=>s==null?void 0:s.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,randomValues:()=>this.randomValuesFbo,levelFbo:(o,a)=>a.levelFbo,levelTextureSize:(o,a)=>a.levelTextureSize,alpha:()=>i.alpha,repulsion:()=>{var o;return(o=t.simulation)===null||o===void 0?void 0:o.repulsion},spaceSize:()=>i.adjustedSpaceSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.clearVelocityCommand=e({frag:Fl,vert:Lr,framebuffer:()=>s==null?void 0:s.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)}})}run(){var e,t,i,n,s;const{store:o}=this;for(let a=0;a<this.quadtreeLevels;a+=1){(e=this.clearLevelsCommand)===null||e===void 0||e.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`)});const l=Math.pow(2,a+1),c=o.adjustedSpaceSize/l;(t=this.calculateLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,cellSize:c})}(i=this.clearVelocityCommand)===null||i===void 0||i.call(this);for(let a=0;a<this.quadtreeLevels;a+=1){const l=Math.pow(2,a+1);(n=this.forceCommand)===null||n===void 0||n.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,level:a}),a===this.quadtreeLevels-1&&((s=this.forceFromItsOwnCentermassCommand)===null||s===void 0||s.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,level:a}))}}destroy(){Hi(this.randomValuesFbo),this.levelsFbos.forEach(e=>{Hi(e)}),this.levelsFbos.clear()}}function N8(r,e){r=Math.min(r,e);const t=e-r,i=`
    float dist = sqrt(l);
    if (dist > 0.0) {
      float c = alpha * repulsion * centermass.b;
      addVelocity += calcAdd(vec2(x, y), l, c);
      addVelocity += addVelocity * random.rg;
    }
  `;function n(s){if(s>=e)return i;{const o=Math.pow(2,s+1),a=new Array(s+1-t).fill(0).map((c,d)=>`pow(2.0, ${s-(d+t)}.0) * i${d+t}`).join("+"),l=new Array(s+1-t).fill(0).map((c,d)=>`pow(2.0, ${s-(d+t)}.0) * j${d+t}`).join("+");return`
      for (float ij${s} = 0.0; ij${s} < 4.0; ij${s} += 1.0) {
        float i${s} = 0.0;
        float j${s} = 0.0;
        if (ij${s} == 1.0 || ij${s} == 3.0) i${s} = 1.0;
        if (ij${s} == 2.0 || ij${s} == 3.0) j${s} = 1.0;
        float i = pow(2.0, ${r}.0) * n / width${s+1} + ${a};
        float j = pow(2.0, ${r}.0) * m / width${s+1} + ${l};
        float groupPosX = (i + 0.5) / ${o}.0;
        float groupPosY = (j + 0.5) / ${o}.0;
        
        vec4 centermass = texture2D(level[${s}], vec2(groupPosX, groupPosY));
        if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {
          float x = centermass.r / centermass.b - pointPosition.r;
          float y = centermass.g / centermass.b - pointPosition.g;
          float l = x * x + y * y;
          if ((width${s+1} * width${s+1}) / theta < l) {
            ${i}
          } else {
            ${n(s+1)}
          }
        }
      }
      `}}return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform sampler2D randomValues;
uniform float spaceSize;
uniform float repulsion;
uniform float theta;
uniform float alpha;
uniform sampler2D level[${e}];
varying vec2 index;

vec2 calcAdd(vec2 xy, float l, float c) {
  float distanceMin2 = 1.0;
  if (l < distanceMin2) l = sqrt(distanceMin2 * l);
  float add = c / l;
  return add * xy;
}

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 random = texture2D(randomValues, index);

  float width0 = spaceSize;

  vec2 velocity = vec2(0.0);
  vec2 addVelocity = vec2(0.0);

  ${new Array(e).fill(0).map((s,o)=>`float width${o+1} = width${o} / 2.0;`).join(`
`)}

  for (float n = 0.0; n < pow(2.0, ${t}.0); n += 1.0) {
    for (float m = 0.0; m < pow(2.0, ${t}.0); m += 1.0) {
      ${n(t)}
    }
  }

  velocity -= addVelocity;

  gl_FragColor = vec4(velocity, 0.0, 0.0);
}
`}class z8 extends ko{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){const{reglInstance:e,store:t}=this;if(!t.pointsTextureSize)return;this.quadtreeLevels=Math.log2(t.adjustedSpaceSize);for(let n=0;n<this.quadtreeLevels;n+=1){const s=Math.pow(2,n+1);this.levelsFbos.set(`level[${n}]`,e.framebuffer({color:e.texture({data:new Float32Array(s*s*4),shape:[s,s,4],type:"float"}),depth:!1,stencil:!1}))}const i=new Float32Array(t.pointsTextureSize*t.pointsTextureSize*4);for(let n=0;n<t.pointsTextureSize*t.pointsTextureSize;++n)i[n*4]=t.getRandomFloat(-1,1)*1e-5,i[n*4+1]=t.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=e.framebuffer({color:e.texture({data:i,shape:[t.pointsTextureSize,t.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){var e,t;const{reglInstance:i,config:n,store:s,data:o,points:a}=this;this.clearLevelsCommand=i({frag:Fl,vert:Lr,framebuffer:(l,c)=>c.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(i)}}),this.calculateLevelsCommand=i({frag:ak,vert:lk,framebuffer:(l,c)=>c.levelFbo,primitive:"points",count:()=>o.nodes.length,attributes:{indexes:vl(i,s.pointsTextureSize)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,pointsTextureSize:()=>s.pointsTextureSize,levelTextureSize:(l,c)=>c.levelTextureSize,cellSize:(l,c)=>c.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.quadtreeCommand=i({frag:N8((t=(e=n.simulation)===null||e===void 0?void 0:e.repulsionQuadtreeLevels)!==null&&t!==void 0?t:this.quadtreeLevels,this.quadtreeLevels),vert:Lr,framebuffer:()=>a==null?void 0:a.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(i)},uniforms:Ui({position:()=>a==null?void 0:a.previousPositionFbo,randomValues:()=>this.randomValuesFbo,spaceSize:()=>s.adjustedSpaceSize,repulsion:()=>{var l;return(l=n.simulation)===null||l===void 0?void 0:l.repulsion},theta:()=>{var l;return(l=n.simulation)===null||l===void 0?void 0:l.repulsionTheta},alpha:()=>s.alpha},Object.fromEntries(this.levelsFbos))})}run(){var e,t,i;const{store:n}=this;for(let s=0;s<this.quadtreeLevels;s+=1){(e=this.clearLevelsCommand)===null||e===void 0||e.call(this,{levelFbo:this.levelsFbos.get(`level[${s}]`)});const o=Math.pow(2,s+1),a=n.adjustedSpaceSize/o;(t=this.calculateLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${s}]`),levelTextureSize:o,cellSize:a})}(i=this.quadtreeCommand)===null||i===void 0||i.call(this)}destroy(){Hi(this.randomValuesFbo),this.levelsFbos.forEach(e=>{Hi(e)}),this.levelsFbos.clear()}}var B8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float repulsion;uniform vec2 mousePos;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 mouse=mousePos;vec2 distVector=mouse-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));dist=max(dist,10.0);float angle=atan(distVector.y,distVector.x);float addV=100.0*repulsion/(dist*dist);velocity.rg-=addV*vec2(cos(angle),sin(angle));gl_FragColor=velocity;}`;class j8 extends ko{initPrograms(){const{reglInstance:e,config:t,store:i,points:n}=this;this.runCommand=e({frag:B8,vert:Lr,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,mousePos:()=>i.mousePosition,repulsion:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.repulsionFromMouse}}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}}var G8=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ck={exports:{}};(function(r,e){(function(t,i){r.exports=i()})(G8,function(){var t=`<div class="gl-box">
  <svg viewBox="0 0 55 60">
    <text x="27" y="56" class="gl-fps">00 FPS</text>
    <text x="28" y="8" class="gl-mem"></text>
    <rect x="0" y="14" rx="4" ry="4" width="55" height="32"></rect>
    <polyline class="gl-chart"></polyline>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-cpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-cpu" stroke-dasharray="0 27"/>
    <path d="M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z"/>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-gpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-gpu" stroke-dasharray="0 27"/>
    <path d="M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z"/>
  </svg>
</div>`,i=`#gl-bench {
  position:absolute;
  left:0;
  top:0;
  z-index:1000;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

#gl-bench div {
  position: relative;
  display: block;
  margin: 4px;
  padding: 0 7px 0 10px;
  background: #6c6;
  border-radius: 15px;
  cursor: pointer;
  opacity: 0.9;
}

#gl-bench svg {
  height: 60px;
  margin: 0 -1px;
}

#gl-bench text {
  font-size: 12px;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: 700;
  dominant-baseline: middle;
  text-anchor: middle;
}

#gl-bench .gl-mem {
  font-size: 9px;
}

#gl-bench line {
  stroke-width: 5;
  stroke: #112211;
  stroke-linecap: round;
}

#gl-bench polyline {
  fill: none;
  stroke: #112211;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 3.5;
}

#gl-bench rect {
  fill: #448844;
}

#gl-bench .opacity {
  stroke: #448844;
}
`;class n{constructor(o,a={}){this.css=i,this.svg=t,this.paramLogger=()=>{},this.chartLogger=()=>{},this.chartLen=20,this.chartHz=20,this.names=[],this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=new Array(this.chartLen),this.now=()=>performance&&performance.now?performance.now():Date.now(),this.updateUI=()=>{[].forEach.call(this.nodes["gl-gpu-svg"],h=>{h.style.display=this.trackGPU?"inline":"none"})},Object.assign(this,a),this.detected=0,this.finished=[],this.isFramebuffer=0,this.frameId=0;let l,c=0,d,u=h=>{++c<20?l=requestAnimationFrame(u):(this.detected=Math.ceil(1e3*c/(h-d)/70),cancelAnimationFrame(l)),d||(d=h)};if(requestAnimationFrame(u),o){const h=(m,p)=>le(this,null,function*(){return Promise.resolve(setTimeout(()=>{o.getError();const g=this.now()-m;p.forEach((v,b)=>{v&&(this.gpuAccums[b]+=g)})},0))}),f=(m,p,g)=>function(){const v=p.now();m.apply(g,arguments),p.trackGPU&&p.finished.push(h(v,p.activeAccums.slice(0)))};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(m=>{o[m]&&(o[m]=f(o[m],this,o))}),o.getExtension=((m,p)=>function(){let g=m.apply(o,arguments);return g&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(v=>{g[v]&&(g[v]=f(g[v],p,g))}),g})(o.getExtension,this)}if(!this.withoutUI){this.dom||(this.dom=document.body);let h=document.createElement("div");h.id="gl-bench",this.dom.appendChild(h),this.dom.insertAdjacentHTML("afterbegin",'<style id="gl-bench-style">'+this.css+"</style>"),this.dom=h,this.dom.addEventListener("click",()=>{this.trackGPU=!this.trackGPU,this.updateUI()}),this.paramLogger=((f,m,p)=>{const g=["gl-cpu","gl-gpu","gl-mem","gl-fps","gl-gpu-svg","gl-chart"],v=Object.assign({},g);return g.forEach(b=>v[b]=m.getElementsByClassName(b)),this.nodes=v,(b,S,_,x,I,T,O)=>{v["gl-cpu"][b].style.strokeDasharray=(S*.27).toFixed(0)+" 100",v["gl-gpu"][b].style.strokeDasharray=(_*.27).toFixed(0)+" 100",v["gl-mem"][b].innerHTML=p[b]?p[b]:x?"mem: "+x.toFixed(0)+"mb":"",v["gl-fps"][b].innerHTML=I.toFixed(0)+" FPS",f(p[b],S,_,x,I,T,O)}})(this.paramLogger,this.dom,this.names),this.chartLogger=((f,m)=>{let p={"gl-chart":m.getElementsByClassName("gl-chart")};return(g,v,b)=>{let S="",_=v.length;for(let x=0;x<_;x++){let I=(b+x+1)%_;v[I]!=null&&(S=S+" "+(55*x/(_-1)).toFixed(1)+","+(45-v[I]*22/60/this.detected).toFixed(1))}p["gl-chart"][g].setAttribute("points",S),f(this.names[g],v,b)}})(this.chartLogger,this.dom)}}addUI(o){this.names.indexOf(o)==-1&&(this.names.push(o),this.dom&&(this.dom.insertAdjacentHTML("beforeend",this.svg),this.updateUI()),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(o){this.frameId++;const a=o||this.now();if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=a;else{let l=a-this.paramTime;if(l>=1e3){const c=this.frameId-this.paramFrame,d=c/l*1e3;for(let u=0;u<this.names.length;u++){const h=this.cpuAccums[u]/l*100,f=this.gpuAccums[u]/l*100,m=performance&&performance.memory?performance.memory.usedJSHeapSize/(1<<20):0;this.paramLogger(u,h,f,m,d,l,c),this.cpuAccums[u]=0,Promise.all(this.finished).then(()=>{this.gpuAccums[u]=0,this.finished=[]})}this.paramFrame=this.frameId,this.paramTime=a}}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=a,this.circularId=0;else{let l=a-this.chartTime,c=this.chartHz*l/1e3;for(;--c>0&&this.detected;){const u=(this.frameId-this.chartFrame)/l*1e3;this.chart[this.circularId%this.chartLen]=u;for(let h=0;h<this.names.length;h++)this.chartLogger(h,this.chart,this.circularId);this.circularId++,this.chartFrame=this.frameId,this.chartTime=a}}}begin(o){this.updateAccums(o)}end(o){this.updateAccums(o)}updateAccums(o){let a=this.names.indexOf(o);a==-1&&(a=this.names.length,this.addUI(o));const l=this.now(),c=l-this.t0;for(let d=0;d<a+1;d++)this.activeAccums[d]&&(this.cpuAccums[d]+=c);this.activeAccums[a]=!this.activeAccums[a],this.t0=l}}return n})})(ck);var V8=ck.exports;const U8=`
  #gl-bench {
    position:absolute;
    right:0;
    top:0;
    z-index:1000;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  #gl-bench div {
    position: relative;
    display: block;
    margin: 4px;
    padding: 0 7px 0 10px;
    background: #5f69de;
    border-radius: 15px;
    cursor: pointer;
    opacity: 0.9;
  }
  #gl-bench svg {
    height: 60px;
    margin: 0 -1px;
  }
  #gl-bench text {
    font-size: 12px;
    font-family: Helvetica,Arial,sans-serif;
    font-weight: 700;
    dominant-baseline: middle;
    text-anchor: middle;
  }
  #gl-bench .gl-mem {
    font-size: 9px;
  }
  #gl-bench line {
    stroke-width: 5;
    stroke: #112211;
    stroke-linecap: round;
  }
  #gl-bench polyline {
    fill: none;
    stroke: #112211;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 3.5;
  }
  #gl-bench rect {
    fill: #8288e4;
  }
  #gl-bench .opacity {
    stroke: #8288e4;
  }
`;class Jw{constructor(e){this.destroy();const t=e.getContext("webgl")||e.getContext("experimental-webgl");this.bench=new V8(t,{css:U8})}begin(){var e;(e=this.bench)===null||e===void 0||e.begin("frame")}end(e){var t,i;(t=this.bench)===null||t===void 0||t.end("frame"),(i=this.bench)===null||i===void 0||i.nextFrame(e)}destroy(){this.bench=void 0,Zn("#gl-bench").remove()}}class H8{constructor(){this.completeLinks=new Set,this.degree=[],this.groupedSourceToTargetLinks=new Map,this.groupedTargetToSourceLinks=new Map,this._nodes=[],this._links=[],this.idToNodeMap=new Map,this.sortedIndexToInputIndexMap=new Map,this.inputIndexToSortedIndexMap=new Map,this.idToSortedIndexMap=new Map,this.inputIndexToIdMap=new Map,this.idToIndegreeMap=new Map,this.idToOutdegreeMap=new Map}get nodes(){return this._nodes}get links(){return this._links}get linksNumber(){return this.completeLinks.size}setData(e,t){this.idToNodeMap.clear(),this.idToSortedIndexMap.clear(),this.inputIndexToIdMap.clear(),this.idToIndegreeMap.clear(),this.idToOutdegreeMap.clear(),e.forEach((n,s)=>{this.idToNodeMap.set(n.id,n),this.inputIndexToIdMap.set(s,n.id),this.idToIndegreeMap.set(n.id,0),this.idToOutdegreeMap.set(n.id,0)}),this.completeLinks.clear(),t.forEach(n=>{const s=this.idToNodeMap.get(n.source),o=this.idToNodeMap.get(n.target);if(s!==void 0&&o!==void 0){this.completeLinks.add(n);const a=this.idToOutdegreeMap.get(s.id);a!==void 0&&this.idToOutdegreeMap.set(s.id,a+1);const l=this.idToIndegreeMap.get(o.id);l!==void 0&&this.idToIndegreeMap.set(o.id,l+1)}}),this.degree=new Array(e.length),e.forEach((n,s)=>{const o=this.idToOutdegreeMap.get(n.id),a=this.idToIndegreeMap.get(n.id);this.degree[s]=(o!=null?o:0)+(a!=null?a:0)}),this.sortedIndexToInputIndexMap.clear(),this.inputIndexToSortedIndexMap.clear(),Object.entries(this.degree).sort((n,s)=>n[1]-s[1]).forEach(([n],s)=>{const o=+n;this.sortedIndexToInputIndexMap.set(s,o),this.inputIndexToSortedIndexMap.set(o,s),this.idToSortedIndexMap.set(this.inputIndexToIdMap.get(o),s)}),this.groupedSourceToTargetLinks.clear(),this.groupedTargetToSourceLinks.clear(),t.forEach(n=>{const s=this.idToSortedIndexMap.get(n.source),o=this.idToSortedIndexMap.get(n.target);if(s!==void 0&&o!==void 0){this.groupedSourceToTargetLinks.get(s)===void 0&&this.groupedSourceToTargetLinks.set(s,new Set);const a=this.groupedSourceToTargetLinks.get(s);a==null||a.add(o),this.groupedTargetToSourceLinks.get(o)===void 0&&this.groupedTargetToSourceLinks.set(o,new Set);const l=this.groupedTargetToSourceLinks.get(o);l==null||l.add(s)}}),this._nodes=e,this._links=t}getNodeById(e){return this.idToNodeMap.get(e)}getNodeByIndex(e){return this._nodes[e]}getSortedIndexByInputIndex(e){return this.inputIndexToSortedIndexMap.get(e)}getInputIndexBySortedIndex(e){return this.sortedIndexToInputIndexMap.get(e)}getSortedIndexById(e){return e!==void 0?this.idToSortedIndexMap.get(e):void 0}getInputIndexById(e){if(e===void 0)return;const t=this.getSortedIndexById(e);if(t!==void 0)return this.getInputIndexBySortedIndex(t)}getAdjacentNodes(e){var t,i;const n=this.getSortedIndexById(e);if(n===void 0)return;const s=(t=this.groupedSourceToTargetLinks.get(n))!==null&&t!==void 0?t:[],o=(i=this.groupedTargetToSourceLinks.get(n))!==null&&i!==void 0?i:[];return[...new Set([...s,...o])].map(a=>this.getNodeByIndex(this.getInputIndexBySortedIndex(a)))}}var X8=`precision highp float;
#define GLSLIFY 1
varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float useArrow;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}void main(){float opacity=1.0;vec3 color=rgbaColor.rgb;float smoothDelta=smoothWidthRatio/2.0;if(useArrow>0.5){float end_arrow=0.5+arrowLength/2.0;float start_arrow=end_arrow-arrowLength;float arrowWidthDelta=linkWidthArrowWidthRatio/2.0;float linkOpacity=rgbaColor.a*smoothstep(0.5-arrowWidthDelta,0.5-arrowWidthDelta-smoothDelta,abs(pos.y));float arrowOpacity=1.0;if(pos.x>start_arrow&&pos.x<start_arrow+arrowLength){float xmapped=map(pos.x,start_arrow,end_arrow,0.0,1.0);arrowOpacity=rgbaColor.a*smoothstep(xmapped-smoothDelta,xmapped,map(abs(pos.y),0.5,0.0,0.0,1.0));if(linkOpacity!=arrowOpacity){linkOpacity+=arrowOpacity;}}opacity=linkOpacity;}else opacity=rgbaColor.a*smoothstep(0.5,0.5-smoothDelta,abs(pos.y));gl_FragColor=vec4(color,opacity);}`,W8=`precision highp float;
#define GLSLIFY 1
attribute vec2 position,pointA,pointB;attribute vec4 color;attribute float width;attribute float arrow;uniform sampler2D positions;uniform sampler2D particleGreyoutStatus;uniform mat3 transform;uniform float pointsTextureSize;uniform float widthScale;uniform float nodeSizeScale;uniform float arrowSizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform vec2 linkVisibilityDistanceRange;uniform float linkVisibilityMinTransparency;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;uniform float curvedWeight;uniform float curvedLinkControlPointDistance;uniform float curvedLinkSegments;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float useArrow;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}vec2 conicParametricCurve(vec2 A,vec2 B,vec2 ControlPoint,float t,float w){vec2 divident=(1.0-t)*(1.0-t)*A+2.0*(1.0-t)*t*w*ControlPoint+t*t*B;float divisor=(1.0-t)*(1.0-t)+2.0*(1.0-t)*t*w+t*t;return divident/divisor;}void main(){pos=position;vec2 pointTexturePosA=(pointA+0.5)/pointsTextureSize;vec2 pointTexturePosB=(pointB+0.5)/pointsTextureSize;vec4 greyoutStatusA=texture2D(particleGreyoutStatus,pointTexturePosA);vec4 greyoutStatusB=texture2D(particleGreyoutStatus,pointTexturePosB);vec4 pointPositionA=texture2D(positions,pointTexturePosA);vec4 pointPositionB=texture2D(positions,pointTexturePosB);vec2 a=pointPositionA.xy;vec2 b=pointPositionB.xy;vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));float linkDist=length(xBasis);float h=curvedLinkControlPointDistance;vec2 controlPoint=(a+b)/2.0+yBasis*linkDist*h;float linkDistPx=linkDist*transform[0][0];float linkWidth=width*widthScale;float k=2.0;float arrowWidth=max(5.0,linkWidth*k);arrowWidth*=arrowSizeScale;float arrowWidthPx=arrowWidth/transform[0][0];arrowLength=min(0.3,(0.866*arrowWidthPx*2.0)/linkDist);float smoothWidth=2.0;float arrowExtraWidth=arrowWidth-linkWidth;linkWidth+=smoothWidth/2.0;useArrow=arrow;if(useArrow>0.5){linkWidth+=arrowExtraWidth;}smoothWidthRatio=smoothWidth/linkWidth;linkWidthArrowWidthRatio=arrowExtraWidth/linkWidth;float linkWidthPx=linkWidth/transform[0][0];vec3 rgbColor=color.rgb;float opacity=color.a*max(linkVisibilityMinTransparency,map(linkDistPx,linkVisibilityDistanceRange.g,linkVisibilityDistanceRange.r,0.0,1.0));if(greyoutStatusA.r>0.0||greyoutStatusB.r>0.0){opacity*=greyoutOpacity;}rgbaColor=vec4(rgbColor,opacity);float t=position.x;float w=curvedWeight;float tPrev=t-1.0/curvedLinkSegments;float tNext=t+1.0/curvedLinkSegments;vec2 pointCurr=conicParametricCurve(a,b,controlPoint,t,w);vec2 pointPrev=conicParametricCurve(a,b,controlPoint,max(0.0,tPrev),w);vec2 pointNext=conicParametricCurve(a,b,controlPoint,min(tNext,1.0),w);vec2 xBasisCurved=pointNext-pointPrev;vec2 yBasisCurved=normalize(vec2(-xBasisCurved.y,xBasisCurved.x));pointCurr+=yBasisCurved*linkWidthPx*position.y;vec2 p=2.0*pointCurr/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`;const Y8=r=>{const e=HC().exponent(2).range([0,1]).domain([-1,1]),t=VF(0,r).map(n=>-.5+n/r);t.push(.5);const i=new Array(t.length*2);return t.forEach((n,s)=>{i[s*2]=[e(n*2),.5],i[s*2+1]=[e(n*2),-.5]}),i};class q8 extends ko{create(){this.updateColor(),this.updateWidth(),this.updateArrow(),this.updateCurveLineGeometry()}initPrograms(){const{reglInstance:e,config:t,store:i,data:n,points:s}=this,{pointsTextureSize:o}=i,a=[];n.completeLinks.forEach(c=>{const d=n.getSortedIndexById(c.target),u=n.getSortedIndexById(c.source),h=u%o,f=Math.floor(u/o),m=d%o,p=Math.floor(d/o);a.push([h,f]),a.push([m,p])});const l=e.buffer(a);this.drawCurveCommand=e({vert:W8,frag:X8,attributes:{position:{buffer:()=>this.curveLineBuffer,divisor:0},pointA:{buffer:()=>l,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},pointB:{buffer:()=>l,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*2,stride:Float32Array.BYTES_PER_ELEMENT*4},color:{buffer:()=>this.colorBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},width:{buffer:()=>this.widthBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1},arrow:{buffer:()=>this.arrowBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1}},uniforms:{positions:()=>s==null?void 0:s.currentPositionFbo,particleGreyoutStatus:()=>s==null?void 0:s.greyoutStatusFbo,transform:()=>i.transform,pointsTextureSize:()=>i.pointsTextureSize,nodeSizeScale:()=>t.nodeSizeScale,widthScale:()=>t.linkWidthScale,arrowSizeScale:()=>t.linkArrowsSizeScale,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize,ratio:()=>t.pixelRatio,linkVisibilityDistanceRange:()=>t.linkVisibilityDistanceRange,linkVisibilityMinTransparency:()=>t.linkVisibilityMinTransparency,greyoutOpacity:()=>t.linkGreyoutOpacity,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,curvedWeight:()=>t.curvedLinkWeight,curvedLinkControlPointDistance:()=>t.curvedLinkControlPointDistance,curvedLinkSegments:()=>{var c;return t.curvedLinks?(c=t.curvedLinkSegments)!==null&&c!==void 0?c:Ut.curvedLinkSegments:1}},cull:{enable:!0,face:"back"},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},count:()=>{var c,d;return(d=(c=this.curveLineGeometry)===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0},instances:()=>n.linksNumber,primitive:"triangle strip"})}draw(){var e;!this.colorBuffer||!this.widthBuffer||!this.curveLineBuffer||(e=this.drawCurveCommand)===null||e===void 0||e.call(this)}updateColor(){const{reglInstance:e,config:t,data:i}=this,n=[];i.completeLinks.forEach(s=>{var o;const a=(o=Hc(s,t.linkColor))!==null&&o!==void 0?o:rk,l=Rl(a);n.push(l)}),this.colorBuffer=e.buffer(n)}updateWidth(){const{reglInstance:e,config:t,data:i}=this,n=[];i.completeLinks.forEach(s=>{const o=Hc(s,t.linkWidth);n.push([o!=null?o:nk])}),this.widthBuffer=e.buffer(n)}updateArrow(){const{reglInstance:e,config:t,data:i}=this,n=[];i.completeLinks.forEach(s=>{var o;const a=(o=Hc(s,t.linkArrows))!==null&&o!==void 0?o:Ut.arrowLinks;n.push([a?1:0])}),this.arrowBuffer=e.buffer(n)}updateCurveLineGeometry(){const{reglInstance:e,config:{curvedLinks:t,curvedLinkSegments:i}}=this;this.curveLineGeometry=Y8(t?i!=null?i:Ut.curvedLinkSegments:1),this.curveLineBuffer=e.buffer(this.curveLineGeometry)}destroy(){eh(this.colorBuffer),eh(this.widthBuffer),eh(this.arrowBuffer),eh(this.curveLineBuffer)}}function Z8(r,e,t,i){var n;if(t===0)return;const s=new Float32Array(t*t*4);for(let a=0;a<r.nodes.length;++a){const l=r.getSortedIndexByInputIndex(a),c=r.nodes[a];if(c&&l!==void 0){const d=(n=Hc(c,i,a))!==null&&n!==void 0?n:tk,u=Rl(d);s[l*4+0]=u[0],s[l*4+1]=u[1],s[l*4+2]=u[2],s[l*4+3]=u[3]}}const o=e.texture({data:s,width:t,height:t,type:"float"});return e.framebuffer({color:o,depth:!1,stencil:!1})}function K8(r,e,t){if(t===0)return;const i=new Float32Array(t*t*4).fill(r?1:0);if(r)for(const s of r)i[s*4]=0;const n=e.texture({data:i,width:t,height:t,type:"float"});return e.framebuffer({color:n,depth:!1,stencil:!1})}var J8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;varying vec3 rgbColor;varying float alpha;const float smoothing=0.9;void main(){if(alpha==0.0){discard;}float r=0.0;float delta=0.0;vec2 cxy=2.0*gl_PointCoord-1.0;r=dot(cxy,cxy);float opacity=alpha*(1.0-smoothstep(smoothing,1.0,r));gl_FragColor=vec4(rgbColor,opacity);}`,Q8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 indexes;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform float ratio;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;varying vec3 rgbColor;varying float alpha;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}void main(){index=indexes;vec4 pointPosition=texture2D(positions,(index+0.5)/pointsTextureSize);vec2 point=pointPosition.rg;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);vec4 pSize=texture2D(particleSize,(index+0.5)/pointsTextureSize);float size=pSize.r*sizeScale;vec4 pColor=texture2D(particleColor,(index+0.5)/pointsTextureSize);rgbColor=pColor.rgb;gl_PointSize=pointSize(size);alpha=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,(index+0.5)/pointsTextureSize);if(greyoutStatus.r>0.0){alpha*=greyoutOpacity;}}`,$8=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 selection[2];uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}void main(){vec4 pointPosition=texture2D(position,index);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,index);float size=pSize.r*sizeScale;float left=2.0*(selection[0].x-0.5*pointSize(size))/screenSize.x-1.0;float right=2.0*(selection[1].x+0.5*pointSize(size))/screenSize.x-1.0;float top=2.0*(selection[0].y-0.5*pointSize(size))/screenSize.y-1.0;float bottom=2.0*(selection[1].y+0.5*pointSize(size))/screenSize.y-1.0;gl_FragColor=vec4(0.0,0.0,pointPosition.rg);if(final.x>=left&&final.x<=right&&final.y>=top&&final.y<=bottom){gl_FragColor.r=1.0;}}`,ez=`precision mediump float;
#define GLSLIFY 1
uniform vec4 color;uniform float width;varying vec2 pos;varying float particleOpacity;const float smoothing=1.05;void main(){vec2 cxy=pos;float r=dot(cxy,cxy);float opacity=smoothstep(r,r*smoothing,1.0);float stroke=smoothstep(width,width*smoothing,r);gl_FragColor=vec4(color.rgb,opacity*stroke*color.a*particleOpacity);}`,tz=`precision mediump float;
#define GLSLIFY 1
attribute vec2 quad;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform bool scaleNodesOnZoom;uniform float pointIndex;uniform float maxPointSize;uniform vec4 color;uniform float greyoutOpacity;varying vec2 pos;varying float particleOpacity;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*transform[0][0];}else{pSize=size*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}const float relativeRingRadius=1.3;void main(){pos=quad;vec2 ij=vec2(mod(pointIndex,pointsTextureSize),floor(pointIndex/pointsTextureSize))+0.5;vec4 pointPosition=texture2D(positions,ij/pointsTextureSize);vec4 pSize=texture2D(particleSize,ij/pointsTextureSize);vec4 pColor=texture2D(particleColor,ij/pointsTextureSize);particleOpacity=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,ij/pointsTextureSize);if(greyoutStatus.r>0.0){particleOpacity*=greyoutOpacity;}float size=(pointSize(pSize.r*sizeScale)*relativeRingRadius)/transform[0][0];float radius=size*0.5;vec2 a=pointPosition.xy;vec2 b=pointPosition.xy+vec2(0.0,radius);vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));vec2 point=a+xBasis*quad.x+yBasis*radius*quad.y;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`,iz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,rz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 mousePosition;uniform bool scaleNodesOnZoom;uniform float maxPointSize;attribute vec2 indexes;varying vec4 rgba;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}float euclideanDistance(float x1,float x2,float y1,float y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));}void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,indexes/pointsTextureSize);float size=pSize.r*sizeScale;float pointRadius=0.5*pointSize(size);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;rgba=vec4(0.0);gl_Position=vec4(0.5,0.5,0.0,1.0);if(euclideanDistance(pointScreenPosition.x,mousePosition.x,pointScreenPosition.y,mousePosition.y)<pointRadius/ratio){float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,pSize.r,pointPosition.xy);gl_Position=vec4(-0.5,-0.5,0.0,1.0);}gl_PointSize=1.0;}`,nz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,sz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float spaceSize;uniform vec2 screenSize;uniform mat3 transform;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,1.0,pointPosition.xy);float i=(pointScreenPosition.x+0.5)/screenSize.x;float j=(pointScreenPosition.y+0.5)/screenSize.y;gl_Position=vec4(2.0*vec2(i,j)-1.0,0.0,1.0);gl_PointSize=1.0;}`;function oz(r,e,t){const i=Hc(r,e,t);return i!=null?i:ik}function az(r,e,t,i,n){if(t===0)return;const s=r.nodes.length,o=new Float32Array(t*t*4);for(let l=0;l<s;++l){const c=r.getSortedIndexByInputIndex(l),d=r.nodes[l];if(d&&c!==void 0){const u=oz(d,i,l);o[c*4]=u,n[l]=u}}const a=e.texture({data:o,width:t,height:t,type:"float"});return e.framebuffer({color:a,depth:!1,stencil:!1})}var lz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D velocity;uniform float friction;uniform float spaceSize;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 pointVelocity=texture2D(velocity,index);pointVelocity.rg*=friction;pointPosition.rg+=pointVelocity.rg;pointPosition.r=clamp(pointPosition.r,0.0,spaceSize);pointPosition.g=clamp(pointPosition.g,0.0,spaceSize);gl_FragColor=pointPosition;}`;function cz(r,e){const t=Math.ceil(Math.sqrt(r.length));return e.framebuffer({shape:[t,t],depth:!1,stencil:!1,colorType:"float"})}function dz(r,e,t){const i=Math.ceil(Math.sqrt(r.length));if(i===0)return;const n=new Float32Array(i*i*4).fill(-1);for(const[o,a]of r.entries())a!==void 0&&(n[o*4]=a%e,n[o*4+1]=Math.floor(a/e),n[o*4+2]=0,n[o*4+3]=0);const s=t.texture({data:n,width:i,height:i,type:"float"});return t.framebuffer({color:s,depth:!1,stencil:!1})}var uz=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D trackedIndices;uniform float pointsTextureSize;varying vec2 index;void main(){vec4 trackedPointIndicies=texture2D(trackedIndices,index);if(trackedPointIndicies.r<0.0)discard;vec4 pointPosition=texture2D(position,(trackedPointIndicies.rg+0.5)/pointsTextureSize);gl_FragColor=vec4(pointPosition.rg,1.0,1.0);}`;class hz extends ko{constructor(){super(...arguments),this.trackedPositionsById=new Map}create(){var e,t;const{reglInstance:i,store:n,data:s,config:o}=this,{pointsTextureSize:a,adjustedSpaceSize:l}=n;if(!a)return;const c=s.nodes.length,d=new Float32Array(a*a*4);o.disableSimulation||this.rescaleInitialNodePositions();for(let u=0;u<c;++u){const h=this.data.getSortedIndexByInputIndex(u),f=s.nodes[u];f&&h!==void 0&&(d[h*4+0]=(e=f.x)!==null&&e!==void 0?e:l*n.getRandomFloat(.495,.505),d[h*4+1]=(t=f.y)!==null&&t!==void 0?t:l*n.getRandomFloat(.495,.505))}this.currentPositionFbo=i.framebuffer({color:i.texture({data:d,shape:[a,a,4],type:"float"}),depth:!1,stencil:!1}),this.config.disableSimulation||(this.previousPositionFbo=i.framebuffer({color:i.texture({data:d,shape:[a,a,4],type:"float"}),depth:!1,stencil:!1}),this.velocityFbo=i.framebuffer({color:i.texture({data:new Float32Array(a*a*4).fill(0),shape:[a,a,4],type:"float"}),depth:!1,stencil:!1})),this.selectedFbo=i.framebuffer({color:i.texture({data:d,shape:[a,a,4],type:"float"}),depth:!1,stencil:!1}),this.hoveredFbo=i.framebuffer({shape:[2,2],colorType:"float",depth:!1,stencil:!1}),this.updateSize(),this.updateColor(),this.updateGreyoutStatus(),this.updateSampledNodesGrid()}initPrograms(){const{reglInstance:e,config:t,store:i,data:n}=this;t.disableSimulation||(this.updatePositionCommand=e({frag:lz,vert:Lr,framebuffer:()=>this.currentPositionFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>this.previousPositionFbo,velocity:()=>this.velocityFbo,friction:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.friction},spaceSize:()=>i.adjustedSpaceSize}})),this.drawCommand=e({frag:J8,vert:Q8,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:vl(e,i.pointsTextureSize)},uniforms:{positions:()=>this.currentPositionFbo,particleColor:()=>this.colorFbo,particleGreyoutStatus:()=>this.greyoutStatusFbo,particleSize:()=>this.sizeFbo,ratio:()=>t.pixelRatio,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>i.pointsTextureSize,transform:()=>i.transform,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize,greyoutOpacity:()=>t.nodeGreyoutOpacity,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>i.maxPointSize},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.findPointsOnAreaSelectionCommand=e({frag:$8,vert:Lr,framebuffer:()=>this.selectedFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize,sizeScale:()=>t.nodeSizeScale,transform:()=>i.transform,ratio:()=>t.pixelRatio,"selection[0]":()=>i.selectedArea[0],"selection[1]":()=>i.selectedArea[1],scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>i.maxPointSize}}),this.clearHoveredFboCommand=e({frag:Fl,vert:Lr,framebuffer:this.hoveredFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)}}),this.findHoveredPointCommand=e({frag:iz,vert:rz,primitive:"points",count:()=>n.nodes.length,framebuffer:()=>this.hoveredFbo,attributes:{indexes:vl(e,i.pointsTextureSize)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,ratio:()=>t.pixelRatio,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>i.pointsTextureSize,transform:()=>i.transform,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,mousePosition:()=>i.screenMousePosition,maxPointSize:()=>i.maxPointSize},depth:{enable:!1,mask:!1}}),this.clearSampledNodesFboCommand=e({frag:Fl,vert:Lr,framebuffer:()=>this.sampledNodesFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)}}),this.fillSampledNodesFboCommand=e({frag:nz,vert:sz,primitive:"points",count:()=>n.nodes.length,framebuffer:()=>this.sampledNodesFbo,attributes:{indexes:vl(e,i.pointsTextureSize)},uniforms:{position:()=>this.currentPositionFbo,pointsTextureSize:()=>i.pointsTextureSize,transform:()=>i.transform,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize},depth:{enable:!1,mask:!1}}),this.drawHighlightedCommand=e({frag:ez,vert:tz,attributes:{quad:Sr(e)},primitive:"triangle strip",count:4,uniforms:{color:e.prop("color"),width:e.prop("width"),pointIndex:e.prop("pointIndex"),positions:()=>this.currentPositionFbo,particleColor:()=>this.colorFbo,particleSize:()=>this.sizeFbo,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>i.pointsTextureSize,transform:()=>i.transform,spaceSize:()=>i.adjustedSpaceSize,screenSize:()=>i.screenSize,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>i.maxPointSize,particleGreyoutStatus:()=>this.greyoutStatusFbo,greyoutOpacity:()=>t.nodeGreyoutOpacity},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.trackPointsCommand=e({frag:uz,vert:Lr,framebuffer:()=>this.trackedPositionsFbo,primitive:"triangle strip",count:4,attributes:{quad:Sr(e)},uniforms:{position:()=>this.currentPositionFbo,trackedIndices:()=>this.trackedIndicesFbo,pointsTextureSize:()=>i.pointsTextureSize}})}updateColor(){const{reglInstance:e,config:t,store:{pointsTextureSize:i},data:n}=this;i&&(this.colorFbo=Z8(n,e,i,t.nodeColor))}updateGreyoutStatus(){const{reglInstance:e,store:t}=this;this.greyoutStatusFbo=K8(t.selectedIndices,e,t.pointsTextureSize)}updateSize(){const{reglInstance:e,config:t,store:{pointsTextureSize:i},data:n}=this;i&&(this.sizeByIndex=new Float32Array(n.nodes.length),this.sizeFbo=az(n,e,i,t.nodeSize,this.sizeByIndex))}updateSampledNodesGrid(){const{store:{screenSize:e},config:{nodeSamplingDistance:t},reglInstance:i}=this,n=t!=null?t:Math.min(...e)/2,s=Math.ceil(e[0]/n),o=Math.ceil(e[1]/n);Hi(this.sampledNodesFbo),this.sampledNodesFbo=i.framebuffer({shape:[s,o],depth:!1,stencil:!1,colorType:"float"})}trackPoints(){var e;!this.trackedIndicesFbo||!this.trackedPositionsFbo||(e=this.trackPointsCommand)===null||e===void 0||e.call(this)}draw(){var e,t,i;const{config:{renderHoveredNodeRing:n,renderHighlightedNodeRing:s},store:o}=this;(e=this.drawCommand)===null||e===void 0||e.call(this),(n!=null?n:s)&&o.hoveredNode&&((t=this.drawHighlightedCommand)===null||t===void 0||t.call(this,{width:.85,color:o.hoveredNodeRingColor,pointIndex:o.hoveredNode.index})),o.focusedNode&&((i=this.drawHighlightedCommand)===null||i===void 0||i.call(this,{width:.75,color:o.focusedNodeRingColor,pointIndex:o.focusedNode.index}))}updatePosition(){var e;(e=this.updatePositionCommand)===null||e===void 0||e.call(this),this.swapFbo()}findPointsOnAreaSelection(){var e;(e=this.findPointsOnAreaSelectionCommand)===null||e===void 0||e.call(this)}findHoveredPoint(){var e,t;(e=this.clearHoveredFboCommand)===null||e===void 0||e.call(this),(t=this.findHoveredPointCommand)===null||t===void 0||t.call(this)}getNodeRadiusByIndex(e){var t;return(t=this.sizeByIndex)===null||t===void 0?void 0:t[e]}trackNodesByIds(e){this.trackedIds=e.length?e:void 0,this.trackedPositionsById.clear();const t=e.map(i=>this.data.getSortedIndexById(i)).filter(i=>i!==void 0);Hi(this.trackedIndicesFbo),this.trackedIndicesFbo=void 0,Hi(this.trackedPositionsFbo),this.trackedPositionsFbo=void 0,t.length&&(this.trackedIndicesFbo=dz(t,this.store.pointsTextureSize,this.reglInstance),this.trackedPositionsFbo=cz(t,this.reglInstance)),this.trackPoints()}getTrackedPositions(){if(!this.trackedIds)return this.trackedPositionsById;const e=uo(this.reglInstance,this.trackedPositionsFbo);return this.trackedIds.forEach((t,i)=>{const n=e[i*4],s=e[i*4+1];n!==void 0&&s!==void 0&&this.trackedPositionsById.set(t,[n,s])}),this.trackedPositionsById}getSampledNodePositionsMap(){var e,t,i;const n=new Map;if(!this.sampledNodesFbo)return n;(e=this.clearSampledNodesFboCommand)===null||e===void 0||e.call(this),(t=this.fillSampledNodesFboCommand)===null||t===void 0||t.call(this);const s=uo(this.reglInstance,this.sampledNodesFbo);for(let o=0;o<s.length/4;o++){const a=s[o*4],l=!!s[o*4+1],c=s[o*4+2],d=s[o*4+3];if(l&&a!==void 0&&c!==void 0&&d!==void 0){const u=this.data.getInputIndexBySortedIndex(a);if(u!==void 0){const h=(i=this.data.getNodeByIndex(u))===null||i===void 0?void 0:i.id;h!==void 0&&n.set(h,[c,d])}}}return n}destroy(){Hi(this.currentPositionFbo),Hi(this.previousPositionFbo),Hi(this.velocityFbo),Hi(this.selectedFbo),Hi(this.colorFbo),Hi(this.sizeFbo),Hi(this.greyoutStatusFbo),Hi(this.hoveredFbo),Hi(this.trackedIndicesFbo),Hi(this.trackedPositionsFbo)}swapFbo(){const e=this.previousPositionFbo;this.previousPositionFbo=this.currentPositionFbo,this.currentPositionFbo=e}rescaleInitialNodePositions(){const{nodes:e}=this.data,{spaceSize:t}=this.config;if(e.length===0)return;const i=e.map(g=>g.x).filter(g=>g!==void 0);if(i.length===0)return;const n=e.map(g=>g.y).filter(g=>g!==void 0);if(n.length===0)return;const[s,o]=Jh(i);if(s===void 0||o===void 0)return;const[a,l]=Jh(n);if(a===void 0||l===void 0)return;const c=o-s,d=l-a,u=Math.max(c,d),h=(u-c)/2,f=(u-d)/2,m=sd().range([0,t!=null?t:Ut.spaceSize]).domain([s-h,o+h]),p=sd().range([0,t!=null?t:Ut.spaceSize]).domain([a-f,l+f]);e.forEach(g=>{g.x=m(g.x),g.y=p(g.y)})}}const I0=.001,L0=64;class fz{constructor(){this.pointsTextureSize=0,this.linksTextureSize=0,this.alpha=1,this.transform=w7(),this.backgroundColor=[0,0,0,0],this.screenSize=[0,0],this.mousePosition=[0,0],this.screenMousePosition=[0,0],this.selectedArea=[[0,0],[0,0]],this.isSimulationRunning=!1,this.simulationProgress=0,this.selectedIndices=null,this.maxPointSize=L0,this.hoveredNode=void 0,this.focusedNode=void 0,this.adjustedSpaceSize=Ut.spaceSize,this.hoveredNodeRingColor=[1,1,1,x8],this.focusedNodeRingColor=[1,1,1,w8],this.alphaTarget=0,this.scaleNodeX=sd(),this.scaleNodeY=sd(),this.random=new ek,this.alphaDecay=e=>1-Math.pow(I0,1/e)}addRandomSeed(e){this.random=this.random.clone(e)}getRandomFloat(e,t){return this.random.float(e,t)}adjustSpaceSize(e,t){e>=t?(this.adjustedSpaceSize=t/2,console.warn(`The \`spaceSize\` has been reduced to ${this.adjustedSpaceSize} due to WebGL limits`)):this.adjustedSpaceSize=e}updateScreenSize(e,t){const{adjustedSpaceSize:i}=this;this.screenSize=[e,t],this.scaleNodeX.domain([0,i]).range([(e-i)/2,(e+i)/2]),this.scaleNodeY.domain([i,0]).range([(t-i)/2,(t+i)/2])}scaleX(e){return this.scaleNodeX(e)}scaleY(e){return this.scaleNodeY(e)}setHoveredNodeRingColor(e){const t=Rl(e);this.hoveredNodeRingColor[0]=t[0],this.hoveredNodeRingColor[1]=t[1],this.hoveredNodeRingColor[2]=t[2]}setFocusedNodeRingColor(e){const t=Rl(e);this.focusedNodeRingColor[0]=t[0],this.focusedNodeRingColor[1]=t[1],this.focusedNodeRingColor[2]=t[2]}setFocusedNode(e,t){e&&t!==void 0?this.focusedNode={node:e,index:t}:this.focusedNode=void 0}addAlpha(e){return(this.alphaTarget-this.alpha)*this.alphaDecay(e)}}class mz{constructor(e,t){this.eventTransform=Uc,this.behavior=v8().scaleExtent([.001,1/0]).on("start",i=>{var n,s,o;this.isRunning=!0;const a=!!i.sourceEvent;(o=(s=(n=this.config)===null||n===void 0?void 0:n.events)===null||s===void 0?void 0:s.onZoomStart)===null||o===void 0||o.call(s,i,a)}).on("zoom",i=>{var n,s,o;this.eventTransform=i.transform;const{eventTransform:{x:a,y:l,k:c},store:{transform:d,screenSize:u}}=this,h=u[0],f=u[1];S7(d,h,f),Hw(d,d,[a,l]),Ig(d,d,[c,c]),Hw(d,d,[h/2,f/2]),Ig(d,d,[h/2,f/2]),Ig(d,d,[1,-1]);const m=!!i.sourceEvent;(o=(s=(n=this.config)===null||n===void 0?void 0:n.events)===null||s===void 0?void 0:s.onZoom)===null||o===void 0||o.call(s,i,m)}).on("end",i=>{var n,s,o;this.isRunning=!1;const a=!!i.sourceEvent;(o=(s=(n=this.config)===null||n===void 0?void 0:n.events)===null||s===void 0?void 0:s.onZoomEnd)===null||o===void 0||o.call(s,i,a)}),this.isRunning=!1,this.store=e,this.config=t}getTransform(e,t,i=.1){if(e.length===0)return this.eventTransform;const{store:{screenSize:n}}=this,s=n[0],o=n[1],a=Jh(e.map(v=>v[0])),l=Jh(e.map(v=>v[1]));a[0]=this.store.scaleX(a[0]),a[1]=this.store.scaleX(a[1]),l[0]=this.store.scaleY(l[0]),l[1]=this.store.scaleY(l[1]);const c=s*(1-i*2)/(a[1]-a[0]),d=o*(1-i*2)/(l[0]-l[1]),u=C8(t!=null?t:Math.min(c,d),...this.behavior.scaleExtent()),h=(a[1]+a[0])/2,f=(l[1]+l[0])/2,m=s/2-h*u,p=o/2-f*u;return Uc.translate(m,p).scale(u)}getDistanceToPoint(e){const{x:t,y:i,k:n}=this.eventTransform,s=this.getTransform([e],n),o=t-s.x,a=i-s.y;return Math.sqrt(o*o+a*a)}getMiddlePointTransform(e){const{store:{screenSize:t},eventTransform:{x:i,y:n,k:s}}=this,o=t[0],a=t[1],l=(o/2-i)/s,c=(a/2-n)/s,d=this.store.scaleX(e[0]),u=this.store.scaleY(e[1]),h=(l+d)/2,f=(c+u)/2,m=1,p=o/2-h*m,g=a/2-f*m;return Uc.translate(p,g).scale(m)}convertScreenToSpacePosition(e){const{eventTransform:{x:t,y:i,k:n},store:{screenSize:s}}=this,o=s[0],a=s[1],l=(e[0]-t)/n,c=(e[1]-i)/n,d=[l,a-c];return d[0]-=(o-this.store.adjustedSpaceSize)/2,d[1]-=(a-this.store.adjustedSpaceSize)/2,d}convertSpaceToScreenPosition(e){const t=this.eventTransform.applyX(this.store.scaleX(e[0])),i=this.eventTransform.applyY(this.store.scaleY(e[1]));return[t,i]}convertSpaceToScreenRadius(e){const{config:{scaleNodesOnZoom:t},store:{maxPointSize:i},eventTransform:{k:n}}=this;let s=e*2;return t?s*=n:s*=Math.min(5,Math.max(1,n*.01)),Math.min(s,i)/2}}class pz{constructor(e,t){var i,n;this.config=new k8,this.graph=new H8,this.requestAnimationFrameId=0,this.isRightClickMouse=!1,this.store=new fz,this.zoomInstance=new mz(this.store,this.config),this.hasParticleSystemDestroyed=!1,this._findHoveredPointExecutionCount=0,this._isMouseOnCanvas=!1,this._isFirstDataAfterInit=!0,t&&this.config.init(t);const s=e.clientWidth,o=e.clientHeight;e.width=s*this.config.pixelRatio,e.height=o*this.config.pixelRatio,e.style.width===""&&e.style.height===""&&Zn(e).style("width","100%").style("height","100%"),this.canvas=e,this.canvasD3Selection=Zn(e),this.canvasD3Selection.on("mouseenter.cosmos",()=>{this._isMouseOnCanvas=!0}).on("mouseleave.cosmos",()=>{this._isMouseOnCanvas=!1}),this.zoomInstance.behavior.on("start.detect",a=>{this.currentEvent=a}).on("zoom.detect",a=>{!!a.sourceEvent&&this.updateMousePosition(a.sourceEvent),this.currentEvent=a}).on("end.detect",a=>{this.currentEvent=a}),this.canvasD3Selection.call(this.zoomInstance.behavior).on("click",this.onClick.bind(this)).on("mousemove",this.onMouseMove.bind(this)).on("contextmenu",this.onRightClickMouse.bind(this)),this.config.disableZoom&&this.disableZoom(),this.setZoomLevel((i=this.config.initialZoomLevel)!==null&&i!==void 0?i:1),this.reglInstance=LF({canvas:this.canvas,attributes:{antialias:!1,preserveDrawingBuffer:!0},extensions:["OES_texture_float","ANGLE_instanced_arrays"]}),this.store.maxPointSize=((n=this.reglInstance.limits.pointSizeDims[1])!==null&&n!==void 0?n:L0)/this.config.pixelRatio,this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.store.updateScreenSize(s,o),this.points=new hz(this.reglInstance,this.config,this.store,this.graph),this.lines=new q8(this.reglInstance,this.config,this.store,this.graph,this.points),this.config.disableSimulation||(this.forceGravity=new P8(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceCenter=new I8(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceManyBody=this.config.useQuadtree?new z8(this.reglInstance,this.config,this.store,this.graph,this.points):new F8(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkIncoming=new Kw(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkOutgoing=new Kw(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceMouse=new j8(this.reglInstance,this.config,this.store,this.graph,this.points)),this.store.backgroundColor=Rl(this.config.backgroundColor),this.config.highlightedNodeRingColor?(this.store.setHoveredNodeRingColor(this.config.highlightedNodeRingColor),this.store.setFocusedNodeRingColor(this.config.highlightedNodeRingColor)):(this.config.hoveredNodeRingColor&&this.store.setHoveredNodeRingColor(this.config.hoveredNodeRingColor),this.config.focusedNodeRingColor&&this.store.setFocusedNodeRingColor(this.config.focusedNodeRingColor)),this.config.showFPSMonitor&&(this.fpsMonitor=new Jw(this.canvas)),this.config.randomSeed!==void 0&&this.store.addRandomSeed(this.config.randomSeed)}get progress(){return this.store.simulationProgress}get isSimulationRunning(){return this.store.isSimulationRunning}get maxPointSize(){return this.store.maxPointSize}setConfig(e){var t,i;const n=Ui({},this.config);this.config.init(e),n.linkColor!==this.config.linkColor&&this.lines.updateColor(),n.nodeColor!==this.config.nodeColor&&this.points.updateColor(),n.nodeSize!==this.config.nodeSize&&this.points.updateSize(),n.linkWidth!==this.config.linkWidth&&this.lines.updateWidth(),n.linkArrows!==this.config.linkArrows&&this.lines.updateArrow(),(n.curvedLinkSegments!==this.config.curvedLinkSegments||n.curvedLinks!==this.config.curvedLinks)&&this.lines.updateCurveLineGeometry(),n.backgroundColor!==this.config.backgroundColor&&(this.store.backgroundColor=Rl(this.config.backgroundColor)),n.highlightedNodeRingColor!==this.config.highlightedNodeRingColor&&(this.store.setHoveredNodeRingColor(this.config.highlightedNodeRingColor),this.store.setFocusedNodeRingColor(this.config.highlightedNodeRingColor)),n.hoveredNodeRingColor!==this.config.hoveredNodeRingColor&&this.store.setHoveredNodeRingColor(this.config.hoveredNodeRingColor),n.focusedNodeRingColor!==this.config.focusedNodeRingColor&&this.store.setFocusedNodeRingColor(this.config.focusedNodeRingColor),(n.spaceSize!==this.config.spaceSize||n.simulation.repulsionQuadtreeLevels!==this.config.simulation.repulsionQuadtreeLevels)&&(this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.resizeCanvas(!0),this.update(this.store.isSimulationRunning)),n.showFPSMonitor!==this.config.showFPSMonitor&&(this.config.showFPSMonitor?this.fpsMonitor=new Jw(this.canvas):((t=this.fpsMonitor)===null||t===void 0||t.destroy(),this.fpsMonitor=void 0)),n.pixelRatio!==this.config.pixelRatio&&(this.store.maxPointSize=((i=this.reglInstance.limits.pointSizeDims[1])!==null&&i!==void 0?i:L0)/this.config.pixelRatio),n.disableZoom!==this.config.disableZoom&&(this.config.disableZoom?this.disableZoom():this.enableZoom())}setData(e,t,i=!0){const{fitViewOnInit:n,fitViewDelay:s,fitViewByNodesInRect:o,initialZoomLevel:a}=this.config;if(!e.length&&!t.length){this.destroyParticleSystem(),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0});return}this.graph.setData(e,t),this._isFirstDataAfterInit&&n&&a===void 0&&(this._fitViewOnInitTimeoutID=window.setTimeout(()=>{o?this.setZoomTransformByNodePositions(o,void 0,void 0,0):this.fitView()},s)),this._isFirstDataAfterInit=!1,this.update(i)}zoomToNodeById(e,t=700,i=qw,n=!0){const s=this.graph.getNodeById(e);s&&this.zoomToNode(s,t,i,n)}zoomToNodeByIndex(e,t=700,i=qw,n=!0){const s=this.graph.getNodeByIndex(e);s&&this.zoomToNode(s,t,i,n)}zoom(e,t=0){this.setZoomLevel(e,t)}setZoomLevel(e,t=0){t===0?this.canvasD3Selection.call(this.zoomInstance.behavior.scaleTo,e):this.canvasD3Selection.transition().duration(t).call(this.zoomInstance.behavior.scaleTo,e)}getZoomLevel(){return this.zoomInstance.eventTransform.k}getNodePositions(){if(this.hasParticleSystemDestroyed)return{};const e=uo(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((t,i)=>{const n=this.graph.getSortedIndexById(i.id),s=e[n*4+0],o=e[n*4+1];return s!==void 0&&o!==void 0&&(t[i.id]={x:s,y:o}),t},{})}getNodePositionsMap(){const e=new Map;if(this.hasParticleSystemDestroyed)return e;const t=uo(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((i,n)=>{const s=this.graph.getSortedIndexById(n.id),o=t[s*4+0],a=t[s*4+1];return o!==void 0&&a!==void 0&&i.set(n.id,[o,a]),i},e)}getNodePositionsArray(){const e=[];if(this.hasParticleSystemDestroyed)return[];const t=uo(this.reglInstance,this.points.currentPositionFbo);e.length=this.graph.nodes.length;for(let i=0;i<this.graph.nodes.length;i+=1){const n=this.graph.getSortedIndexByInputIndex(i),s=t[n*4+0],o=t[n*4+1];s!==void 0&&o!==void 0&&(e[i]=[s,o])}return e}fitView(e=250,t=.1){this.setZoomTransformByNodePositions(this.getNodePositionsArray(),e,void 0,t)}fitViewByNodeIds(e,t=250,i=.1){const n=this.getNodePositionsMap(),s=e.map(o=>n.get(o)).filter(o=>o!==void 0);this.setZoomTransformByNodePositions(s,t,void 0,i)}selectNodesInRange(e){if(e){const t=this.store.screenSize[1];this.store.selectedArea=[[e[0][0],t-e[1][1]],[e[1][0],t-e[0][1]]],this.points.findPointsOnAreaSelection();const i=uo(this.reglInstance,this.points.selectedFbo);this.store.selectedIndices=i.map((n,s)=>s%4===0&&n!==0?s/4:-1).filter(n=>n!==-1)}else this.store.selectedIndices=null;this.points.updateGreyoutStatus()}selectNodeById(e,t=!1){var i;if(t){const n=(i=this.graph.getAdjacentNodes(e))!==null&&i!==void 0?i:[];this.selectNodesByIds([e,...n.map(s=>s.id)])}else this.selectNodesByIds([e])}selectNodeByIndex(e,t=!1){const i=this.graph.getNodeByIndex(e);i&&this.selectNodeById(i.id,t)}selectNodesByIds(e){this.selectNodesByIndices(e==null?void 0:e.map(t=>this.graph.getSortedIndexById(t)))}selectNodesByIndices(e){e?e.length===0?this.store.selectedIndices=new Float32Array:this.store.selectedIndices=new Float32Array(e.filter(t=>t!==void 0)):this.store.selectedIndices=null,this.points.updateGreyoutStatus()}unselectNodes(){this.store.selectedIndices=null,this.points.updateGreyoutStatus()}getSelectedNodes(){const{selectedIndices:e}=this.store;if(!e)return null;const t=new Array(e.length);for(const[i,n]of e.entries())if(n!==void 0){const s=this.graph.getInputIndexBySortedIndex(n);s!==void 0&&(t[i]=this.graph.nodes[s])}return t}getAdjacentNodes(e){return this.graph.getAdjacentNodes(e)}setFocusedNodeById(e){e===void 0?this.store.setFocusedNode():this.store.setFocusedNode(this.graph.getNodeById(e),this.graph.getSortedIndexById(e))}setFocusedNodeByIndex(e){e===void 0?this.store.setFocusedNode():this.store.setFocusedNode(this.graph.getNodeByIndex(e),e)}spaceToScreenPosition(e){return this.zoomInstance.convertSpaceToScreenPosition(e)}spaceToScreenRadius(e){return this.zoomInstance.convertSpaceToScreenRadius(e)}getNodeRadiusByIndex(e){return this.points.getNodeRadiusByIndex(e)}getNodeRadiusById(e){const t=this.graph.getInputIndexById(e);if(t!==void 0)return this.points.getNodeRadiusByIndex(t)}trackNodePositionsByIds(e){this.points.trackNodesByIds(e)}trackNodePositionsByIndices(e){this.points.trackNodesByIds(e.map(t=>this.graph.getNodeByIndex(t)).filter(t=>t!==void 0).map(t=>t.id))}getTrackedNodePositionsMap(){return this.points.getTrackedPositions()}getSampledNodePositionsMap(){return this.points.getSampledNodePositionsMap()}start(e=1){var t,i;this.graph.nodes.length&&(this.store.isSimulationRunning=!0,this.store.alpha=e,this.store.simulationProgress=0,(i=(t=this.config.simulation).onStart)===null||i===void 0||i.call(t),this.stopFrames(),this.frame())}pause(){var e,t;this.store.isSimulationRunning=!1,(t=(e=this.config.simulation).onPause)===null||t===void 0||t.call(e)}restart(){var e,t;this.store.isSimulationRunning=!0,(t=(e=this.config.simulation).onRestart)===null||t===void 0||t.call(e)}step(){this.store.isSimulationRunning=!1,this.stopFrames(),this.frame()}destroy(){var e,t;window.clearTimeout(this._fitViewOnInitTimeoutID),this.stopFrames(),this.destroyParticleSystem(),(e=this.fpsMonitor)===null||e===void 0||e.destroy(),(t=document.getElementById("gl-bench-style"))===null||t===void 0||t.remove()}create(){var e,t,i,n;this.points.create(),this.lines.create(),(e=this.forceManyBody)===null||e===void 0||e.create(),(t=this.forceLinkIncoming)===null||t===void 0||t.create(ad.INCOMING),(i=this.forceLinkOutgoing)===null||i===void 0||i.create(ad.OUTGOING),(n=this.forceCenter)===null||n===void 0||n.create(),this.hasParticleSystemDestroyed=!1}destroyParticleSystem(){var e,t,i,n;this.hasParticleSystemDestroyed||(this.points.destroy(),this.lines.destroy(),(e=this.forceCenter)===null||e===void 0||e.destroy(),(t=this.forceLinkIncoming)===null||t===void 0||t.destroy(),(i=this.forceLinkOutgoing)===null||i===void 0||i.destroy(),(n=this.forceManyBody)===null||n===void 0||n.destroy(),this.reglInstance.destroy(),this.hasParticleSystemDestroyed=!0)}update(e){const{graph:t}=this;this.store.pointsTextureSize=Math.ceil(Math.sqrt(t.nodes.length)),this.store.linksTextureSize=Math.ceil(Math.sqrt(t.linksNumber*2)),this.destroyParticleSystem(),this.create(),this.initPrograms(),this.setFocusedNodeById(),this.store.hoveredNode=void 0,e?this.start():this.step()}initPrograms(){var e,t,i,n,s,o;this.points.initPrograms(),this.lines.initPrograms(),(e=this.forceGravity)===null||e===void 0||e.initPrograms(),(t=this.forceLinkIncoming)===null||t===void 0||t.initPrograms(),(i=this.forceLinkOutgoing)===null||i===void 0||i.initPrograms(),(n=this.forceMouse)===null||n===void 0||n.initPrograms(),(s=this.forceManyBody)===null||s===void 0||s.initPrograms(),(o=this.forceCenter)===null||o===void 0||o.initPrograms()}frame(){const{config:{simulation:e,renderLinks:t,disableSimulation:i},store:{alpha:n,isSimulationRunning:s}}=this;n<I0&&s&&this.end(),this.store.pointsTextureSize&&(this.requestAnimationFrameId=window.requestAnimationFrame(o=>{var a,l,c,d,u,h,f,m,p,g,v,b,S;(a=this.fpsMonitor)===null||a===void 0||a.begin(),this.resizeCanvas(),this.findHoveredPoint(),i||(this.isRightClickMouse&&(s||this.start(.1),(l=this.forceMouse)===null||l===void 0||l.run(),this.points.updatePosition()),s&&!this.zoomInstance.isRunning&&(e.gravity&&((c=this.forceGravity)===null||c===void 0||c.run(),this.points.updatePosition()),e.center&&((d=this.forceCenter)===null||d===void 0||d.run(),this.points.updatePosition()),(u=this.forceManyBody)===null||u===void 0||u.run(),this.points.updatePosition(),this.store.linksTextureSize&&((h=this.forceLinkIncoming)===null||h===void 0||h.run(),this.points.updatePosition(),(f=this.forceLinkOutgoing)===null||f===void 0||f.run(),this.points.updatePosition()),this.store.alpha+=this.store.addAlpha((m=this.config.simulation.decay)!==null&&m!==void 0?m:Ut.simulation.decay),this.isRightClickMouse&&(this.store.alpha=Math.max(this.store.alpha,.1)),this.store.simulationProgress=Math.sqrt(Math.min(1,I0/this.store.alpha)),(g=(p=this.config.simulation).onTick)===null||g===void 0||g.call(p,this.store.alpha,(v=this.store.hoveredNode)===null||v===void 0?void 0:v.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(b=this.store.hoveredNode)===null||b===void 0?void 0:b.position)),this.points.trackPoints()),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0}),t&&this.store.linksTextureSize&&this.lines.draw(),this.points.draw(),(S=this.fpsMonitor)===null||S===void 0||S.end(o),this.currentEvent=void 0,this.frame()}))}stopFrames(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}end(){var e,t;this.store.isSimulationRunning=!1,this.store.simulationProgress=1,(t=(e=this.config.simulation).onEnd)===null||t===void 0||t.call(e)}onClick(e){var t,i,n,s;(i=(t=this.config.events).onClick)===null||i===void 0||i.call(t,(n=this.store.hoveredNode)===null||n===void 0?void 0:n.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(s=this.store.hoveredNode)===null||s===void 0?void 0:s.position,e)}updateMousePosition(e){if(!e||e.offsetX===void 0||e.offsetY===void 0)return;const t=e.offsetX,i=e.offsetY;this.store.mousePosition=this.zoomInstance.convertScreenToSpacePosition([t,i]),this.store.screenMousePosition=[t,this.store.screenSize[1]-i]}onMouseMove(e){var t,i,n,s;this.currentEvent=e,this.updateMousePosition(e),this.isRightClickMouse=e.which===3,(i=(t=this.config.events).onMouseMove)===null||i===void 0||i.call(t,(n=this.store.hoveredNode)===null||n===void 0?void 0:n.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(s=this.store.hoveredNode)===null||s===void 0?void 0:s.position,this.currentEvent)}onRightClickMouse(e){e.preventDefault()}resizeCanvas(e=!1){const t=this.canvas.width,i=this.canvas.height,n=this.canvas.clientWidth,s=this.canvas.clientHeight;if(e||t!==n*this.config.pixelRatio||i!==s*this.config.pixelRatio){const[o,a]=this.store.screenSize,{k:l}=this.zoomInstance.eventTransform,c=this.zoomInstance.convertScreenToSpacePosition([o/2,a/2]);this.store.updateScreenSize(n,s),this.canvas.width=n*this.config.pixelRatio,this.canvas.height=s*this.config.pixelRatio,this.reglInstance.poll(),this.canvasD3Selection.call(this.zoomInstance.behavior.transform,this.zoomInstance.getTransform([c],l)),this.points.updateSampledNodesGrid()}}setZoomTransformByNodePositions(e,t=250,i,n){this.resizeCanvas();const s=this.zoomInstance.getTransform(e,i,n);this.canvasD3Selection.transition().ease(CF).duration(t).call(this.zoomInstance.behavior.transform,s)}zoomToNode(e,t,i,n){const{graph:s,store:{screenSize:o}}=this,a=uo(this.reglInstance,this.points.currentPositionFbo),l=s.getSortedIndexById(e.id);if(l===void 0)return;const c=a[l*4+0],d=a[l*4+1];if(c===void 0||d===void 0)return;const u=this.zoomInstance.getDistanceToPoint([c,d]),h=n?i:Math.max(this.getZoomLevel(),i);if(u<Math.min(o[0],o[1]))this.setZoomTransformByNodePositions([[c,d]],t,h);else{const f=this.zoomInstance.getTransform([[c,d]],h),m=this.zoomInstance.getMiddlePointTransform([c,d]);this.canvasD3Selection.transition().ease(SF).duration(t/2).call(this.zoomInstance.behavior.transform,m).transition().ease(TF).duration(t/2).call(this.zoomInstance.behavior.transform,f)}}disableZoom(){this.canvasD3Selection.call(this.zoomInstance.behavior).on("wheel.zoom",null)}enableZoom(){this.canvasD3Selection.call(this.zoomInstance.behavior)}findHoveredPoint(){var e,t,i,n,s;if(!this._isMouseOnCanvas)return;if(this._findHoveredPointExecutionCount<2){this._findHoveredPointExecutionCount+=1;return}this._findHoveredPointExecutionCount=0,this.points.findHoveredPoint();let o=!1,a=!1;const l=uo(this.reglInstance,this.points.hoveredFbo);if(l[1]){const d=l[0],u=this.graph.getInputIndexBySortedIndex(d),h=u!==void 0?this.graph.getNodeByIndex(u):void 0;((e=this.store.hoveredNode)===null||e===void 0?void 0:e.node)!==h&&(o=!0);const f=l[2],m=l[3];this.store.hoveredNode=h&&{node:h,index:d,position:[f,m]}}else this.store.hoveredNode&&(a=!0),this.store.hoveredNode=void 0;o&&this.store.hoveredNode&&((i=(t=this.config.events).onNodeMouseOver)===null||i===void 0||i.call(t,this.store.hoveredNode.node,this.graph.getInputIndexBySortedIndex(this.graph.getSortedIndexById(this.store.hoveredNode.node.id)),this.store.hoveredNode.position,this.currentEvent)),a&&((s=(n=this.config.events).onNodeMouseOut)===null||s===void 0||s.call(n,this.currentEvent))}}function gz(r,e){const[t,i,n,s]=[r.x,r.y+r.height,r.x+r.width,r.y],[o,a,l,c]=[e.x,e.y+e.height,e.x+e.width,e.y];return!(i<c||a<s||n<o||l<t)}const Ya=6,qa=9,th=14,P0="css-label--label",dk="css-label--hidden";let Tc;const vz=()=>{if(Tc)return;Tc=document.createElement("style"),Tc.innerHTML=`
  :root {
    --css-label-background-color: #1e2428;
    --css-label-brightness: brightness(150%);
  }

  .${P0} {
    position: absolute;
    top: 0;
    left: 0;

    font-weight: 500;
    cursor: pointer;
    
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    filter: var(--css-label-brightness);
    pointer-events: none;
    background-color: var(--css-label-background-color);
    font-weight: 700;
    border-radius: 6px;
    
    transition: opacity 600ms;
    opacity: 1;
  }

  .${dk} {
    opacity: 0 !important;
  }
`;const r=document.head.getElementsByTagName("style")[0];r?document.head.insertBefore(Tc,r):document.head.appendChild(Tc)};class uk{constructor(e,t){this.element=document.createElement("div"),this.fontWidthHeightRatio=.6,this._x=0,this._y=0,this._estimatedWidth=0,this._estimatedHeight=0,this._visible=!1,this._prevVisible=!1,this._weight=0,this._customFontSize=th,this._customColor=void 0,this._customOpacity=void 0,this._shouldBeShown=!1,this._text="",this._customPadding={left:qa,top:Ya,right:qa,bottom:Ya},vz(),this._container=e,this._updateClasses(),t&&this.setText(t),this.resetFontSize(),this.resetPadding()}setText(e){this._text!==e&&(this._text=e,this.element.innerHTML=e,this._measureText())}setPosition(e,t){this._x=e,this._y=t}setStyle(e){if(this._customStyle!==e&&(this._customStyle=e,this.element.style.cssText=this._customStyle,this._customColor&&(this.element.style.color=this._customColor),this._customOpacity&&(this.element.style.opacity=String(this._customOpacity)),this._customPointerEvents&&(this.element.style.pointerEvents=this._customPointerEvents),this._customFontSize&&(this.element.style.fontSize=`${this._customFontSize}px`),this._customPadding)){const{top:t,right:i,bottom:n,left:s}=this._customPadding;this.element.style.padding=`${t}px ${i}px ${n}px ${s}px`}}setClassName(e){this._customClassName!==e&&(this._customClassName=e,this._updateClasses())}setFontSize(e=th){this._customFontSize!==e&&(this.element.style.fontSize=`${e}px`,this._customFontSize=e,this._measureText())}resetFontSize(){this.element.style.fontSize=`${th}px`,this._customFontSize=th,this._measureText()}setColor(e){this._customColor!==e&&(this.element.style.color=e,this._customColor=e)}resetColor(){this.element.style.removeProperty("color"),this._customColor=void 0}setOpacity(e){this._customOpacity!==e&&(this.element.style.opacity=String(e),this._customOpacity=e)}resetOpacity(){this.element.style.removeProperty("opacity"),this._customOpacity=void 0}setPointerEvents(e){this._customPointerEvents!==e&&(this.element.style.pointerEvents=`${e}`,this._customPointerEvents=e)}resetPointerEvents(){this.element.style.removeProperty("pointer-events"),this._customPointerEvents=void 0}setPadding(e={left:qa,top:Ya,right:qa,bottom:Ya}){(this._customPadding.left!==e.left||this._customPadding.top!==e.top||this._customPadding.right!==e.right||this._customPadding.bottom!==e.bottom)&&(this._customPadding=e,this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._measureText())}resetPadding(){const e={left:qa,top:Ya,right:qa,bottom:Ya};this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._customPadding=e,this._measureText()}setForceShow(e){this._shouldBeShown=e}getForceShow(){return this._shouldBeShown}draw(){const e=this.getVisibility();e!==this._prevVisible&&(this._prevVisible===!1?this._container.appendChild(this.element):this._container.removeChild(this.element),this._updateClasses(),this._prevVisible=e),e&&(this.element.style.transform=`
        translate(-50%, -100%)
        translate3d(${this._x}px, ${this._y}px, 0)
      `)}overlaps(e){return gz({height:this._estimatedHeight,width:this._estimatedWidth,x:this._x,y:this._y},{height:e._estimatedHeight,width:e._estimatedWidth,x:e._x,y:e._y})}setVisibility(e=!0){this._visible=e}getVisibility(){return this._visible}isOnScreen(){return this._x>0&&this._y>0&&this._x<this._container.offsetWidth&&this._y<this._container.offsetHeight}setWeight(e){this._weight=e}getWeight(){return this._weight}raise(){this._container.appendChild(this.element)}destroy(){this.element.remove()}_updateClasses(){this.getVisibility()?window.requestAnimationFrame(()=>{this.element.className=`${P0} ${this._customClassName||""}`}):this.element.className=`${P0} ${this._customClassName||""} ${dk}`}_measureText(){const{left:e,top:t,right:i,bottom:n}=this._customPadding;this._estimatedWidth=this._customFontSize*this.fontWidthHeightRatio*this.element.innerHTML.length+e+i,this._estimatedHeight=this._customFontSize+t+n}}const bh="css-label--labels-container",hk="css-label--labels-container-hidden";let Cc;const _z=()=>{if(Cc)return;Cc=document.createElement("style"),Cc.innerHTML=`
  .${bh} {
    transition: opacity 100ms;
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    top: 0%;
    pointer-events: none;
    opacity: 1;
  }
  .${hk} {
    opacity: 0;

    div {
      pointer-events: none;
    }
  }
`;const r=document.head.getElementsByTagName("style")[0];r?document.head.insertBefore(Cc,r):document.head.appendChild(Cc)};class yz{constructor(e,t){this._cssLabels=new Map,this._elementToData=new Map,_z(),this._container=e,e.addEventListener("click",this._onClick.bind(this)),this._container.className=bh,t!=null&&t.onLabelClick&&(this._onClickCallback=t.onLabelClick),t!=null&&t.padding&&(this._padding=t.padding),t!=null&&t.pointerEvents&&(this._pointerEvents=t.pointerEvents),t!=null&&t.dispatchWheelEventElement&&(this._dispatchWheelEventElement=t.dispatchWheelEventElement,this._container.addEventListener("wheel",this._onWheel.bind(this)))}setLabels(e){const t=new Map(this._cssLabels);e.forEach(i=>{const{x:n,y:s,fontSize:o,color:a,text:l,weight:c,opacity:d,shouldBeShown:u,style:h,className:f}=i;if(t.get(i.id))t.delete(i.id);else{const g=new uk(this._container,i.text);this._cssLabels.set(i.id,g),this._elementToData.set(g.element,i)}const p=this._cssLabels.get(i.id);p&&(p.setText(l),p.setPosition(n,s),h!==void 0&&p.setStyle(h),c!==void 0&&p.setWeight(c),o!==void 0&&p.setFontSize(o),a!==void 0&&p.setColor(a),this._padding!==void 0&&p.setPadding(this._padding),this._pointerEvents!==void 0&&p.setPointerEvents(this._pointerEvents),d!==void 0&&p.setOpacity(d),u!==void 0&&p.setForceShow(u),f!==void 0&&p.setClassName(f))});for(const[i]of t){const n=this._cssLabels.get(i);n&&(this._elementToData.delete(n.element),n.destroy()),this._cssLabels.delete(i)}}draw(e=!0){e&&this._intersectLabels(),this._cssLabels.forEach(t=>t.draw())}show(){this._container.className=bh}hide(){this._container.className=`${bh} ${hk}`}destroy(){this._container.removeEventListener("click",this._onClick.bind(this)),this._container.removeEventListener("wheel",this._onWheel.bind(this)),this._cssLabels.forEach(e=>e.destroy())}_onClick(e){var t;const i=this._elementToData.get(e.target);i&&((t=this._onClickCallback)===null||t===void 0||t.call(this,e,i))}_onWheel(e){var t;e.preventDefault();const i=new WheelEvent("wheel",e);(t=this._dispatchWheelEventElement)===null||t===void 0||t.dispatchEvent(i)}_intersectLabels(){const e=Array.from(this._cssLabels.values());e.forEach(t=>t.setVisibility(t.isOnScreen()));for(let t=0;t<e.length;t+=1){const i=e[t];if(i.getVisibility())for(let n=t+1;n<e.length;n+=1){const s=e[n];if(!s.getVisibility())continue;if(i.overlaps(s)){s.getWeight()>i.getWeight()?i.setVisibility(s.getForceShow()?!1:i.getForceShow()):s.setVisibility(i.getForceShow()?!1:s.getForceShow());continue}}}}}var Qw;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Qw||(Qw={}));var n_=function(r){return Object.freeze(r)},bz=function(){function r(e,t){this.inlineSize=e,this.blockSize=t,n_(this)}return r}(),xz=function(){function r(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,n_(this)}return r.prototype.toJSON=function(){var e=this,t=e.x,i=e.y,n=e.top,s=e.right,o=e.bottom,a=e.left,l=e.width,c=e.height;return{x:t,y:i,top:n,right:s,bottom:o,left:a,width:l,height:c}},r.fromRect=function(e){return new r(e.x,e.y,e.width,e.height)},r}(),$w=typeof window!="undefined"?window:{};/msie|trident/i.test($w.navigator&&$w.navigator.userAgent);var Pg=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=!1),new bz((t?e:r)||0,(t?r:e)||0)};n_({devicePixelContentBoxSize:Pg(),borderBoxSize:Pg(),contentBoxSize:Pg(),contentRect:new xz(0,0,0,0)});Ns(".%L");Ns(":%S");Ns("%I:%M");Ns("%I %p");Ns("%a %d");Ns("%b %d");Ns("%b");Ns("%Y");const wz=r=>typeof r=="function",Sz=r=>Array.isArray(r),Tz=r=>r instanceof Object,nf=r=>r.constructor.name!=="Function"&&r.constructor.name!=="Object",e2=r=>Tz(r)&&!Sz(r)&&!wz(r)&&!nf(r),sf=(r,e=new Map)=>{if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r.getTime());if(r instanceof Array){const t=[];e.set(r,t);for(const i of r)t.push(e.has(i)?e.get(i):sf(i,e));return r}if(nf(r))return r;if(r instanceof Object){const t={};e.set(r,t);const i=r;return Object.keys(r).reduce((n,s)=>(n[s]=e.has(i[s])?e.get(i[s]):sf(i[s],e),n),t),t}return r},D0=(r,e,t=new Map)=>{const i=nf(r)?r:sf(r);return r===e?r:t.has(e)?t.get(e):(t.set(e,i),Object.keys(e).forEach(n=>{e2(r[n])&&e2(e[n])?i[n]=D0(r[n],e[n],t):nf(e)?i[n]=e:i[n]=sf(e[n])}),i)};var t2=[],kc=[];function Td(r,e){if(r&&typeof document!="undefined"){var t,i=e.prepend===!0?"prepend":"append",n=e.singleTag===!0,s=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var o=t2.indexOf(s);o===-1&&(o=t2.push(s)-1,kc[o]={}),t=kc[o]&&kc[o][i]?kc[o][i]:kc[o][i]=a()}else t=a();r.charCodeAt(0)===65279&&(r=r.substring(1)),t.styleSheet?t.styleSheet.cssText+=r:t.appendChild(document.createTextNode(r))}function a(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),d=0;d<c.length;d++)l.setAttribute(c[d],e.attributes[c[d]]);var u=i==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(u,l),l}}var Cz=":root{--cosmograph-timeline-text-color:#fff;--cosmograph-timeline-axis-color:#fff;--cosmograph-timeline-selection-color:#777;--cosmograph-timeline-selection-opacity:0.5;--cosmograph-timeline-bar-color:#7a7a7a;--cosmograph-timeline-font-family:inherit;--cosmograph-timeline-font-size:11px;--cosmograph-timeline-background:#222}.style_module_timeline__f90332e1{background:var(--cosmograph-timeline-background);display:flex;overflow:hidden;position:relative;width:100%}.style_module_timelineSvg__f90332e1{height:100%;position:relative;width:100%}.style_module_selection__f90332e1{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__f90332e1{text-anchor:initial;alignment-baseline:text-before-edge;color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);font-weight:400;opacity:.7;user-select:none}.style_module_axisLine__f90332e1{color:var(--cosmograph-timeline-axis-color);opacity:.2}.style_module_bar__f90332e1{fill:var(--cosmograph-timeline-bar-color);opacity:0;transform:scaleY(-1)}.style_module_noData__f90332e1{height:100%;position:absolute;top:0;width:100%}.style_module_noData__f90332e1 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-timeline-font-size) + 5px);font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}.style_module_animationControl__f90332e1{align-items:center;color:var(--cosmograph-timeline-axis-color);cursor:pointer;display:flex;height:100%;justify-content:center;max-width:30px;min-width:20px;opacity:.5;position:relative;user-select:none;width:6%}.style_module_animationControl__f90332e1>svg{max-height:20px;padding-right:2px;width:50%}.style_module_hidden__f90332e1{display:none}.style_module_disabled__f90332e1{opacity:.2;pointer-events:none}";Td(Cz,{});var kz=":root{--cosmograph-histogram-text-color:#fff;--cosmograph-histogram-axis-color:#d7d7d7;--cosmograph-histogram-selection-color:#777;--cosmograph-histogram-selection-opacity:0.5;--cosmograph-histogram-bar-color:#7a7a7a;--cosmograph-histogram-highlighted-bar-color:#fff;--cosmograph-histogram-font-family:inherit;--cosmograph-histogram-font-size:11px;--cosmograph-histogram-background:#222}.style_module_histogram__ee5eb209{background:var(--cosmograph-histogram-background);display:flex;position:relative;width:100%}.style_module_histogramSvg__ee5eb209{height:100%;position:relative;width:100%}.style_module_selection__ee5eb209{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__ee5eb209{alignment-baseline:text-before-edge;text-anchor:initial;font-size:var(--cosmograph-histogram-font-size);font-weight:400;opacity:1;user-select:none}.style_module_bar__ee5eb209{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__ee5eb209{fill:var(--cosmograph-histogram-highlighted-bar-color);pointer-events:none;transform:scaleY(-1)}.style_module_axis__ee5eb209{color:var(--cosmograph-histogram-axis-color)}.style_module_noData__ee5eb209{height:100%;position:absolute;top:0;width:100%}.style_module_noData__ee5eb209 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-histogram-font-size));font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}";Td(kz,{});var i2;(function(r){r.Input="input",r.Select="select",r.Enter="enter",r.AccessorSelect="accessorSelect"})(i2||(i2={}));function Nl(){}function xn(r,e){for(const t in e)r[t]=e[t];return r}function fk(r){return r()}function r2(){return Object.create(null)}function zs(r){r.forEach(fk)}function xa(r){return typeof r=="function"}function Cd(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Ez(r){return Object.keys(r).length===0}function Mf(r,e,t,i){if(r){const n=mk(r,e,t,i);return r[0](n)}}function mk(r,e,t,i){return r[1]&&i?xn(t.ctx.slice(),r[1](i(e))):t.ctx}function Rf(r,e,t,i){if(r[2]&&i){const n=r[2](i(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],o=Math.max(e.dirty.length,n.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|n[a];return s}return e.dirty|n}return e.dirty}function Ff(r,e,t,i,n,s){if(n){const o=mk(e,t,i,s);r.p(o,n)}}function Nf(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function s_(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function zl(r,e){const t={};e=new Set(e);for(const i in r)e.has(i)||i[0]==="$"||(t[i]=r[i]);return t}function wo(r){return r&&xa(r.destroy)?r.destroy:Nl}function Eo(r,e,t){r.insertBefore(e,t||null)}function Bs(r){r.parentNode&&r.parentNode.removeChild(r)}function o_(r){return document.createElement(r)}function Az(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Oz(r){return document.createTextNode(r)}function zf(){return Oz("")}function a_(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}const Iz=["width","height"];function M0(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const i in e)e[i]==null?r.removeAttribute(i):i==="style"?r.style.cssText=e[i]:i==="__value"?r.value=r[i]=e[i]:t[i]&&t[i].set&&Iz.indexOf(i)===-1?r[i]=e[i]:a_(r,i,e[i])}function n2(r,e){for(const t in e)a_(r,t,e[t])}function Lz(r,e){Object.keys(e).forEach(t=>{Pz(r,t,e[t])})}function Pz(r,e,t){e in r?r[e]=typeof r[e]=="boolean"&&t===""||t:a_(r,e,t)}function of(r){return/-/.test(r)?Lz:M0}function Dz(r){return Array.from(r.childNodes)}function s2(r,e){return new r(e)}let ld;function Xc(r){ld=r}function Yl(){if(!ld)throw new Error("Function called outside component initialization");return ld}function Mz(r){Yl().$$.on_destroy.push(r)}function Rz(r,e){return Yl().$$.context.set(r,e),e}function pk(r){return Yl().$$.context.get(r)}const sl=[],oa=[];let _l=[];const o2=[],Fz=Promise.resolve();let R0=!1;function Nz(){R0||(R0=!0,Fz.then(gk))}function F0(r){_l.push(r)}const Dg=new Set;let Za=0;function gk(){if(Za!==0)return;const r=ld;do{try{for(;Za<sl.length;){const e=sl[Za];Za++,Xc(e),zz(e.$$)}}catch(e){throw sl.length=0,Za=0,e}for(Xc(null),sl.length=0,Za=0;oa.length;)oa.pop()();for(let e=0;e<_l.length;e+=1){const t=_l[e];Dg.has(t)||(Dg.add(t),t())}_l.length=0}while(sl.length);for(;o2.length;)o2.pop()();R0=!1,Dg.clear(),Xc(r)}function zz(r){if(r.fragment!==null){r.update(),zs(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(F0)}}function Bz(r){const e=[],t=[];_l.forEach(i=>r.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),_l=e}const xh=new Set;let ia;function vk(){ia={r:0,c:[],p:ia}}function _k(){ia.r||zs(ia.c),ia=ia.p}function ss(r,e){r&&r.i&&(xh.delete(r),r.i(e))}function Ms(r,e,t,i){if(r&&r.o){if(xh.has(r))return;xh.add(r),ia.c.push(()=>{xh.delete(r),i&&(t&&r.d(1),i())}),r.o(e)}else i&&i()}function kd(r,e){const t={},i={},n={$$scope:1};let s=r.length;for(;s--;){const o=r[s],a=e[s];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)n[l]||(t[l]=a[l],n[l]=1);r[s]=a}else for(const l in o)n[l]=1}for(const o in i)o in t||(t[o]=void 0);return t}function a2(r){return typeof r=="object"&&r!==null?r:{}}function l2(r){r&&r.c()}function N0(r,e,t,i){const{fragment:n,after_update:s}=r.$$;n&&n.m(e,t),i||F0(()=>{const o=r.$$.on_mount.map(fk).filter(xa);r.$$.on_destroy?r.$$.on_destroy.push(...o):zs(o),r.$$.on_mount=[]}),s.forEach(F0)}function z0(r,e){const t=r.$$;t.fragment!==null&&(Bz(t.after_update),zs(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function l_(r,e,t,i,n,s,o,a=[-1]){const l=ld;Xc(r);const c=r.$$={fragment:null,ctx:[],props:s,update:Nl,not_equal:n,bound:r2(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:r2(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};let d=!1;if(c.ctx=t?t(r,e.props||{},(u,h,...f)=>{const m=f.length?f[0]:h;return c.ctx&&n(c.ctx[u],c.ctx[u]=m)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](m),d&&function(p,g){p.$$.dirty[0]===-1&&(sl.push(p),Nz(),p.$$.dirty.fill(0)),p.$$.dirty[g/31|0]|=1<<g%31}(r,u)),h}):[],c.update(),d=!0,zs(c.before_update),c.fragment=!!i&&i(c.ctx),e.target){if(e.hydrate){const u=Dz(e.target);c.fragment&&c.fragment.l(u),u.forEach(Bs)}else c.fragment&&c.fragment.c();e.intro&&ss(r.$$.fragment),N0(r,e.target,e.anchor,e.customElement),gk()}Xc(l)}class c_{$destroy(){z0(this,1),this.$destroy=Nl}$on(e,t){if(!xa(t))return Nl;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const n=i.indexOf(t);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!Ez(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function af(r){return Object.entries(r).filter(([e,t])=>e!==""&&t).map(([e])=>e).join(" ")}const c2=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,jz=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function d_(r){let e,t=[];function i(n){const s=r.$$.callbacks[n.type];s&&s.slice().forEach(o=>o.call(this,n))}return r.$on=(n,s)=>{let o=n,a=()=>{};return e?a=e(o,s):t.push([o,s]),o.match(c2)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}},n=>{const s=[],o={};e=(a,l)=>{let c=a,d=l,u=!1;const h=c.match(c2),f=c.match(jz),m=h||f;if(c.match(/^SMUI:\w+:/)){const b=c.split(":");let S="";for(let _=0;_<b.length;_++)S+=_===b.length-1?":"+b[_]:b[_].split("-").map(x=>x.slice(0,1).toUpperCase()+x.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${S.split("$")[0]}.`),c=S}if(m){const b=c.split(h?":":"$");c=b[0];const S=b.slice(1).reduce((_,x)=>(_[x]=!0,_),{});S.passive&&(u=u||{},u.passive=!0),S.nonpassive&&(u=u||{},u.passive=!1),S.capture&&(u=u||{},u.capture=!0),S.once&&(u=u||{},u.once=!0),S.preventDefault&&(p=d,d=function(_){return _.preventDefault(),p.call(this,_)}),S.stopPropagation&&(d=function(_){return function(x){return x.stopPropagation(),_.call(this,x)}}(d)),S.stopImmediatePropagation&&(d=function(_){return function(x){return x.stopImmediatePropagation(),_.call(this,x)}}(d)),S.self&&(d=function(_,x){return function(I){if(I.target===_)return x.call(this,I)}}(n,d)),S.trusted&&(d=function(_){return function(x){if(x.isTrusted)return _.call(this,x)}}(d))}var p;const g=d2(n,c,d,u),v=()=>{g();const b=s.indexOf(v);b>-1&&s.splice(b,1)};return s.push(v),c in o||(o[c]=d2(n,c,i)),v};for(let a=0;a<t.length;a++)e(t[a][0],t[a][1]);return{destroy:()=>{for(let a=0;a<s.length;a++)s[a]();for(let a of Object.entries(o))a[1]()}}}}function d2(r,e,t,i){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}function Bf(r,e){let t=[];if(e)for(let i=0;i<e.length;i++){const n=e[i],s=Array.isArray(n)?n[0]:n;Array.isArray(n)&&n.length>1?t.push(s(r,n[1])):t.push(s(r))}return{update(i){if((i&&i.length||0)!=t.length)throw new Error("You must not change the length of an actions array.");if(i)for(let n=0;n<i.length;n++){const s=t[n];if(s&&s.update){const o=i[n];Array.isArray(o)&&o.length>1?s.update(o[1]):s.update()}}},destroy(){for(let i=0;i<t.length;i++){const n=t[i];n&&n.destroy&&n.destroy()}}}}function Gz(r){let e,t,i=r[1],n=r[1]&&Mg(r);return{c(){n&&n.c(),e=zf()},m(s,o){n&&n.m(s,o),Eo(s,e,o),t=!0},p(s,o){s[1]?i?Cd(i,s[1])?(n.d(1),n=Mg(s),i=s[1],n.c(),n.m(e.parentNode,e)):n.p(s,o):(n=Mg(s),i=s[1],n.c(),n.m(e.parentNode,e)):i&&(n.d(1),n=null,i=s[1])},i(s){t||(ss(n),t=!0)},o(s){Ms(n),t=!1},d(s){s&&Bs(e),n&&n.d(s)}}}function Vz(r){let e,t=r[1],i=r[1]&&Rg(r);return{c(){i&&i.c(),e=zf()},m(n,s){i&&i.m(n,s),Eo(n,e,s)},p(n,s){n[1]?t?Cd(t,n[1])?(i.d(1),i=Rg(n),t=n[1],i.c(),i.m(e.parentNode,e)):i.p(n,s):(i=Rg(n),t=n[1],i.c(),i.m(e.parentNode,e)):t&&(i.d(1),i=null,t=n[1])},i:Nl,o:Nl,d(n){n&&Bs(e),i&&i.d(n)}}}function Uz(r){let e,t,i,n,s;const o=r[8].default,a=Mf(o,r,r[7],null);let l=[r[5]],c={};for(let d=0;d<l.length;d+=1)c=xn(c,l[d]);return{c(){e=Az("svg"),a&&a.c(),n2(e,c)},m(d,u){Eo(d,e,u),a&&a.m(e,null),r[9](e),i=!0,n||(s=[wo(t=Bf.call(null,e,r[0])),wo(r[4].call(null,e))],n=!0)},p(d,u){a&&a.p&&(!i||128&u)&&Ff(a,o,d,d[7],i?Rf(o,d[7],u,null):Nf(d[7]),null),n2(e,c=kd(l,[32&u&&d[5]])),t&&xa(t.update)&&1&u&&t.update.call(null,d[0])},i(d){i||(ss(a,d),i=!0)},o(d){Ms(a,d),i=!1},d(d){d&&Bs(e),a&&a.d(d),r[9](null),n=!1,zs(s)}}}function Mg(r){let e,t,i,n,s;const o=r[8].default,a=Mf(o,r,r[7],null);let l=[r[5]],c={};for(let d=0;d<l.length;d+=1)c=xn(c,l[d]);return{c(){e=o_(r[1]),a&&a.c(),of(r[1])(e,c)},m(d,u){Eo(d,e,u),a&&a.m(e,null),r[11](e),i=!0,n||(s=[wo(t=Bf.call(null,e,r[0])),wo(r[4].call(null,e))],n=!0)},p(d,u){a&&a.p&&(!i||128&u)&&Ff(a,o,d,d[7],i?Rf(o,d[7],u,null):Nf(d[7]),null),of(d[1])(e,c=kd(l,[32&u&&d[5]])),t&&xa(t.update)&&1&u&&t.update.call(null,d[0])},i(d){i||(ss(a,d),i=!0)},o(d){Ms(a,d),i=!1},d(d){d&&Bs(e),a&&a.d(d),r[11](null),n=!1,zs(s)}}}function Rg(r){let e,t,i,n,s=[r[5]],o={};for(let a=0;a<s.length;a+=1)o=xn(o,s[a]);return{c(){e=o_(r[1]),of(r[1])(e,o)},m(a,l){Eo(a,e,l),r[10](e),i||(n=[wo(t=Bf.call(null,e,r[0])),wo(r[4].call(null,e))],i=!0)},p(a,l){of(a[1])(e,o=kd(s,[32&l&&a[5]])),t&&xa(t.update)&&1&l&&t.update.call(null,a[0])},d(a){a&&Bs(e),r[10](null),i=!1,zs(n)}}}function Hz(r){let e,t,i,n;const s=[Uz,Vz,Gz],o=[];function a(l,c){return l[1]==="svg"?0:l[3]?1:2}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=zf()},m(l,c){o[e].m(l,c),Eo(l,i,c),n=!0},p(l,[c]){let d=e;e=a(l),e===d?o[e].p(l,c):(vk(),Ms(o[d],1,1,()=>{o[d]=null}),_k(),t=o[e],t?t.p(l,c):(t=o[e]=s[e](l),t.c()),ss(t,1),t.m(i.parentNode,i))},i(l){n||(ss(t),n=!0)},o(l){Ms(t),n=!1},d(l){o[e].d(l),l&&Bs(i)}}}function Xz(r,e,t){let i;const n=["use","tag","getElement"];let s=zl(e,n),{$$slots:o={},$$scope:a}=e,{use:l=[]}=e,{tag:c}=e;const d=d_(Yl());let u;return r.$$set=h=>{e=xn(xn({},e),s_(h)),t(5,s=zl(e,n)),"use"in h&&t(0,l=h.use),"tag"in h&&t(1,c=h.tag),"$$scope"in h&&t(7,a=h.$$scope)},r.$$.update=()=>{2&r.$$.dirty&&t(3,i=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,i,d,s,function(){return u},a,o,function(h){oa[h?"unshift":"push"](()=>{u=h,t(2,u)})},function(h){oa[h?"unshift":"push"](()=>{u=h,t(2,u)})},function(h){oa[h?"unshift":"push"](()=>{u=h,t(2,u)})}]}let yk=class extends c_{constructor(e){super(),l_(this,e,Xz,Hz,Cd,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}};var B0=function(r,e){return B0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},B0(r,e)};function js(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}B0(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var er=function(){return er=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},er.apply(this,arguments)};function Fn(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u2(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i,n,s=t.call(r),o=[];try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return o}function Wz(r,e,t){if(arguments.length===2)for(var i,n=0,s=e.length;n<s;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Gs=function(){function r(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(r,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.destroy=function(){},r}();/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Jt={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},Nr=new Set;Nr.add(Jt.BACKSPACE),Nr.add(Jt.ENTER),Nr.add(Jt.SPACEBAR),Nr.add(Jt.PAGE_UP),Nr.add(Jt.PAGE_DOWN),Nr.add(Jt.END),Nr.add(Jt.HOME),Nr.add(Jt.ARROW_LEFT),Nr.add(Jt.ARROW_UP),Nr.add(Jt.ARROW_RIGHT),Nr.add(Jt.ARROW_DOWN),Nr.add(Jt.DELETE),Nr.add(Jt.ESCAPE),Nr.add(Jt.TAB);var Yz=8,qz=13,Zz=32,Kz=33,Jz=34,Qz=35,$z=36,eB=37,tB=38,iB=39,rB=40,nB=46,sB=27,oB=9,zr=new Map;zr.set(Yz,Jt.BACKSPACE),zr.set(qz,Jt.ENTER),zr.set(Zz,Jt.SPACEBAR),zr.set(Kz,Jt.PAGE_UP),zr.set(Jz,Jt.PAGE_DOWN),zr.set(Qz,Jt.END),zr.set($z,Jt.HOME),zr.set(eB,Jt.ARROW_LEFT),zr.set(tB,Jt.ARROW_UP),zr.set(iB,Jt.ARROW_RIGHT),zr.set(rB,Jt.ARROW_DOWN),zr.set(nB,Jt.DELETE),zr.set(sB,Jt.ESCAPE),zr.set(oB,Jt.TAB);var ro=new Set;function Ir(r){var e=r.key;if(Nr.has(e))return e;var t=zr.get(r.keyCode);return t||Jt.UNKNOWN}ro.add(Jt.PAGE_UP),ro.add(Jt.PAGE_DOWN),ro.add(Jt.END),ro.add(Jt.HOME),ro.add(Jt.ARROW_LEFT),ro.add(Jt.ARROW_UP),ro.add(Jt.ARROW_RIGHT),ro.add(Jt.ARROW_DOWN);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ka,no,$t={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"};(Ka={})[""+$t.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Ka[""+$t.LIST_ITEM_CLASS]="mdc-list-item",Ka[""+$t.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Ka[""+$t.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Ka[""+$t.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Ka[""+$t.ROOT]="mdc-list";var Ja=((no={})[""+$t.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",no[""+$t.LIST_ITEM_CLASS]="mdc-deprecated-list-item",no[""+$t.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",no[""+$t.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",no[""+$t.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",no[""+$t.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",no[""+$t.ROOT]="mdc-deprecated-list",no),so={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+$t.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+$t.LIST_ITEM_CLASS+` a,
    .`+Ja[$t.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Ja[$t.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+$t.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+$t.LIST_ITEM_CLASS+` a,
    .`+$t.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+$t.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+Ja[$t.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Ja[$t.LIST_ITEM_CLASS]+` a,
    .`+Ja[$t.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+Ja[$t.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Ki={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var aB=["input","button","textarea","select"],gn=function(r){var e=r.target;if(e){var t=(""+e.tagName).toLowerCase();aB.indexOf(t)===-1&&r.preventDefault()}};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function lB(){return{bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""}}function cB(r,e){for(var t=new Map,i=0;i<r;i++){var n=e(i).trim();if(n){var s=n[0].toLowerCase();t.has(s)||t.set(s,[]),t.get(s).push({text:n.toLowerCase(),index:i})}}return t.forEach(function(o){o.sort(function(a,l){return a.index-l.index})}),t}function j0(r,e){var t,i=r.nextChar,n=r.focusItemAtIndex,s=r.sortedIndexByFirstChar,o=r.focusedItemIndex,a=r.skipFocus,l=r.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){xk(e)},Ki.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+i,t=e.typeaheadBuffer.length===1?function(c,d,u,h){var f=h.typeaheadBuffer[0],m=c.get(f);if(!m)return-1;if(f===h.currentFirstChar&&m[h.sortedIndexCursor].index===d){h.sortedIndexCursor=(h.sortedIndexCursor+1)%m.length;var p=m[h.sortedIndexCursor].index;if(!u(p))return p}h.currentFirstChar=f;var g,v=-1;for(g=0;g<m.length;g++)if(!u(m[g].index)){v=g;break}for(;g<m.length;g++)if(m[g].index>d&&!u(m[g].index)){v=g;break}return v!==-1?(h.sortedIndexCursor=v,m[h.sortedIndexCursor].index):-1}(s,o,l,e):function(c,d,u){var h=u.typeaheadBuffer[0],f=c.get(h);if(!f)return-1;var m=f[u.sortedIndexCursor];if(m.text.lastIndexOf(u.typeaheadBuffer,0)===0&&!d(m.index))return m.index;for(var p=(u.sortedIndexCursor+1)%f.length,g=-1;p!==u.sortedIndexCursor;){var v=f[p],b=v.text.lastIndexOf(u.typeaheadBuffer,0)===0,S=!d(v.index);if(b&&S){g=p;break}p=(p+1)%f.length}return g!==-1?(u.sortedIndexCursor=g,f[u.sortedIndexCursor].index):-1}(s,l,e),t===-1||a||n(t),t}function bk(r){return r.typeaheadBuffer.length>0}function xk(r){r.typeaheadBuffer=""}function h2(r,e){var t=r.event,i=r.isTargetListItem,n=r.focusedItemIndex,s=r.focusItemAtIndex,o=r.sortedIndexByFirstChar,a=r.isItemAtIndexDisabled,l=Ir(t)==="ArrowLeft",c=Ir(t)==="ArrowUp",d=Ir(t)==="ArrowRight",u=Ir(t)==="ArrowDown",h=Ir(t)==="Home",f=Ir(t)==="End",m=Ir(t)==="Enter",p=Ir(t)==="Spacebar";return t.altKey||t.ctrlKey||t.metaKey||l||c||d||u||h||f||m?-1:p||t.key.length!==1?p?(i&&gn(t),i&&bk(e)?j0({focusItemAtIndex:s,focusedItemIndex:n,nextChar:" ",sortedIndexByFirstChar:o,skipFocus:!1,isItemAtIndexDisabled:a},e):-1):-1:(gn(t),j0({focusItemAtIndex:s,focusedItemIndex:n,nextChar:t.key.toLowerCase(),sortedIndexByFirstChar:o,skipFocus:!1,isItemAtIndexDisabled:a},e))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var dB=["Alt","Control","Meta","Shift"];function f2(r){var e=new Set(r?dB.filter(function(t){return r.getModifierState(t)}):[]);return function(t){return t.every(function(i){return e.has(i)})&&t.length===e.size}}(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.wrapFocus=!1,i.isVertical=!0,i.isSingleSelectionList=!1,i.areDisabledItemsFocusable=!0,i.selectedIndex=Ki.UNSET_INDEX,i.focusedItemIndex=Ki.UNSET_INDEX,i.useActivatedClass=!1,i.useSelectedAttr=!1,i.ariaCurrentAttrValue=null,i.isCheckboxList=!1,i.isRadioList=!1,i.lastSelectedIndex=null,i.hasTypeahead=!1,i.typeaheadState=lB(),i.sortedIndexByFirstChar=new Map,i}return js(e,r),Object.defineProperty(e,"strings",{get:function(){return so},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return $t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ki},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.setDisabledItemsFocusable=function(t){this.areDisabledItemsFocusable=t},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();t!==Ki.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,$t.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t)},e.prototype.getSelectedIndexFromDOM=function(){for(var t=Ki.UNSET_INDEX,i=this.adapter.getListItemCount(),n=0;n<i;n++){var s=this.adapter.listItemAtIndexHasClass(n,$t.LIST_ITEM_SELECTED_CLASS),o=this.adapter.listItemAtIndexHasClass(n,$t.LIST_ITEM_ACTIVATED_CLASS);if(s||o){t=n;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&bk(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,i){i===void 0&&(i={}),this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t,i):this.isRadioList?this.setRadioAtIndex(t,i):this.setSingleSelectionAtIndex(t,i))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var i=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout(function(){i.adapter.isFocusInsideList()||i.setTabindexToFirstSelectedOrFocusedItem()},0)},e.prototype.isIndexDisabled=function(t){return this.adapter.listItemAtIndexHasClass(t,$t.LIST_ITEM_DISABLED_CLASS)},e.prototype.handleKeydown=function(t,i,n){var s,o=this,a=Ir(t)==="ArrowLeft",l=Ir(t)==="ArrowUp",c=Ir(t)==="ArrowRight",d=Ir(t)==="ArrowDown",u=Ir(t)==="Home",h=Ir(t)==="End",f=Ir(t)==="Enter",m=Ir(t)==="Spacebar",p=this.isVertical&&d||!this.isVertical&&c,g=this.isVertical&&l||!this.isVertical&&a,v=t.key==="A"||t.key==="a",b=f2(t);if(this.adapter.isRootFocused()){if((g||h)&&b([])?(t.preventDefault(),this.focusLastElement()):(p||u)&&b([])?(t.preventDefault(),this.focusFirstElement()):g&&b(["Shift"])&&this.isCheckboxList?(t.preventDefault(),(x=this.focusLastElement())!==-1&&this.setSelectedIndexOnAction(x,!1)):p&&b(["Shift"])&&this.isCheckboxList&&(t.preventDefault(),(x=this.focusFirstElement())!==-1&&this.setSelectedIndexOnAction(x,!1)),this.hasTypeahead){var S={event:t,focusItemAtIndex:function(T){o.focusItemAtIndex(T)},focusedItemIndex:-1,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(T){return o.isIndexDisabled(T)}};h2(S,this.typeaheadState)}}else{var _=this.adapter.getFocusedElementIndex();if(!(_===-1&&(_=n)<0)){if(p&&b([]))gn(t),this.focusNextElement(_);else if(g&&b([]))gn(t),this.focusPrevElement(_);else if(p&&b(["Shift"])&&this.isCheckboxList)gn(t),(x=this.focusNextElement(_))!==-1&&this.setSelectedIndexOnAction(x,!1);else if(g&&b(["Shift"])&&this.isCheckboxList){var x;gn(t),(x=this.focusPrevElement(_))!==-1&&this.setSelectedIndexOnAction(x,!1)}else if(u&&b([]))gn(t),this.focusFirstElement();else if(h&&b([]))gn(t),this.focusLastElement();else if(u&&b(["Control","Shift"])&&this.isCheckboxList){if(gn(t),this.isIndexDisabled(_))return;this.focusFirstElement(),this.toggleCheckboxRange(0,_,_)}else if(h&&b(["Control","Shift"])&&this.isCheckboxList){if(gn(t),this.isIndexDisabled(_))return;this.focusLastElement(),this.toggleCheckboxRange(_,this.adapter.getListItemCount()-1,_)}else if(v&&b(["Control"])&&this.isCheckboxList)t.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===Ki.UNSET_INDEX?[]:this.selectedIndex,!0);else if((f||m)&&b([])){if(i){if((I=t.target)&&I.tagName==="A"&&f||(gn(t),this.isIndexDisabled(_)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(_,!1),this.adapter.notifyAction(_))}}else if((f||m)&&b(["Shift"])&&this.isCheckboxList){var I;if((I=t.target)&&I.tagName==="A"&&f||(gn(t),this.isIndexDisabled(_)))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange((s=this.lastSelectedIndex)!==null&&s!==void 0?s:_,_,_),this.adapter.notifyAction(_))}this.hasTypeahead&&(S={event:t,focusItemAtIndex:function(T){o.focusItemAtIndex(T)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(T){return o.isIndexDisabled(T)}},h2(S,this.typeaheadState))}}},e.prototype.handleClick=function(t,i,n){var s,o=f2(n);t!==Ki.UNSET_INDEX&&(this.isIndexDisabled(t)||(o([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(t,i),this.adapter.notifyAction(t)):this.isCheckboxList&&o(["Shift"])&&(this.toggleCheckboxRange((s=this.lastSelectedIndex)!==null&&s!==void 0?s:t,t,t),this.adapter.notifyAction(t))))},e.prototype.focusNextElement=function(t){var i=this.adapter.getListItemCount(),n=t,s=null;do{if(++n>=i){if(!this.wrapFocus)return t;n=0}if(n===s)return-1;s=s!=null?s:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},e.prototype.focusPrevElement=function(t){var i=this.adapter.getListItemCount(),n=t,s=null;do{if(--n<0){if(!this.wrapFocus)return t;n=i-1}if(n===s)return-1;s=s!=null?s:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},e.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},e.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,i){this.isIndexValid(t,!1)&&(i?(this.adapter.removeClassForElementIndex(t,$t.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,so.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,$t.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,so.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,i){if(i===void 0&&(i={}),this.selectedIndex!==t||i.forceUpdate){var n=$t.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(n=$t.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Ki.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,n),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==Ki.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,n),this.selectedIndex=t,i.isUserInteraction&&!i.forceUpdate&&this.adapter.notifySelectionChange([t])}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===Ki.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,so.ARIA_CURRENT));var i=this.ariaCurrentAttrValue!==null,n=i?so.ARIA_CURRENT:so.ARIA_SELECTED;if(this.selectedIndex!==Ki.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),t!==Ki.UNSET_INDEX){var s=i?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,n,s)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?so.ARIA_SELECTED:so.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t,i){i===void 0&&(i={});var n=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),(this.selectedIndex!==t||i.forceUpdate)&&(this.selectedIndex!==Ki.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),this.adapter.setAttributeForElementIndex(t,n,"true"),this.selectedIndex=t,i.isUserInteraction&&!i.forceUpdate&&this.adapter.notifySelectionChange([t]))},e.prototype.setCheckboxAtIndex=function(t,i){i===void 0&&(i={});for(var n=this.selectedIndex,s=i.isUserInteraction?new Set(n===Ki.UNSET_INDEX?[]:n):null,o=this.getSelectionAttribute(),a=[],l=0;l<this.adapter.getListItemCount();l++){var c=s==null?void 0:s.has(l),d=t.indexOf(l)>=0;d!==c&&a.push(l),this.adapter.setCheckedCheckboxOrRadioAtIndex(l,d),this.adapter.setAttributeForElementIndex(l,o,d?"true":"false")}this.selectedIndex=t,i.isUserInteraction&&a.length&&this.adapter.notifySelectionChange(a)},e.prototype.toggleCheckboxRange=function(t,i,n){this.lastSelectedIndex=n;for(var s=new Set(this.selectedIndex===Ki.UNSET_INDEX?[]:this.selectedIndex),o=!(s!=null&&s.has(n)),a=u2([t,i].sort(),2),l=a[0],c=a[1],d=this.getSelectionAttribute(),u=[],h=l;h<=c;h++)this.isIndexDisabled(h)||o!==s.has(h)&&(u.push(h),this.adapter.setCheckedCheckboxOrRadioAtIndex(h,o),this.adapter.setAttributeForElementIndex(h,d,""+o),o?s.add(h):s.delete(h));u.length&&(this.selectedIndex=Wz([],u2(s)),this.adapter.notifySelectionChange(u))},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===Ki.UNSET_INDEX&&t!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===t||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==Ki.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==Ki.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(t,i){return Math.min(t,i)}):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t,i){var n=this;if(i===void 0&&(i=!0),t instanceof Array){if(!this.isCheckboxList&&i)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return t.length===0||t.some(function(s){return n.isIndexInRange(s)})}if(typeof t=="number"){if(this.isCheckboxList&&i)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===Ki.UNSET_INDEX}return!1},e.prototype.isIndexInRange=function(t){var i=this.adapter.getListItemCount();return t>=0&&t<i},e.prototype.setSelectedIndexOnAction=function(t,i){this.lastSelectedIndex=t,this.isCheckboxList?(this.toggleCheckboxAtIndex(t,i),this.adapter.notifySelectionChange([t])):this.setSelectedIndex(t,{isUserInteraction:!0})},e.prototype.toggleCheckboxAtIndex=function(t,i){var n,s=this.getSelectionAttribute(),o=this.adapter.isCheckboxCheckedAtIndex(t);i?n=o:(n=!o,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,n)),this.adapter.setAttributeForElementIndex(t,s,n?"true":"false");var a=this.selectedIndex===Ki.UNSET_INDEX?[]:this.selectedIndex.slice();n?a.push(t):a=a.filter(function(l){return l!==t}),this.selectedIndex=a},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.checkboxListToggleAll=function(t,i){var n=this.adapter.getListItemCount();if(t.length===n)this.setCheckboxAtIndex([],{isUserInteraction:i});else{for(var s=[],o=0;o<n;o++)(!this.isIndexDisabled(o)||t.indexOf(o)>-1)&&s.push(o);this.setCheckboxAtIndex(s,{isUserInteraction:i})}},e.prototype.typeaheadMatchItem=function(t,i,n){var s=this;n===void 0&&(n=!1);var o={focusItemAtIndex:function(a){s.focusItemAtIndex(a)},focusedItemIndex:i||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(a){return s.isIndexDisabled(a)}};return j0(o,this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return cB(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){xk(this.typeaheadState)},e})(Gs);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uB={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},hB={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},m2={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function fB(r,e,t){if(!r)return{x:0,y:0};var i,n,s=e.x,o=e.y,a=s+t.left,l=o+t.top;if(r.type==="touchstart"){var c=r;i=c.changedTouches[0].pageX-a,n=c.changedTouches[0].pageY-l}else{var d=r;i=d.pageX-a,n=d.pageY-l}return{x:i,y:n}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var p2=["touchstart","pointerdown","mousedown","keydown"],g2=["touchend","pointerup","mouseup","contextmenu"],ih=[];(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.activationAnimationHasEnded=!1,i.activationTimer=0,i.fgDeactivationRemovalTimer=0,i.fgScale="0",i.frame={width:0,height:0},i.initialSize=0,i.layoutFrame=0,i.maxRadius=0,i.unboundedCoords={left:0,top:0},i.activationState=i.defaultActivationState(),i.activationTimerCallback=function(){i.activationAnimationHasEnded=!0,i.runDeactivationUXLogicIfReady()},i.activateHandler=function(n){i.activateImpl(n)},i.deactivateHandler=function(){i.deactivateImpl()},i.focusHandler=function(){i.handleFocus()},i.blurHandler=function(){i.handleBlur()},i.resizeHandler=function(){i.layout()},i}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return uB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return hB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return m2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,i=this.supportsPressRipple();if(this.registerRootHandlers(i),i){var n=e.cssClasses,s=n.ROOT,o=n.UNBOUNDED;requestAnimationFrame(function(){t.adapter.addClass(s),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal())})}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var i=e.cssClasses,n=i.ROOT,s=i.UNBOUNDED;requestAnimationFrame(function(){t.adapter.removeClass(n),t.adapter.removeClass(s),t.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){t.layoutInternal(),t.layoutFrame=0})},e.prototype.setUnbounded=function(t){var i=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame(function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame(function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var i,n;if(t){try{for(var s=Fn(p2),o=s.next();!o.done;o=s.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var i,n;if(t.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var s=Fn(g2),o=s.next();!o.done;o=s.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}},e.prototype.deregisterRootHandlers=function(){var t,i;try{for(var n=Fn(p2),s=n.next();!s.done;s=n.next()){var o=s.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,i;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=Fn(g2),s=n.next();!s.done;s=n.next()){var o=s.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,i=e.strings;Object.keys(i).forEach(function(n){n.indexOf("VAR_")===0&&t.adapter.updateCssVariable(i[n],null)})},e.prototype.activateImpl=function(t){var i=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var s=this.previousActivationEvent;s&&t!==void 0&&s.type!==t.type||(n.isActivated=!0,n.isProgrammatic=t===void 0,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&t!==void 0&&(t.type==="mousedown"||t.type==="touchstart"||t.type==="pointerdown"),t!==void 0&&ih.length>0&&ih.some(function(o){return i.adapter.containsEventTarget(o)})?this.resetActivationState():(t!==void 0&&(ih.push(t.target),this.registerDeactivationHandlers(t)),n.wasElementMadeActive=this.checkElementMadeActive(t),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){ih=[],n.wasElementMadeActive||t===void 0||t.key!==" "&&t.keyCode!==32||(n.wasElementMadeActive=i.checkElementMadeActive(t),n.wasElementMadeActive&&i.animateActivation()),n.wasElementMadeActive||(i.activationState=i.defaultActivationState())})))}}},e.prototype.checkElementMadeActive=function(t){return t===void 0||t.type!=="keydown"||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,i=e.strings,n=i.VAR_FG_TRANSLATE_START,s=i.VAR_FG_TRANSLATE_END,o=e.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var d="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),f=h.startPoint,m=h.endPoint;d=f.x+"px, "+f.y+"px",u=m.x+"px, "+m.y+"px"}this.adapter.updateCssVariable(n,d),this.adapter.updateCssVariable(s,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){t.activationTimerCallback()},c)},e.prototype.getFgTranslationCoordinates=function(){var t,i=this.activationState,n=i.activationEvent;return{startPoint:t={x:(t=i.wasActivatedByPointer?fB(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,i=e.cssClasses.FG_DEACTIVATION,n=this.activationState,s=n.hasDeactivationUXRun,o=n.isActivated;(s||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(i),this.fgDeactivationRemovalTimer=setTimeout(function(){t.adapter.removeClass(i)},m2.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return t.previousActivationEvent=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,i=this.activationState;if(i.isActivated){var n=er({},i);i.isProgrammatic?(requestAnimationFrame(function(){t.animateDeactivation(n)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(n),t.resetActivationState()}))}},e.prototype.animateDeactivation=function(t){var i=t.wasActivatedByPointer,n=t.wasElementMadeActive;(i||n)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){var t=this;this.frame=this.adapter.computeBoundingRect();var i=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?i:Math.sqrt(Math.pow(t.frame.width,2)+Math.pow(t.frame.height,2))+e.numbers.PADDING;var n=Math.floor(i*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize=n-1:this.initialSize=n,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,i=t.VAR_FG_SIZE,n=t.VAR_LEFT,s=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(i,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(n,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(s,this.unboundedCoords.top+"px"))},e})(Gs);function mB(r){let e;const t=r[11].default,i=Mf(t,r,r[13],null);return{c(){i&&i.c()},m(n,s){i&&i.m(n,s),e=!0},p(n,s){i&&i.p&&(!e||8192&s)&&Ff(i,t,n,n[13],e?Rf(t,n[13],s,null):Nf(n[13]),null)},i(n){e||(ss(i,n),e=!0)},o(n){Ms(i,n),e=!1},d(n){i&&i.d(n)}}}function pB(r){let e,t,i;const n=[{tag:r[3]},{use:[r[8],...r[0]]},{class:af(Ui({[r[1]]:!0,[r[6]]:!0},r[5]))},r[7],r[9]];var s=r[2];function o(a){let l={$$slots:{default:[mB]},$$scope:{ctx:a}};for(let c=0;c<n.length;c+=1)l=xn(l,n[c]);return{props:l}}return s&&(e=s2(s,o(r)),r[12](e)),{c(){e&&l2(e.$$.fragment),t=zf()},m(a,l){e&&N0(e,a,l),Eo(a,t,l),i=!0},p(a,[l]){const c=1003&l?kd(n,[8&l&&{tag:a[3]},257&l&&{use:[a[8],...a[0]]},98&l&&{class:af(Ui({[a[1]]:!0,[a[6]]:!0},a[5]))},128&l&&a2(a[7]),512&l&&a2(a[9])]):{};if(8192&l&&(c.$$scope={dirty:l,ctx:a}),4&l&&s!==(s=a[2])){if(e){vk();const d=e;Ms(d.$$.fragment,1,0,()=>{z0(d,1)}),_k()}s?(e=s2(s,o(a)),a[12](e),l2(e.$$.fragment),ss(e.$$.fragment,1),N0(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(a){i||(e&&ss(e.$$.fragment,a),i=!0)},o(a){e&&Ms(e.$$.fragment,a),i=!1},d(a){r[12](null),a&&Bs(t),e&&z0(e,a)}}}const Ss={component:yk,tag:"div",class:"",classMap:{},contexts:{},props:{}};function gB(r,e,t){const i=["use","class","component","tag","getElement"];let n,s=zl(e,i),{$$slots:o={},$$scope:a}=e,{use:l=[]}=e,{class:c=""}=e;const d=Ss.class,u={},h=[],f=Ss.contexts,m=Ss.props;let{component:p=Ss.component}=e,{tag:g=p===yk?Ss.tag:void 0}=e;Object.entries(Ss.classMap).forEach(([b,S])=>{const _=pk(S);_&&"subscribe"in _&&h.push(_.subscribe(x=>{t(5,u[b]=x,u)}))});const v=d_(Yl());for(let b in f)f.hasOwnProperty(b)&&Rz(b,f[b]);return Mz(()=>{for(const b of h)b()}),r.$$set=b=>{e=xn(xn({},e),s_(b)),t(9,s=zl(e,i)),"use"in b&&t(0,l=b.use),"class"in b&&t(1,c=b.class),"component"in b&&t(2,p=b.component),"tag"in b&&t(3,g=b.tag),"$$scope"in b&&t(13,a=b.$$scope)},[l,c,p,g,n,u,d,m,v,s,function(){return n.getElement()},o,function(b){oa[b?"unshift":"push"](()=>{n=b,t(4,n)})},a]}class vB extends c_{constructor(e){super(),l_(this,e,gB,pB,Cd,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const v2=Object.assign({},Ss);function cs(r){return new Proxy(vB,{construct:function(e,t){return Object.assign(Ss,v2,r),new e(...t)},get:function(e,t){return Object.assign(Ss,v2,r),e[t]}})}cs({class:"mdc-deprecated-list-item__text",tag:"span"});cs({class:"mdc-deprecated-list-item__primary-text",tag:"span"});cs({class:"mdc-deprecated-list-item__secondary-text",tag:"span"});cs({class:"mdc-deprecated-list-item__meta",tag:"span"});cs({class:"mdc-deprecated-list-group",tag:"div"});cs({class:"mdc-deprecated-list-group__subheader",tag:"h3"});/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _B={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.shakeAnimationEndHandler=function(){i.handleShakeAnimationEnd()},i}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return _B},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var i=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.float=function(t){var i=e.cssClasses,n=i.LABEL_FLOAT_ABOVE,s=i.LABEL_SHAKE;t?this.adapter.addClass(n):(this.adapter.removeClass(n),this.adapter.removeClass(s))},e.prototype.setRequired=function(t){var i=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e})(Gs);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Xo={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.transitionEndHandler=function(n){i.handleTransitionEnd(n)},i}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return Xo},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(Xo.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Xo.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(Xo.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var i=this.adapter.hasClass(Xo.LINE_RIPPLE_DEACTIVATING);t.propertyName==="opacity"&&i&&(this.adapter.removeClass(Xo.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Xo.LINE_RIPPLE_DEACTIVATING))},e})(Gs);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yB={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},_2={NOTCH_ELEMENT_PADDING:8},bB={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(r){function e(t){return r.call(this,er(er({},e.defaultAdapter),t))||this}return js(e,r),Object.defineProperty(e,"strings",{get:function(){return yB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return bB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return _2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var i=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=_2.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(i)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e})(Gs);cs({class:"mdc-text-field-helper-line",tag:"div"});cs({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"});cs({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fg={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},xB={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},y2={LABEL_SCALE:.75},wB=["pattern","min","max","required","step","minlength","maxlength"],SB=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var b2=["mousedown","touchstart"],x2=["click","keydown"];(function(r){function e(t,i){i===void 0&&(i={});var n=r.call(this,er(er({},e.defaultAdapter),t))||this;return n.isFocused=!1,n.receivedUserInput=!1,n.valid=!0,n.useNativeValidation=!0,n.validateOnValueChange=!0,n.helperText=i.helperText,n.characterCounter=i.characterCounter,n.leadingIcon=i.leadingIcon,n.trailingIcon=i.trailingIcon,n.inputFocusHandler=function(){n.activateFocus()},n.inputBlurHandler=function(){n.deactivateFocus()},n.inputInputHandler=function(){n.handleInput()},n.setPointerXOffset=function(s){n.setTransformOrigin(s)},n.textFieldInteractionHandler=function(){n.handleTextFieldInteraction()},n.validationAttributeChangeHandler=function(s){n.handleValidationAttributeChange(s)},n}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return xB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Fg},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return SB.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,i,n,s;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Fn(b2),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}try{for(var c=Fn(x2),d=c.next();!d.done;d=c.next())l=d.value,this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}catch(u){n={error:u}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,i,n,s;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Fn(b2),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}try{for(var c=Fn(x2),d=c.next();!d.done;d=c.next())l=d.value,this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}catch(u){n={error:u}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var i=this;t.some(function(n){return wB.indexOf(n)>-1&&(i.styleValidity(!0),i.adapter.setLabelRequired(i.getNativeInput().required),!0)}),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var i=this.adapter.getLabelWidth()*y2.LABEL_SCALE;this.adapter.notchOutline(i)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var i=t.touches,n=i?i[0]:t,s=n.target.getBoundingClientRect(),o=n.clientX-s.left;this.adapter.setLineRippleTransformOrigin(o)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var i=this.isValid();this.styleValidity(i)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var i=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(i)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var i=this.getNativeInput().maxLength;if(i===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,i)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var i=e.cssClasses.INVALID;if(t?this.adapter.removeClass(i):this.adapter.addClass(i),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var n=this.helperText.isVisible(),s=this.helperText.getId();n&&s?this.adapter.setInputAttr(Fg.ARIA_DESCRIBEDBY,s):this.adapter.removeInputAttr(Fg.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var i=e.cssClasses.FOCUSED;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.styleDisabled=function(t){var i=e.cssClasses,n=i.DISABLED,s=i.INVALID;t?(this.adapter.addClass(n),this.adapter.removeClass(s)):this.adapter.removeClass(n),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var i=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(i):this.adapter.removeClass(i)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e})(Gs);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var w2={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},TB={ROOT:"mdc-text-field__icon"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var S2=["click","keydown"];(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.savedTabIndex=null,i.interactionHandler=function(n){i.handleInteraction(n)},i}return js(e,r),Object.defineProperty(e,"strings",{get:function(){return w2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return TB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,i;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=Fn(S2),s=n.next();!s.done;s=n.next()){var o=s.value;this.adapter.registerInteractionHandler(o,this.interactionHandler)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,i;try{for(var n=Fn(S2),s=n.next();!s.done;s=n.next()){var o=s.value;this.adapter.deregisterInteractionHandler(o,this.interactionHandler)}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",w2.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var i=t.key==="Enter"||t.keyCode===13;(t.type==="click"||i)&&(t.preventDefault(),this.adapter.notifyIconAction())},e})(Gs);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ji,Wc,CB={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},kB={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Ec={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};(function(r){r[r.BOTTOM=1]="BOTTOM",r[r.CENTER=2]="CENTER",r[r.RIGHT=4]="RIGHT",r[r.FLIP_RTL=8]="FLIP_RTL"})(Ji||(Ji={})),function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=4]="TOP_RIGHT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",r[r.TOP_START=8]="TOP_START",r[r.TOP_END=12]="TOP_END",r[r.BOTTOM_START=9]="BOTTOM_START",r[r.BOTTOM_END=13]="BOTTOM_END"}(Wc||(Wc={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var EB=function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.isHorizontallyCenteredOnViewport=!1,i.maxHeight=0,i.openBottomBias=0,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=Wc.TOP_START,i.originCorner=Wc.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return CB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return kB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Wc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,i=t.ROOT,n=t.OPEN;if(!this.adapter.hasClass(i))throw new Error(i+" class required in root element.");this.adapter.hasClass(n)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^Ji.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.isFixed=function(){return this.isFixedPosition},e.prototype.setAbsolutePosition=function(t,i){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(i)?i:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(t){this.isHorizontallyCenteredOnViewport=t},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.setOpenBottomBias=function(t){this.openBottomBias=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.adapter.addClass(e.cssClasses.OPEN),t.openAnimationEndTimerId=setTimeout(function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()},Ec.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var i=this;if(t===void 0&&(t=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){i.adapter.removeClass(e.cssClasses.OPEN),i.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),i.closeAnimationEndTimerId=setTimeout(function(){i.closeAnimationEndTimerId=0,i.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),i.adapter.notifyClose()},Ec.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var i=t.target;this.adapter.isElementInContainer(i)||this.close()},e.prototype.handleKeydown=function(t){var i=t.keyCode;(t.key==="Escape"||i===27)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var i=this.getoriginCorner(),n=this.getMenuSurfaceMaxHeight(i),s=this.hasBit(i,Ji.BOTTOM)?"bottom":"top",o=this.hasBit(i,Ji.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(i),l=this.getVerticalOriginOffset(i),c=this.measurements,d=c.anchorSize,u=c.surfaceSize,h=((t={})[o]=a,t[s]=l,t);d.width/u.width>Ec.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(h),this.adapter.setTransformOrigin(o+" "+s),this.adapter.setPosition(h),this.adapter.setMaxHeight(n?n+"px":""),this.hasBit(i,Ji.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),i=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),s=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:i,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:s}},e.prototype.getoriginCorner=function(){var t,i,n=this.originCorner,s=this.measurements,o=s.viewportDistance,a=s.anchorSize,l=s.surfaceSize,c=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,Ji.BOTTOM)?(t=o.top-c+this.anchorMargin.bottom,i=o.bottom-c-this.anchorMargin.bottom):(t=o.top-c+this.anchorMargin.top,i=o.bottom-c+a.height-this.anchorMargin.top),!(i-l.height>0)&&t>i+this.openBottomBias&&(n=this.setBit(n,Ji.BOTTOM));var d,u,h=this.adapter.isRtl(),f=this.hasBit(this.anchorCorner,Ji.FLIP_RTL),m=this.hasBit(this.anchorCorner,Ji.RIGHT)||this.hasBit(n,Ji.RIGHT),p=!1;(p=h&&f?!m:m)?(d=o.left+a.width+this.anchorMargin.right,u=o.right-this.anchorMargin.right):(d=o.left+this.anchorMargin.left,u=o.right+a.width-this.anchorMargin.left);var g=d-l.width>0,v=u-l.width>0,b=this.hasBit(n,Ji.FLIP_RTL)&&this.hasBit(n,Ji.RIGHT);return v&&b&&h||!g&&b?n=this.unsetBit(n,Ji.RIGHT):(g&&p&&h||g&&!p&&m||!v&&d>=u)&&(n=this.setBit(n,Ji.RIGHT)),n},e.prototype.getMenuSurfaceMaxHeight=function(t){if(this.maxHeight>0)return this.maxHeight;var i=this.measurements.viewportDistance,n=0,s=this.hasBit(t,Ji.BOTTOM),o=this.hasBit(this.anchorCorner,Ji.BOTTOM),a=e.numbers.MARGIN_TO_EDGE;return s?(n=i.top+this.anchorMargin.top-a,o||(n+=this.measurements.anchorSize.height)):(n=i.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,o&&(n-=this.measurements.anchorSize.height)),n},e.prototype.getHorizontalOriginOffset=function(t){var i=this.measurements.anchorSize,n=this.hasBit(t,Ji.RIGHT),s=this.hasBit(this.anchorCorner,Ji.RIGHT);if(n){var o=s?i.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?o-(this.measurements.viewportSize.width-this.measurements.bodySize.width):o}return s?i.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var i=this.measurements.anchorSize,n=this.hasBit(t,Ji.BOTTOM),s=this.hasBit(this.anchorCorner,Ji.BOTTOM);return n?s?i.height-this.anchorMargin.top:-this.anchorMargin.bottom:s?i.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var i,n,s=this.measurements,o=s.windowScroll,a=s.viewportDistance,l=s.surfaceSize,c=s.viewportSize,d=Object.keys(t);try{for(var u=Fn(d),h=u.next();!h.done;h=u.next()){var f=h.value,m=t[f]||0;!this.isHorizontallyCenteredOnViewport||f!=="left"&&f!=="right"?(m+=a[f],this.isFixedPosition||(f==="top"?m+=o.y:f==="bottom"?m-=o.y:f==="left"?m+=o.x:m-=o.x),t[f]=m):t[f]=(c.width-l.width)/2}}catch(p){i={error:p}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}},e.prototype.maybeRestoreFocus=function(){var t=this,i=this.adapter.isFocused(),n=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,s=n.activeElement&&this.adapter.isElementInContainer(n.activeElement);(i||s)&&setTimeout(function(){t.adapter.restoreFocus()},Ec.TOUCH_EVENT_WAIT_MS)},e.prototype.hasBit=function(t,i){return!!(t&i)},e.prototype.setBit=function(t,i){return t|i},e.prototype.unsetBit=function(t,i){return t^i},e.prototype.isFinite=function(t){return typeof t=="number"&&isFinite(t)},e}(Gs);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cl,Ng={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Qa={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},AB={FOCUS_ROOT_INDEX:-1};(function(r){r[r.NONE=0]="NONE",r[r.LIST_ROOT=1]="LIST_ROOT",r[r.FIRST_ITEM=2]="FIRST_ITEM",r[r.LAST_ITEM=3]="LAST_ITEM"})(cl||(cl={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(r){function e(t){var i=r.call(this,er(er({},e.defaultAdapter),t))||this;return i.closeAnimationEndTimerId=0,i.defaultFocusState=cl.LIST_ROOT,i.selectedIndex=-1,i}return js(e,r),Object.defineProperty(e,"cssClasses",{get:function(){return Ng},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Qa},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return AB},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var i=t.key,n=t.keyCode;(i==="Tab"||n===9)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var i=this,n=this.adapter.getElementIndex(t);if(!(n<0)){this.adapter.notifySelected({index:n});var s=this.adapter.getAttributeFromElementAtIndex(n,Qa.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(s),this.closeAnimationEndTimerId=setTimeout(function(){var o=i.adapter.getElementIndex(t);o>=0&&i.adapter.isSelectableItemAtIndex(o)&&i.setSelectedIndex(o)},EB.numbers.TRANSITION_CLOSE_DURATION)}},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case cl.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case cl.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case cl.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var i=this.adapter.getSelectedSiblingOfItemAtIndex(t);i>=0&&(this.adapter.removeAttributeFromElementAtIndex(i,Qa.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(i,Ng.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,Ng.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Qa.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=t},e.prototype.setEnabled=function(t,i){this.validatedIndex(t),i?(this.adapter.removeClassFromElementAtIndex(t,$t.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Qa.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,$t.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Qa.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex=function(t){var i=this.adapter.getMenuItemCount();if(!(t>=0&&t<i))throw new Error("MDCMenuFoundation: No list item at specified index.")},e})(Gs);function OB(r){let e,t,i,n,s,o;const a=r[8].default,l=Mf(a,r,r[7],null);let c=[{class:t=af({[r[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":r[4]})},r[5]],d={};for(let u=0;u<c.length;u+=1)d=xn(d,c[u]);return{c(){e=o_("span"),l&&l.c(),M0(e,d)},m(u,h){Eo(u,e,h),l&&l.m(e,null),r[9](e),n=!0,s||(o=[wo(i=Bf.call(null,e,r[0])),wo(r[3].call(null,e))],s=!0)},p(u,[h]){l&&l.p&&(!n||128&h)&&Ff(l,a,u,u[7],n?Rf(a,u[7],h,null):Nf(u[7]),null),M0(e,d=kd(c,[(!n||2&h&&t!==(t=af({[u[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":u[4]})))&&{class:t},32&h&&u[5]])),i&&xa(i.update)&&1&h&&i.update.call(null,u[0])},i(u){n||(ss(l,u),n=!0)},o(u){Ms(l,u),n=!1},d(u){u&&Bs(e),l&&l.d(u),r[9](null),s=!1,zs(o)}}}function IB(r,e,t){const i=["use","class","getElement"];let n=zl(e,i),{$$slots:s={},$$scope:o}=e;const a=d_(Yl());let l,{use:c=[]}=e,{class:d=""}=e,u=pk("SMUI:list:graphic:menu-selection-group");return r.$$set=h=>{e=xn(xn({},e),s_(h)),t(5,n=zl(e,i)),"use"in h&&t(0,c=h.use),"class"in h&&t(1,d=h.class),"$$scope"in h&&t(7,o=h.$$scope)},[c,d,l,a,u,n,function(){return l},o,s,function(h){oa[h?"unshift":"push"](()=>{l=h,t(2,l)})}]}class LB extends c_{constructor(e){super(),l_(this,e,IB,OB,Cd,{use:0,class:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}cs({class:"mdc-menu__selection-group-icon",component:LB});var PB='.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:text;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);left:0;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.15rem;overflow:hidden;position:absolute;text-align:left;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);-webkit-transform-origin:left top;transform-origin:left top;transition:transform .15s cubic-bezier(.4,0,.2,1),color .15s cubic-bezier(.4,0,.2,1);white-space:nowrap;will-change:transform}.mdc-floating-label[dir=rtl],[dir=rtl] .mdc-floating-label{left:auto;right:0;text-align:right;-webkit-transform-origin:right top;transform-origin:right top}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:after{content:"*";margin-left:1px;margin-right:0}.mdc-floating-label--required[dir=rtl]:after,[dir=rtl] .mdc-floating-label--required:after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard .25s 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(0) translateY(-106%) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-106%) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-106%) scale(.75)}to{transform:translateX(0) translateY(-106%) scale(.75)}}.smui-floating-label--remove-transition{transition:unset!important}.smui-floating-label--force-size{position:absolute!important;transform:unset!important}.mdc-line-ripple:after,.mdc-line-ripple:before{border-bottom-style:solid;bottom:0;content:"";left:0;position:absolute;width:100%}.mdc-line-ripple:before{border-bottom-width:1px;z-index:1}.mdc-line-ripple:after{border-bottom-width:2px;opacity:0;transform:scaleX(0);transition:transform .18s cubic-bezier(.4,0,.2,1),opacity .18s cubic-bezier(.4,0,.2,1);z-index:2}.mdc-line-ripple--active:after{opacity:1;transform:scaleX(1)}.mdc-line-ripple--deactivating:after{opacity:0}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87));font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-deprecated-list-item__graphic{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{opacity:.38}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__secondary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-deprecated-list-item--activated,.mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic,.mdc-deprecated-list-item--selected,.mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list--dense{font-size:.812rem;padding-bottom:4px;padding-top:4px}.mdc-deprecated-list-item__wrapper{display:block}.mdc-deprecated-list-item{align-items:center;display:flex;height:48px;justify-content:flex-start;overflow:hidden;padding:0 16px;position:relative}.mdc-deprecated-list-item:focus{outline:none}.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border-color:CanvasText}}.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border-color:CanvasText}}.mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item{height:72px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px;padding-left:0;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item{padding-left:16px;padding-right:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:20px;margin-left:0;margin-right:16px;width:20px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list-item__graphic{fill:currentColor;align-items:center;flex-shrink:0;height:24px;justify-content:center;margin-left:0;margin-right:32px;object-fit:cover;width:24px}.mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{height:24px;margin-left:0;margin-right:32px;width:24px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{border-radius:50%;height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:56px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:100px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list .mdc-deprecated-list-item__graphic{display:inline-flex}.mdc-deprecated-list-item__meta{margin-left:auto;margin-right:0}.mdc-deprecated-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-deprecated-list-item[dir=rtl] .mdc-deprecated-list-item__meta,[dir=rtl] .mdc-deprecated-list-item .mdc-deprecated-list-item__meta{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-deprecated-list-item__secondary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:40px}.mdc-deprecated-list--two-line .mdc-deprecated-list-item__text{align-self:flex-start}.mdc-deprecated-list--two-line .mdc-deprecated-list-item{height:64px}.mdc-deprecated-list--two-line.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--image-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px}.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:36px;margin-left:0;margin-right:16px;width:36px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{cursor:pointer}a.mdc-deprecated-list-item{color:inherit;text-decoration:none}.mdc-deprecated-list-divider{border:none;border-bottom:1px solid;border-bottom-color:rgba(0,0,0,.12);height:0;margin:0}.mdc-deprecated-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--padded{margin-left:0;margin-right:16px}.mdc-deprecated-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list-divider--inset[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset{margin-left:0;margin-right:72px}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:0;margin-right:72px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0;width:100%}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0}.mdc-deprecated-list-group .mdc-deprecated-list{padding:0}.mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-item__primary-text{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-list-item__overline-text{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-trailing-icon .mdc-list-item__end{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-list-item__end{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end,.mdc-list-item--disabled .mdc-list-item__start{opacity:.38}.mdc-list-item--disabled .mdc-list-item__overline-text,.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--disabled.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-list-item--activated .mdc-list-item__primary-text,.mdc-list-item--activated.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--selected .mdc-list-item__primary-text,.mdc-list-item--selected.mdc-list-item--with-leading-icon .mdc-list-item__start{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-list-divider:after{border-bottom:1px solid #fff;content:"";display:block}}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{align-items:center;align-items:stretch;cursor:pointer;display:flex;justify-content:flex-start;overflow:hidden;padding:0;position:relative}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus:before{border:3px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:focus:before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor}.mdc-list-item__end,.mdc-list-item__start{flex-shrink:0;pointer-events:none}.mdc-list-item__content{align-self:center;flex:1;overflow:hidden;pointer-events:none;text-overflow:ellipsis;white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__content,.mdc-list-item--with-two-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__primary-text,.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:after,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-list-item__secondary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{line-height:20px;white-space:normal}.mdc-list-item--with-overline .mdc-list-item__secondary-text{line-height:auto;white-space:nowrap}.mdc-list-item__overline-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-overline-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-overline-font-size,.75rem);font-weight:500;font-weight:var(--mdc-typography-overline-font-weight,500);letter-spacing:.1666666667em;letter-spacing:var(--mdc-typography-overline-letter-spacing,.1666666667em);line-height:2rem;line-height:var(--mdc-typography-overline-line-height,2rem);overflow:hidden;text-decoration:none;text-decoration:var(--mdc-typography-overline-text-decoration,none);text-overflow:ellipsis;text-transform:uppercase;text-transform:var(--mdc-typography-overline-text-transform,uppercase);white-space:nowrap}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon .mdc-list-item__start{height:24px;width:24px}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image .mdc-list-item__start{height:56px;width:56px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line,.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{height:56px;width:100px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line,.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch .mdc-list-item__start{height:20px;width:36px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{height:24px;width:24px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{height:20px;width:36px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item,.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-divider{background-clip:content-box;background-color:rgba(0,0,0,.12);height:1px;padding:0}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:16px}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:0}.mdc-list-divider[dir=rtl],[dir=rtl] .mdc-list-divider{padding:0}@keyframes mdc-ripple-fg-radius-in{0%{animation-timing-function:cubic-bezier(.4,0,.2,1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-opacity-in{0%{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@keyframes mdc-ripple-fg-opacity-out{0%{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-deprecated-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-deprecated-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-deprecated-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-ripple-surface{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:none;overflow:hidden;position:relative;will-change:transform,opacity}.mdc-ripple-surface:after,.mdc-ripple-surface:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-ripple-surface:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-ripple-surface:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-ripple-surface.mdc-ripple-upgraded:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface.mdc-ripple-upgraded:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface:after,.mdc-ripple-surface:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-ripple-surface.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:before,.mdc-ripple-upgraded--unbounded:after,.mdc-ripple-upgraded--unbounded:before{height:100%;left:0;top:0;width:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:before{height:var(--mdc-ripple-fg-size,100%);left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface:after,.mdc-ripple-surface:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-ripple-surface.mdc-ripple-surface--hover:before,.mdc-ripple-surface:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused:before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-ripple-surface:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--primary:after,.smui-ripple-surface--primary:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}.smui-ripple-surface--primary.mdc-ripple-surface--hover:before,.smui-ripple-surface--primary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--primary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--secondary:after,.smui-ripple-surface--secondary:before{background-color:#018786;background-color:var(--mdc-ripple-color,var(--mdc-theme-secondary,#018786))}.smui-ripple-surface--secondary.mdc-ripple-surface--hover:before,.smui-ripple-surface--secondary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--secondary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-list--three-line .mdc-deprecated-list-item__text{align-self:flex-start}.smui-list--three-line .mdc-deprecated-list-item{height:88px}.smui-list--three-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:76px}.mdc-deprecated-list-item.smui-menu-item--non-interactive{cursor:auto}.mdc-elevation-overlay{background-color:#fff;background-color:var(--mdc-elevation-overlay-color,#fff);border-radius:inherit;opacity:0;opacity:var(--mdc-elevation-overlay-opacity,0);pointer-events:none;position:absolute;transition:opacity .28s cubic-bezier(.4,0,.2,1)}.mdc-menu{min-width:112px;min-width:var(--mdc-menu-min-width,112px)}.mdc-menu .mdc-deprecated-list-item__graphic,.mdc-menu .mdc-deprecated-list-item__meta{color:rgba(0,0,0,.87)}.mdc-menu .mdc-menu-item--submenu-open .mdc-deprecated-list-item__ripple:before,.mdc-menu .mdc-menu-item--submenu-open .mdc-list-item__ripple:before{opacity:.04}.mdc-menu .mdc-deprecated-list{color:rgba(0,0,0,.87)}.mdc-menu .mdc-deprecated-list,.mdc-menu .mdc-list{position:relative}.mdc-menu .mdc-deprecated-list .mdc-elevation-overlay,.mdc-menu .mdc-list .mdc-elevation-overlay{height:100%;left:0;top:0;width:100%}.mdc-menu .mdc-deprecated-list-divider{margin:8px 0}.mdc-menu .mdc-deprecated-list-item{user-select:none}.mdc-menu .mdc-deprecated-list-item--disabled{cursor:auto}.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__graphic,.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__text{pointer-events:none}.mdc-menu__selection-group{fill:currentColor;padding:0}.mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:56px;padding-right:16px}.mdc-menu__selection-group .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{display:none;left:16px;position:absolute;right:auto;top:50%;transform:translateY(-50%)}.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon{left:auto;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-menu-surface{transform-origin-left:top left;transform-origin-right:top right;background-color:#fff;background-color:var(--mdc-theme-surface,#fff);border-radius:4px;border-radius:var(--mdc-shape-medium,4px);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-sizing:border-box;color:#000;color:var(--mdc-theme-on-surface,#000);display:none;margin:0;max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height,calc(100vh - 32px));max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width,calc(100vw - 32px));opacity:0;overflow:auto;padding:0;position:absolute;transform:scale(1);transform-origin:top left;transition:opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),height .25s cubic-bezier(0,0,.2,1);will-change:transform,opacity;z-index:8}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;opacity:0;transform:scale(.8)}.mdc-menu-surface--open{display:inline-block;opacity:1;transform:scale(1)}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity 75ms linear}.mdc-menu-surface[dir=rtl],[dir=rtl] .mdc-menu-surface{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{overflow:visible;position:relative}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.smui-menu-surface--static{display:inline-block;opacity:1;position:static;transform:scale(1);z-index:0}.mdc-menu__selection-group .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:none}.mdc-menu-item--selected .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:inline}.mdc-notched-outline{box-sizing:border-box;display:flex;height:100%;left:0;max-width:100%;pointer-events:none;position:absolute;right:0;text-align:left;top:0;width:100%}.mdc-notched-outline[dir=rtl],[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-bottom:1px solid;border-top:1px solid;box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}.mdc-notched-outline__leading[dir=rtl],.mdc-notched-outline__trailing,[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;max-width:calc(100% - 24px);width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;max-width:100%;position:relative}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{border-top:none;padding-left:0;padding-right:8px}.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl],[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-text-field--filled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-text-field--filled .mdc-text-field__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-text-field--filled .mdc-text-field__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-text-field__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-text-field{align-items:baseline;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px);box-sizing:border-box;display:inline-flex;overflow:hidden;padding:0 16px;position:relative;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{pointer-events:none;top:50%;transform:translateY(-50%)}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;appearance:none;background:none;border:none;border-radius:0;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);min-width:0;padding:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;width:100%}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media{.mdc-text-field__input::placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field__input:-ms-input-placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field--focused .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}@media{.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens:none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field__affix--prefix[dir=rtl],[dir=rtl] .mdc-text-field__affix--prefix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl],.mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field__affix--suffix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{background-color:rgba(0,0,0,.87);background-color:var(--mdc-ripple-color,rgba(0,0,0,.87))}.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple:before,.mdc-text-field--filled:hover .mdc-text-field__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple:before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-text-field--filled:before{content:"";display:inline-block;height:40px;vertical-align:0;width:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-34.75px) scale(.75)}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(0) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-34.75px) scale(.75)}to{transform:translateX(0) translateY(-34.75px) scale(.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}@supports(top:max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}@supports(top:max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined,.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple:after,.mdc-text-field--outlined .mdc-text-field__ripple:before{background-color:transparent;background-color:var(--mdc-ripple-color,transparent)}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--outlined .mdc-text-field__input{background-color:transparent;border:none!important;display:flex}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{align-items:center;flex-direction:column;height:auto;padding:0;transition:none;width:auto}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{box-sizing:border-box;flex-grow:1;height:auto;line-height:1.5rem;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;padding:0 16px;resize:none}.mdc-text-field--textarea.mdc-text-field--filled:before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(0) translateY(-10.25px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-10.25px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-10.25px) scale(.75)}to{transform:translateX(0) translateY(-10.25px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-bottom:9px;margin-top:23px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-24.75px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(0) translateY(-24.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-24.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-24.75px) scale(.75)}to{transform:translateX(0) translateY(-24.75px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:after{content:"";display:inline-block;height:16px;vertical-align:-16px;width:0}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(1px) translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:48px;max-width:calc(100% - 48px);right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:auto;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:auto;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(-32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(-32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% + 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% + 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-trailing-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 128px)}.mdc-text-field-helper-line{box-sizing:border-box;display:flex;justify-content:space-between}.mdc-text-field+.mdc-text-field-helper-line{padding-left:16px;padding-right:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:after,.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix,.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:GrayText}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}@media screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input{text-align:left}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{direction:ltr}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading{order:1}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{order:2}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{order:3}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{order:4}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing{order:5}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-right:12px}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px}.smui-text-field--standard{height:56px;padding:0}.smui-text-field--standard:before{content:"";display:inline-block;height:40px;vertical-align:0;width:0}.smui-text-field--standard:not(.mdc-text-field--disabled){background-color:transparent}.smui-text-field--standard:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.smui-text-field--standard:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.smui-text-field--standard .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.smui-text-field--standard .mdc-floating-label{left:0;right:auto}.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-floating-label{left:auto;right:0}.smui-text-field--standard .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__input{height:100%}.smui-text-field--standard.mdc-text-field--no-label .mdc-floating-label,.smui-text-field--standard.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:32px;max-width:calc(100% - 32px);right:auto}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:auto;right:32px}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 64px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 36px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 48px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 68px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 90.66667px)}.mdc-text-field+.mdc-text-field-helper-line{padding-left:0;padding-right:0}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin-left:auto;margin-right:0;margin-top:0;padding-left:16px;padding-right:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);white-space:nowrap}.mdc-text-field-character-counter:before{content:"";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-character-counter[dir=rtl],[dir=rtl] .mdc-text-field-character-counter{margin-left:0;margin-right:auto;padding-left:0;padding-right:16px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin:0;opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;will-change:opacity}.mdc-text-field-helper-text:before{content:"";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-helper-text--persistent{opacity:1;transition:none;will-change:auto}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}.mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .mdc-text-field__icon--leading{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px}.mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .mdc-text-field__icon--trailing{margin-left:0;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--leading{margin-left:0;margin-right:8px}.smui-text-field--standard .mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--leading{margin-left:8px;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px 0 12px 12px}.smui-text-field--standard .mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding-left:0;padding-right:12px}';Td(PB,{});var DB=":root *{--scrollbar-background:hsla(0,0%,100%,.1);scrollbar-track-color:transparent;scrollbar-face-color:var(--scrollbar-background);scrollbar-color:var(--scrollbar-background) transparent;scrollbar-width:thin;text-underline-offset:.5px}:root ::-webkit-scrollbar{border-radius:.3rem;height:5px;width:5px}:root ::-webkit-scrollbar-track{border-radius:.3rem}:root ::-webkit-scrollbar-corner{background:none!important}:root ::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background);border:3px solid var(--scrollbar-background);border-radius:20px;transition:background-color .5s}";Td(DB,{});var MB=":root{--cosmograph-search-text-color:#fff;--cosmograph-search-list-background:#222;--cosmograph-search-font-family:inherit;--cosmograph-search-input-background:#222;--cosmograph-search-mark-background:hsla(0,0%,100%,.2);--cosmograph-search-accessor-background:hsla(0,0%,100%,.2);--cosmograph-search-interactive-background:hsla(0,0%,100%,.4);--cosmograph-search-hover-color:hsla(0,0%,100%,.05)}.search-icon.svelte-1xknafk.svelte-1xknafk{color:var(--cosmograph-search-text-color)!important;opacity:.6}.search.svelte-1xknafk .cosmograph-search-accessor{align-content:center;background-color:var(--cosmograph-search-accessor-background);border-radius:10px;color:var(--cosmograph-search-text-color);cursor:pointer;display:flex;display:block;font-size:12px;font-style:normal;justify-content:center;line-height:1;margin-right:.5rem;overflow:hidden;padding:5px 8px;text-overflow:ellipsis;transition:background .15s linear;white-space:nowrap;z-index:1}.search.svelte-1xknafk .cosmograph-search-accessor.active,.search.svelte-1xknafk .cosmograph-search-accessor:hover{background-color:var(--cosmograph-search-interactive-background)}.search.svelte-1xknafk .disabled{cursor:default;pointer-events:none}.search.svelte-1xknafk.svelte-1xknafk{background:var(--cosmograph-search-input-background);display:flex;flex-direction:column;font-family:var(--cosmograph-search-font-family),sans-serif;text-align:left;width:100%}.search.svelte-1xknafk mark{background:var(--cosmograph-search-mark-background);border-radius:2px;color:var(--cosmograph-search-text-color);padding:1px 0}.search.svelte-1xknafk .cosmograph-search-match{-webkit-box-orient:vertical;cursor:pointer;display:-webkit-box;line-height:1.35;overflow:hidden;padding:calc(var(--margin-v)*1px) calc(var(--margin-h)*1px);text-overflow:ellipsis;white-space:normal}.search.svelte-1xknafk .cosmograph-search-match:hover{background:var(--cosmograph-search-hover-color)}.search.svelte-1xknafk .cosmograph-search-result{display:inline;font-size:12px;font-weight:600;text-transform:uppercase}.search.svelte-1xknafk .cosmograph-search-result>span{font-weight:400;letter-spacing:1;margin-left:4px}.search.svelte-1xknafk .cosmograph-search-result>span>t{margin-right:4px}.search.svelte-1xknafk .mdc-menu-surface{background-color:var(--cosmograph-search-list-background)!important;max-height:none!important}.search.svelte-1xknafk .openListUpwards.svelte-1xknafk .mdc-menu-surface{bottom:55px!important;top:unset!important}.search.svelte-1xknafk .mdc-text-field__input{caret-color:var(--cosmograph-search-text-color)!important;height:100%;letter-spacing:-.01em;line-height:2;line-height:2!important;padding-top:15px!important}.search.svelte-1xknafk .mdc-floating-label,.search.svelte-1xknafk .mdc-text-field__input{color:var(--cosmograph-search-text-color)!important;font-family:var(--cosmograph-search-font-family),sans-serif!important}.search.svelte-1xknafk .mdc-floating-label{opacity:.65;pointer-events:none!important}.search.svelte-1xknafk .mdc-line-ripple:after,.search.svelte-1xknafk .mdc-line-ripple:before{border-bottom-color:var(--cosmograph-search-text-color)!important;opacity:.1}.search.svelte-1xknafk .mdc-deprecated-list{background:var(--cosmograph-search-list-background);color:var(--cosmograph-search-text-color)!important;font-size:14px!important;padding-top:4px!important}.search.svelte-1xknafk .mdc-deprecated-list-item{height:28px!important}.search.svelte-1xknafk .mdc-text-field__icon--leading{margin-right:10px!important}.search.svelte-1xknafk .mdc-floating-label--float-above{left:26px!important;pointer-events:none!important}.search.svelte-1xknafk .mdc-text-field__icon--trailing{cursor:default!important;max-width:35%}.search.svelte-1xknafk .cosmograph-search-first-field{font-size:12.5px;font-weight:400;opacity:.8;text-transform:uppercase}";Td(MB,{});const RB='<svg fill="currentColor" height="11" viewBox="0 0 163 11" width="163" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m2.45674 8-1.925002-5.379h.924002l1.617 4.73h.154l1.617-4.73h.924l-1.925 5.379z"/><path d="m7.02243 8v-5.379h.869v5.379zm.44-6.215c-.19067 0-.352-.06233-.484-.187-.12467-.12467-.187-.28233-.187-.473 0-.198.06233-.359333.187-.484.132-.124667.29333-.187.484-.187.19066 0 .34833.062333.473.187.12466.124667.187.286.187.484 0 .19067-.06234.34833-.187.473-.12467.12467-.28234.187-.473.187z"/><path d="m11.8857 8.154c-.6673 0-1.232-.154-1.694-.462-.45465-.308-.72965-.79567-.82499-1.463l.82499-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.68199-.506c-.16866-.21267-.25299-.48033-.25299-.803 0-.484.18699-.86167.56098-1.133.374-.27133.869-.407 1.485-.407.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z"/><path d="m17.5765 8.099c-.3887 0-.748-.08433-1.078-.253-.3227-.16867-.5793-.418-.77-.748-.1833-.33733-.275-.74433-.275-1.221v-3.256h.869v3.19c0 .53533.132.924.396 1.166.2713.242.6343.363 1.089.363.5133 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v5.379h-.847v-.913h-.154c-.1173.25667-.319.49133-.605.704-.286.20533-.704.308-1.254.308z"/><path d="m23.9048 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.6527-.187 1.034-.187h1.815v-.396c0-.38133-.1136-.682-.341-.902-.22-.22-.55-.33-.99-.33-.4326 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.2274-.572.418-.814.1907-.24933.4437-.44733.759-.594.3227-.154.7077-.231 1.155-.231.6894 0 1.2247.17967 1.606.539.3814.352.572.85067.572 1.496v2.431c0 .22.1027.33.308.33h.495v.737h-.759c-.242 0-.4363-.066-.583-.198-.1466-.13933-.22-.32267-.22-.55v-.055h-.132c-.0806.13933-.1906.286-.33.44-.132.14667-.3153.26767-.55.363-.2346.10267-.539.154-.913.154zm.099-.748c.5134 0 .9277-.15033 1.243-.451.3227-.308.484-.737.484-1.287v-.121h-1.782c-.3446 0-.6306.077-.858.231-.22.14667-.33.37033-.33.671s.1137.53533.341.704c.2347.16867.5354.253.902.253z"/><path d="m28.582 8v-7.7h.869v7.7z"/><path d="m31.2783 8v-5.379h.869v5.379zm.44-6.215c-.1907 0-.352-.06233-.484-.187-.1247-.12467-.187-.28233-.187-.473 0-.198.0623-.359333.187-.484.132-.124667.2933-.187.484-.187s.3483.062333.473.187.187.286.187.484c0 .19067-.0623.34833-.187.473s-.2823.187-.473.187z"/><path d="m33.7326 8v-1.122l3.421-3.377v-.121h-3.311v-.759h4.224v1.122l-3.432 3.377v.132h3.52v.748z"/><path d="m41.9601 8.154c-.5427 0-1.0194-.11367-1.43-.341-.4107-.23467-.7297-.561-.957-.979-.2274-.418-.341-.902-.341-1.452v-.132c0-.55733.1136-1.045.341-1.463.2273-.418.5426-.74067.946-.968.4033-.23467.8653-.352 1.386-.352.506 0 .9533.11 1.342.33.3886.21267.693.52067.913.924s.33.87633.33 1.419v.396h-4.389c.022.57933.209 1.034.561 1.364.352.32267.792.484 1.32.484.462 0 .8176-.10633 1.067-.319.2493-.21267.44-.46567.572-.759l.748.363c-.11.22733-.264.45467-.462.682-.1907.22733-.4437.418-.759.572-.308.154-.704.231-1.188.231zm-1.848-3.333h3.498c-.0294-.49867-.2017-.88733-.517-1.166-.308-.27867-.704-.418-1.188-.418-.4914 0-.8947.13933-1.21.418-.3154.27867-.5097.66733-.583 1.166z"/><path d="m48.2828 8.154c-.462 0-.8873-.11-1.276-.33-.3886-.22-.6966-.539-.924-.957-.2273-.418-.341-.913-.341-1.485v-.143c0-.572.1137-1.06333.341-1.474.2274-.418.5317-.737.913-.957.3887-.22733.8177-.341 1.287-.341.374 0 .6894.05133.946.154.264.09533.4767.22.638.374.1614.14667.286.30433.374.473h.154v-3.168h.869v7.7h-.847v-.891h-.154c-.1466.27133-.374.51333-.682.726s-.7406.319-1.298.319zm.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z"/><path d="m58.8911 8.154c-.5573 0-.9936-.10633-1.309-.319-.308-.21267-.5316-.45467-.671-.726h-.154v.891h-.847v-7.7h.869v3.168h.154c.088-.16867.2127-.32633.374-.473.1614-.154.3704-.27867.627-.374.264-.10267.583-.154.957-.154.4694 0 .8947.11367 1.276.341.3887.22.6967.539.924.957.2274.41067.341.902.341 1.474v.143c0 .572-.1173 1.067-.352 1.485-.2273.418-.5353.737-.924.957-.3813.22-.803.33-1.265.33zm-.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z"/><path d="m63.6382 10.2v-.77h3.08c.2127 0 .319-.11.319-.33v-1.958h-.154c-.0733.154-.187.308-.341.462-.1466.14667-.341.26767-.583.363-.242.088-.5463.132-.913.132-.3886 0-.748-.08433-1.078-.253-.3226-.16867-.5793-.418-.77-.748-.1833-.33-.275-.73333-.275-1.21v-3.267h.869v3.201c0 .528.132.913.396 1.155.2714.242.6344.363 1.089.363.5134 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v6.633c0 .29333-.0843.52433-.253.693-.1613.1687-.3996.253-.715.253z"/><path d="m75.2998 8.154c-.9167 0-1.6464-.264-2.189-.792-.5427-.53533-.814-1.31267-.814-2.332v-1.76c0-1.01933.2713-1.793.814-2.321.5426-.535333 1.2723-.803 2.189-.803.9093 0 1.606.253 2.09.759.4913.506.737 1.199.737 2.079v.055h-.913v-.088c0-.57933-.1577-1.05233-.473-1.419-.308-.374-.7884-.561-1.441-.561-.6527 0-1.1624.20167-1.529.605-.3667.396-.55.95333-.55 1.672v1.804c0 .71867.1833 1.27967.55 1.683.3666.396.8763.594 1.529.594.6526 0 1.133-.18333 1.441-.55.3153-.374.473-.85067.473-1.43v-.176h.913v.143c0 .88-.2457 1.573-.737 2.079-.484.506-1.1807.759-2.09.759z"/><path d="m82.0934 8.154c-.5427 0-1.023-.11367-1.441-.341-.4107-.22733-.7333-.54633-.968-.957-.2273-.418-.341-.90933-.341-1.474v-.143c0-.55733.1137-1.045.341-1.463.2347-.418.5573-.74067.968-.968.418-.22733.8983-.341 1.441-.341s1.0193.11367 1.43.341c.418.22733.7407.55.968.968.2347.418.352.90567.352 1.463v.143c0 .56467-.1173 1.056-.352 1.474-.2273.41067-.55.72967-.968.957-.4107.22733-.8873.341-1.43.341zm0-.781c.572 0 1.0267-.17967 1.364-.539.3447-.36667.517-.858.517-1.474v-.099c0-.616-.1723-1.10367-.517-1.463-.3373-.36667-.792-.55-1.364-.55-.5647 0-1.0193.18333-1.364.55-.3447.35933-.517.847-.517 1.463v.099c0 .616.1723 1.10733.517 1.474.3447.35933.7993.539 1.364.539z"/><path d="m88.5742 8.154c-.6673 0-1.232-.154-1.694-.462-.4547-.308-.7297-.79567-.825-1.463l.825-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.682-.506-.253-.48033-.253-.803c0-.484.187-.86167.561-1.133s.869-.407 1.485-.407c.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z"/><path d="m92.208 8v-5.379h.847v.671h.154c.1026-.19067.2713-.36667.506-.528.2346-.16133.5646-.242.99-.242.418 0 .7553.09167 1.012.275.264.18333.4546.407.572.671h.154c.1246-.264.3116-.48767.561-.671.2566-.18333.6123-.275 1.067-.275.3593 0 .6746.07333.946.22.2713.14667.484.35933.638.638.1613.27133.242.59767.242.979v3.641h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234z"/><path d="m104.158 8.154c-.543 0-1.023-.11367-1.441-.341-.411-.22733-.733-.54633-.968-.957-.227-.418-.341-.90933-.341-1.474v-.143c0-.55733.114-1.045.341-1.463.235-.418.557-.74067.968-.968.418-.22733.898-.341 1.441-.341s1.019.11367 1.43.341c.418.22733.741.55.968.968.235.418.352.90567.352 1.463v.143c0 .56467-.117 1.056-.352 1.474-.227.41067-.55.72967-.968.957-.411.22733-.887.341-1.43.341zm0-.781c.572 0 1.027-.17967 1.364-.539.345-.36667.517-.858.517-1.474v-.099c0-.616-.172-1.10367-.517-1.463-.337-.36667-.792-.55-1.364-.55-.565 0-1.019.18333-1.364.55-.345.35933-.517.847-.517 1.463v.099c0 .616.172 1.10733.517 1.474.345.35933.799.539 1.364.539z"/><path d="m108.208 5.338v-.154c0-.56467.113-1.04867.341-1.452.227-.40333.535-.715.924-.935.388-.22.814-.33 1.276-.33.564 0 .997.11 1.298.33.308.21267.535.451.682.715h.154v-.891h.825v6.633c0 .29333-.081.52433-.242.693-.162.1687-.396.253-.704.253h-3.652v-.77h3.421c.22 0 .33-.11.33-.33v-2.046h-.154c-.088.16133-.213.319-.374.473-.162.154-.371.28233-.627.385-.257.09533-.576.143-.957.143-.462 0-.888-.11-1.276-.33-.389-.22-.697-.53167-.924-.935-.228-.41067-.341-.89467-.341-1.452zm2.772 1.947c.557 0 1.008-.176 1.353-.528.352-.352.528-.836.528-1.452v-.088c0-.62333-.176-1.10733-.528-1.452-.345-.352-.796-.528-1.353-.528-.55 0-1.005.176-1.364.528-.352.34467-.528.82867-.528 1.452v.088c0 .616.176 1.1.528 1.452.359.352.814.528 1.364.528z"/><path d="m115.529 8v-5.379h.847v.66h.154c.096-.23467.242-.407.44-.517s.459-.165.781-.165h.638v.792h-.693c-.388 0-.704.11-.946.33-.234.21267-.352.54633-.352 1.001v3.278z"/><path d="m121.143 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.653-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.191-.24933.444-.44733.759-.594.323-.154.708-.231 1.155-.231.689 0 1.225.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.103.33.308.33h.495v.737h-.759c-.242 0-.436-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.315.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .928-.15033 1.243-.451.323-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.114.53533.341.704c.235.16867.535.253.902.253z"/><path d="m125.82 10.2v-7.579h.847v.891h.154c.14-.27133.363-.51333.671-.726.316-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.113 1.067-.341 1.485-.227.418-.535.737-.924.957-.381.22-.806.33-1.276.33-.374 0-.693-.05133-.957-.154-.256-.09533-.465-.22-.627-.374-.161-.154-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.558 0 1.009-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.344-.35933-.795-.539-1.353-.539-.55 0-1.004.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.36.352.814.528 1.364.528z"/><path d="m132.899 8v-7.7h.869v3.179h.154c.074-.16133.184-.31167.33-.451.154-.14667.349-.26767.583-.363.242-.09533.547-.143.913-.143.404 0 .763.088 1.078.264.323.16867.58.418.77.748.191.32267.286.726.286 1.21v3.256h-.869v-3.19c0-.53533-.135-.924-.407-1.166-.264-.242-.623-.363-1.078-.363-.52 0-.946.16867-1.276.506-.322.33733-.484.83967-.484 1.507v2.706z"/><path d="m140.118 8.154c-.212 0-.392-.06967-.539-.209-.139-.13933-.209-.319-.209-.539s.07-.39967.209-.539c.147-.13933.327-.209.539-.209.22 0 .4.06967.539.209.14.13933.209.319.209.539s-.069.39967-.209.539c-.139.13933-.319.209-.539.209z"/><path d="m144.078 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.652-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.19-.24933.443-.44733.759-.594.322-.154.707-.231 1.155-.231.689 0 1.224.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.102.33.308.33h.495v.737h-.759c-.242 0-.437-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.316.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .927-.15033 1.243-.451.322-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.113.53533.341.704c.234.16867.535.253.902.253z"/><path d="m148.755 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z"/><path d="m155.834 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z"/><path d="m71.6368 9.375h90.3682v.55h-90.3682z"/></g></svg>',FB=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>kl(()=>le(void 0,null,function*(){const{default:i}=yield Promise.resolve().then(()=>ql);return{default:i}}),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class u_ extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class NB extends u_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zB extends u_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class BB extends u_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var G0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(G0||(G0={}));var jB=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class GB{constructor(e,{headers:t={},customFetch:i,region:n=G0.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=FB(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return jB(this,void 0,void 0,function*(){try{const{headers:n,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob!="undefined"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData!="undefined"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(m=>{throw new NB(m)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new zB(d);if(!d.ok)throw new BB(d);let h=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield d.json():h==="application/octet-stream"?f=yield d.blob():h==="text/event-stream"?f=d:h==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}}var yn={},h_={},jf={},Ed={},Gf={},Vf={},VB=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Bl=VB();const UB=Bl.fetch,wk=Bl.fetch.bind(Bl),Sk=Bl.Headers,HB=Bl.Request,XB=Bl.Response,ql=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sk,Request:HB,Response:XB,default:wk,fetch:UB},Symbol.toStringTag,{value:"Module"})),WB=ET(ql);var f_={};Object.defineProperty(f_,"__esModule",{value:!0});class YB extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}f_.default=YB;var Tk=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vf,"__esModule",{value:!0});const qB=Tk(WB),ZB=Tk(f_);let KB=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch=="undefined"?this.fetch=qB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>le(this,null,function*(){var o,a,l;let c=null,d=null,u=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=yield s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&g&&g.length>1&&(u=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,h=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=yield s.text();try{c=JSON.parse(p),Array.isArray(c)&&s.status===404&&(d=[],c=null,h=200,f="OK")}catch(g){s.status===404&&p===""?(h=204,f="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new ZB.default(c)}return{error:c,data:d,count:u,status:h,statusText:f}}));return this.shouldThrowOnError||(n=n.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}};Vf.default=KB;var JB=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gf,"__esModule",{value:!0});const QB=JB(Vf);let $B=class extends QB.default{select(e){let t=!1;const i=(e!=null?e:"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const n=typeof i=="undefined"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:n=i}={}){const s=typeof n=="undefined"?"offset":`${n}.offset`,o=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,i?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gf.default=$B;var ej=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ed,"__esModule",{value:!0});const tj=ej(Gf);let ij=class extends tj.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};Ed.default=ij;var rj=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jf,"__esModule",{value:!0});const Ac=rj(Ed);let nj=class{constructor(e,{headers:t={},schema:i,fetch:n}){this.url=e,this.headers=t,this.schema=i,this.fetch=n}select(e,{head:t=!1,count:i}={}){const n=t?"HEAD":"GET";let s=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Ac.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){const n="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ac.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:n,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ac.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const i="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Ac.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Ac.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jf.default=nj;var Uf={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.version=void 0;Hf.version="0.0.0-automated";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.DEFAULT_HEADERS=void 0;const sj=Hf;Uf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sj.version}`};var Ck=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(h_,"__esModule",{value:!0});const oj=Ck(jf),aj=Ck(Ed),lj=Uf;let cj=class kk{constructor(e,{headers:t={},schema:i,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},lj.DEFAULT_HEADERS),t),this.schemaName=i,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new oj.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kk(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:n=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;i||n?(o=i?"HEAD":"GET",Object.entries(t).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{a.searchParams.append(d,u)})):(o="POST",l=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new aj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};h_.default=cj;var Ad=Xi&&Xi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yn,"__esModule",{value:!0});yn.PostgrestBuilder=yn.PostgrestTransformBuilder=yn.PostgrestFilterBuilder=yn.PostgrestQueryBuilder=yn.PostgrestClient=void 0;const Ek=Ad(h_);yn.PostgrestClient=Ek.default;const Ak=Ad(jf);yn.PostgrestQueryBuilder=Ak.default;const Ok=Ad(Ed);yn.PostgrestFilterBuilder=Ok.default;const Ik=Ad(Gf);yn.PostgrestTransformBuilder=Ik.default;const Lk=Ad(Vf);yn.PostgrestBuilder=Lk.default;var dj=yn.default={PostgrestClient:Ek.default,PostgrestQueryBuilder:Ak.default,PostgrestFilterBuilder:Ok.default,PostgrestTransformBuilder:Ik.default,PostgrestBuilder:Lk.default};const{PostgrestClient:uj,PostgrestQueryBuilder:zG,PostgrestFilterBuilder:BG,PostgrestTransformBuilder:jG,PostgrestBuilder:GG}=dj,hj="2.10.2",fj={"X-Client-Info":`realtime-js/${hj}`},mj="1.0.0",Pk=1e4,pj=1e3;var yl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(yl||(yl={}));var on;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(on||(on={}));var In;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(In||(In={}));var V0;(function(r){r.websocket="websocket"})(V0||(V0={}));var Jo;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Jo||(Jo={}));class gj{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const n=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+n));o=o+n;const l=i.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dk{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ai;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ai||(Ai={}));const T2=(r,e,t={})=>{var i;const n=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=vj(o,r,e,n),s),{})},vj=(r,e,t,i)=>{const n=e.find(a=>a.name===r),s=n==null?void 0:n.type,o=t[r];return s&&!i.includes(s)?Mk(s,o):U0(o)},Mk=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return xj(e,t)}switch(r){case Ai.bool:return _j(e);case Ai.float4:case Ai.float8:case Ai.int2:case Ai.int4:case Ai.int8:case Ai.numeric:case Ai.oid:return yj(e);case Ai.json:case Ai.jsonb:return bj(e);case Ai.timestamp:return wj(e);case Ai.abstime:case Ai.date:case Ai.daterange:case Ai.int4range:case Ai.int8range:case Ai.money:case Ai.reltime:case Ai.text:case Ai.time:case Ai.timestamptz:case Ai.timetz:case Ai.tsrange:case Ai.tstzrange:return U0(e);default:return U0(e)}},U0=r=>r,_j=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},yj=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},bj=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},xj=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let s;const o=r.slice(1,t);try{s=JSON.parse("["+o+"]")}catch(a){s=o?o.split(","):[]}return s.map(a=>Mk(e,a))}return r},wj=r=>typeof r=="string"?r.replace(" ","T"):r,Rk=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class zg{constructor(e,t,i={},n=Pk){this.channel=e,this.event=t,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var C2;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(C2||(C2={}));class Yc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,n,s,o),this.pendingDiffs.forEach(l=>{this.state=Yc.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Yc.syncDiff(this.state,n,s,o),a())}),this.onJoin((n,s,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:o})}),this.onLeave((n,s,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,n){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const u=s[c];if(u){const h=d.map(g=>g.presence_ref),f=u.map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0),p=u.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(a[c]=m),p.length>0&&(l[c]=p)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},i,n)}static syncDiff(e,t,i,n){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const u=e[a].map(f=>f.presence_ref),h=d.filter(f=>u.indexOf(f.presence_ref)<0);e[a].unshift(...h)}i(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(u=>u.presence_ref);c=c.filter(u=>d.indexOf(u.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const n=e[i];return"metas"in n?t[i]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[i]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k2;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(k2||(k2={}));var E2;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes"})(E2||(E2={}));var A2;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(A2||(A2={}));class m_{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new zg(this,In.join,this.params,this.timeout),this.rejoinTimer=new Dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(n,s)=>{this._trigger(this._replyEventName(s),n)}),this.presence=new Yc(this),this.broadcastEndpointURL=Rk(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var i,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(d=>e&&e("CHANNEL_ERROR",d)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(d=>d.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:d})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,f=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,m=[];for(let p=0;p<f;p++){const g=h[p],{filter:{event:v,schema:b,table:S,filter:_}}=g,x=d&&d[p];if(x&&x.event===v&&x.schema===b&&x.table===S&&x.filter===_)m.push(Object.assign(Object.assign({},g),{id:x.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",d=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(i){return le(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return le(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,i){return this._on(e,t,i)}send(i){return le(this,arguments,function*(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a}]})};try{const c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(s=c.body)===null||s===void 0?void 0:s.cancel(),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=on.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const n=new zg(this,In.leave,{},e);n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_fetchWithTimeout(e,t,i){return le(this,null,function*(){const n=new AbortController,s=setTimeout(()=>n.abort(),i),o=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),o})}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new zg(this,e,t,i);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var n,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=In;if(i&&[a,l,c,d].indexOf(o)>=0&&i!==this._joinRef())return;let h=this._onMessage(o,t,i);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var m,p,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,i)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,p,g,v,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,x=(m=f.filter)===null||m===void 0?void 0:m.event;return _&&((p=t.ids)===null||p===void 0?void 0:p.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:p,table:g,commit_timestamp:v,type:b,errors:S}=m;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(m))}f.callback(h,i)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:i};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&m_.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(In.close,{},e)}_onError(e){this._on(In.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=T2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=T2(e.columns,e.old_record)),t}}const Sj=()=>{},Tj=typeof WebSocket!="undefined";class Cj{constructor(e,t){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fj,this.params={},this.timeout=Pk,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Sj,this.conn=null,this.sendBuffer=[],this.serializer=new gj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch=="undefined"?o=(...a)=>kl(()=>le(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>ql);return{default:l}}),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${V0.websocket}`,this.httpEndpoint=Rk(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dk(()=>le(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Tj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new kj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),kl(()=>le(this,null,function*(){const{default:e}=yield import("./browser.js").then(t=>t.b);return{default:e}}),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return le(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return le(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e})}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yl.connecting:return Jo.Connecting;case yl.open:return Jo.Open;case yl.closing:return Jo.Closing;default:return Jo.Closed}}isConnected(){return this.connectionState()===Jo.Open}channel(e,t={config:{}}){const i=new m_(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:n,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${s})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(In.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mj}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:n,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||n===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${n} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(n,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(In.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${i}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(pj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class kj{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class p_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function br(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ej extends p_{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class H0 extends p_{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Aj=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const Fk=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>kl(()=>le(void 0,null,function*(){const{default:i}=yield Promise.resolve().then(()=>ql);return{default:i}}),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},Oj=()=>Aj(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield kl(()=>Promise.resolve().then(()=>ql),void 0)).Response:Response}),X0=r=>{if(Array.isArray(r))return r.map(t=>X0(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const n=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[n]=X0(i)}),e};var wa=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const Bg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ij=(r,e,t)=>wa(void 0,void 0,void 0,function*(){const i=yield Oj();r instanceof i&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{e(new Ej(Bg(n),r.status||500))}).catch(n=>{e(new H0(Bg(n),n))}):e(new H0(Bg(r),r))}),Lj=(r,e,t,i)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(n.body=JSON.stringify(i)),Object.assign(Object.assign({},n),t))};function Od(r,e,t,i,n,s){return wa(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,Lj(e,i,n,s)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ij(l,a,i))})})}function lf(r,e,t,i){return wa(this,void 0,void 0,function*(){return Od(r,"GET",e,t,i)})}function ho(r,e,t,i,n){return wa(this,void 0,void 0,function*(){return Od(r,"POST",e,i,n,t)})}function Pj(r,e,t,i,n){return wa(this,void 0,void 0,function*(){return Od(r,"PUT",e,i,n,t)})}function Dj(r,e,t,i){return wa(this,void 0,void 0,function*(){return Od(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Nk(r,e,t,i,n){return wa(this,void 0,void 0,function*(){return Od(r,"DELETE",e,i,n,t)})}var Yr=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const Mj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rj{constructor(e,t={},i,n){this.url=e,this.headers=t,this.bucketId=i,this.fetch=Fk(n)}uploadOrUpdate(e,t,i,n){return Yr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},O2),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob!="undefined"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",i),l&&s.append("metadata",this.encodeMetadata(l))):typeof FormData!="undefined"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(br(s))return{data:null,error:s};throw s}})}upload(e,t,i){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,n){return Yr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:O2.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob!="undefined"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const u=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield u.json();return u.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(br(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Yr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const s=yield ho(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new p_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(br(i))return{data:null,error:i};throw i}})}update(e,t,i){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return Yr(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}})}copy(e,t,i){return Yr(this,void 0,void 0,function*(){try{return{data:{path:(yield ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,i){return Yr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield ho(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,i){return Yr(this,void 0,void 0,function*(){try{const n=yield ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}})}download(e,t){return Yr(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield lf(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(br(a))return{data:null,error:a};throw a}})}info(e){return Yr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield lf(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X0(i),error:null}}catch(i){if(br(i))return{data:null,error:i};throw i}})}exists(e){return Yr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Dj(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(br(i)&&i instanceof H0){const n=i.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return Yr(this,void 0,void 0,function*(){try{return{data:yield Nk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(br(t))return{data:null,error:t};throw t}})}list(e,t,i){return Yr(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Mj),t),{prefix:e||""});return{data:yield ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(br(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Fj="2.7.0",Nj={"X-Client-Info":`storage-js/${Fj}`};var $a=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class zj{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},Nj),t),this.fetch=Fk(i)}listBuckets(){return $a(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(br(e))return{data:null,error:e};throw e}})}getBucket(e){return $a(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(br(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return $a(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(br(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return $a(this,void 0,void 0,function*(){try{return{data:yield Pj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(br(i))return{data:null,error:i};throw i}})}emptyBucket(e){return $a(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(br(t))return{data:null,error:t};throw t}})}deleteBucket(e){return $a(this,void 0,void 0,function*(){try{return{data:yield Nk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(br(t))return{data:null,error:t};throw t}})}}class Bj extends zj{constructor(e,t={},i){super(e,t,i)}from(e){return new Rj(this.url,this.headers,e,this.fetch)}}const jj="2.45.4";let Nc="";typeof Deno!="undefined"?Nc="deno":typeof document!="undefined"?Nc="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Nc="react-native":Nc="node";const Gj={"X-Client-Info":`supabase-js-${Nc}/${jj}`},Vj={headers:Gj},Uj={schema:"public"},Hj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xj={};var Wj=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};const Yj=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=wk:e=fetch,(...t)=>e(...t)},qj=()=>typeof Headers=="undefined"?Sk:Headers,Zj=(r,e,t)=>{const i=Yj(t),n=qj();return(s,o)=>Wj(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(s,Object.assign(Object.assign({},o),{headers:c}))})};var Kj=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function Jj(r){return r.replace(/\/$/,"")}function Qj(r,e){const{db:t,auth:i,realtime:n,global:s}=r,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),s),accessToken:()=>Kj(this,void 0,void 0,function*(){return""})};return r.accessToken?d.accessToken=r.accessToken:delete d.accessToken,d}const zk="2.65.0",$j="http://localhost:9999",e9="supabase.auth.token",t9={"X-Client-Info":`gotrue-js/${zk}`},I2=10,W0="X-Supabase-Api-Version",Bk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function i9(r){return Math.round(Date.now()/1e3)+r}function r9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const En=()=>typeof document!="undefined",Wo={tested:!1,writable:!1},qc=()=>{if(!En())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Wo.tested)return Wo.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Wo.tested=!0,Wo.writable=!0}catch(e){Wo.tested=!0,Wo.writable=!1}return Wo.writable};function jg(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,s)=>{e[s]=n})}catch(i){}return t.searchParams.forEach((i,n)=>{e[n]=i}),e}const jk=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>kl(()=>le(void 0,null,function*(){const{default:i}=yield Promise.resolve().then(()=>ql);return{default:i}}),void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},n9=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Gk=(r,e,t)=>le(void 0,null,function*(){yield r.setItem(e,JSON.stringify(t))}),rh=(r,e)=>le(void 0,null,function*(){const t=yield r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(i){return t}}),nh=(r,e)=>le(void 0,null,function*(){yield r.removeItem(e)});function s9(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",i,n,s,o,a,l,c,d=0;for(r=r.replace("-","+").replace("_","/");d<r.length;)o=e.indexOf(r.charAt(d++)),a=e.indexOf(r.charAt(d++)),l=e.indexOf(r.charAt(d++)),c=e.indexOf(r.charAt(d++)),i=o<<2|a>>4,n=(a&15)<<4|l>>2,s=(l&3)<<6|c,t=t+String.fromCharCode(i),l!=64&&n!=0&&(t=t+String.fromCharCode(n)),c!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class Xf{constructor(){this.promise=new Xf.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Xf.promiseConstructor=Promise;function L2(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=t[1];return JSON.parse(s9(i))}function o9(r){return le(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),r)})})}function a9(r,e){return new Promise((i,n)=>{le(this,null,function*(){for(let s=0;s<1/0;s++)try{const o=yield r(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){n(o);return}}})})}function l9(r){return("0"+r.toString(16)).substr(-2)}function c9(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let n="";for(let s=0;s<56;s++)n+=t.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,l9).join("")}function d9(r){return le(this,null,function*(){const t=new TextEncoder().encode(r),i=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(i);return Array.from(n).map(s=>String.fromCharCode(s)).join("")})}function u9(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function h9(r){return le(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=yield d9(r);return u9(t)})}function el(r,e,t=!1){return le(this,null,function*(){const i=c9();let n=i;t&&(n+="/PASSWORD_RECOVERY"),yield Gk(r,`${e}-code-verifier`,n);const s=yield h9(i);return[s,i===s?"plain":"s256"]})}const f9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m9(r){const e=r.headers.get(W0);if(!e||!e.match(f9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}class g_ extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function qt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class p9 extends g_{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function g9(r){return qt(r)&&r.name==="AuthApiError"}class Vk extends g_{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Sa extends g_{constructor(e,t,i,n){super(e,i,n),this.name=t,this.status=i}}class lo extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v9(r){return qt(r)&&r.name==="AuthSessionMissingError"}class Gg extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sh extends Sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oh extends Sa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class P2 extends Sa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y0 extends Sa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Vg(r){return qt(r)&&r.name==="AuthRetryableFetchError"}class D2 extends Sa{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}var _9=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};const Yo=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),y9=[502,503,504];function M2(r){return le(this,null,function*(){var e;if(!n9(r))throw new Y0(Yo(r),0);if(y9.includes(r.status))throw new Y0(Yo(r),r.status);let t;try{t=yield r.json()}catch(s){throw new Vk(Yo(s),s)}let i;const n=m9(r);if(n&&n.getTime()>=Bk["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new D2(Yo(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new lo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new D2(Yo(t),r.status,t.weak_password.reasons);throw new p9(Yo(t),r.status||500,i)})}const b9=(r,e,t,i)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),t))};function ii(r,e,t,i){return le(this,null,function*(){var n;const s=Object.assign({},i==null?void 0:i.headers);s[W0]||(s[W0]=Bk["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(n=i==null?void 0:i.query)!==null&&n!==void 0?n:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield x9(r,e,t+a,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}})}function x9(r,e,t,i,n,s){return le(this,null,function*(){const o=b9(e,i,n,s);let a;try{a=yield r(t,Object.assign({},o))}catch(l){throw console.error(l),new Y0(Yo(l),0)}if(a.ok||(yield M2(a)),i!=null&&i.noResolveJson)return a;try{return yield a.json()}catch(l){yield M2(l)}})}function co(r){var e;let t=null;C9(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=i9(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function R2(r){const e=co(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function mo(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function w9(r){return{data:r,error:null}}function S9(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s}=r,o=_9(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function T9(r){return r}function C9(r){return r.access_token&&r.refresh_token&&r.expires_in}var k9=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};class E9{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=jk(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,t="global"){return le(this,null,function*(){try{return yield ii(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(i){return le(this,arguments,function*(e,t={}){try{return yield ii(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:mo})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return le(this,null,function*(){try{const{options:t}=e,i=k9(e,["options"]),n=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(n.new_email=i==null?void 0:i.newEmail,delete n.newEmail),yield ii(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:S9,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(qt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return le(this,null,function*(){try{return yield ii(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mo})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return le(this,null,function*(){var t,i,n,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=yield ii(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:T9});if(d.error)throw d.error;const u=yield d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(qt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return le(this,null,function*(){try{return yield ii(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mo})}catch(t){if(qt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return le(this,null,function*(){try{return yield ii(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:mo})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}})}deleteUser(e,t=!1){return le(this,null,function*(){try{return yield ii(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:mo})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}})}_listFactors(e){return le(this,null,function*(){try{const{data:t,error:i}=yield ii(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:i}}catch(t){if(qt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return le(this,null,function*(){try{return{data:yield ii(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}})}}const A9={getItem:r=>qc()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{qc()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{qc()&&globalThis.localStorage.removeItem(r)}};function F2(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function O9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(r){typeof self!="undefined"&&(self.globalThis=self)}}const tl={debug:!!(globalThis&&qc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class I9 extends Uk{}function L9(r,e,t){return le(this,null,function*(){tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),yield globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},n=>le(this,null,function*(){if(n){tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return yield t()}finally{tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new I9(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(tl.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}}))})}O9();const P9={url:$j,storageKey:e9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Oc=30*1e3,N2=3;function z2(r,e,t){return le(this,null,function*(){return yield t()})}class cd{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cd.nextInstanceID,cd.nextInstanceID+=1,this.instanceID>0&&En()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},P9),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new E9({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=jk(n.fetch),this.lock=n.lock||z2,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:En()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=L9:this.lock=z2,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:qc()?this.storage=A9:(this.memoryStorage={},this.storage=F2(this.memoryStorage)):(this.memoryStorage={},this.storage=F2(this.memoryStorage)),En()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>le(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zk}) ${new Date().toISOString()}`,...e),this}initialize(){return le(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=le(this,null,function*(){return yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return le(this,null,function*(){try{const e=En()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:i}=yield this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),(i==null?void 0:i.message)==="Identity is already linked"||(i==null?void 0:i.message)==="Identity is already linked to another user"?{error:i}:(yield this._removeSession(),{error:i});const{session:n,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",n,"redirect type",s),yield this._saveSession(n),setTimeout(()=>le(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",n):yield this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return qt(e)?{error:e}:{error:new Vk("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return le(this,null,function*(){var t,i,n;try{const s=yield ii(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:co}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(qt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return le(this,null,function*(){var t,i,n;try{let s;if("email"in e){const{email:d,password:u,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=yield el(this.storage,this.storageKey)),s=yield ii(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:co})}else if("phone"in e){const{phone:d,password:u,options:h}=e;s=yield ii(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:co})}else throw new sh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(qt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return le(this,null,function*(){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=yield ii(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:R2})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=yield ii(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:R2})}else throw new sh("You must provide either an email or phone number and a password");const{data:i,error:n}=t;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Gg}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return le(this,null,function*(){var t,i,n,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return le(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>le(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return le(this,null,function*(){const t=yield rh(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(t!=null?t:"").split("/");try{const{data:s,error:o}=yield ii(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:co});if(yield nh(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Gg}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:n!=null?n:null}),error:o})}catch(s){if(qt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return le(this,null,function*(){try{const{options:t,provider:i,token:n,access_token:s,nonce:o}=e,a=yield ii(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:co}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gg}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return le(this,null,function*(){var t,i,n,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=yield el(this.storage,this.storageKey));const{error:u}=yield ii(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=yield ii(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new sh("You must provide either an email or phone number.")}catch(a){if(qt(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(e){return le(this,null,function*(){var t,i;try{let n,s;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=yield ii(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:co});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return le(this,null,function*(){var t,i,n;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=yield el(this.storage,this.storageKey)),yield ii(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:w9})}catch(s){if(qt(s))return{data:null,error:s};throw s}})}reauthenticate(){return le(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return le(this,null,function*(){try{return yield this._useSession(e=>le(this,null,function*(){const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new lo;const{error:n}=yield ii(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(qt(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return le(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:s}=e,{error:o}=yield ii(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:n,options:s}=e,{data:o,error:a}=yield ii(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new sh("You must provide either an email or phone number and a type")}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return le(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return this._useSession(t=>le(this,null,function*(){return t}))}))})}_acquireLock(e,t){return le(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=le(this,null,function*(){return yield i,yield t()});return this.pendingInLock.push(le(this,null,function*(){try{yield n}catch(s){}})),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>le(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push(le(this,null,function*(){try{yield i}catch(n){}})),yield i;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return le(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return le(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return le(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return le(this,null,function*(){try{return e?yield ii(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mo}):yield this._useSession(t=>le(this,null,function*(){var i,n,s;const{data:o,error:a}=t;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lo}:yield ii(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0,xform:mo})}))}catch(t){if(qt(t))return v9(t)&&(yield this._removeSession(),yield nh(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:t};throw t}})}updateUser(i){return le(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(i){return le(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>le(this,null,function*(){const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new lo;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=yield el(this.storage,this.storageKey));const{data:d,error:u}=yield ii(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:mo});if(u)throw u;return a.user=d.user,yield this._saveSession(a),yield this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(e){return L2(e)}setSession(e){return le(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return le(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new lo;const t=Date.now()/1e3;let i=t,n=!0,s=null;const o=L2(e.access_token);if(o.exp&&(i=o.exp,n=i<=t),n){const{session:a,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-t,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(qt(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return le(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new lo;const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(qt(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e){return le(this,null,function*(){try{if(!En())throw new oh("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new oh("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new P2("Not a valid PKCE flow url.");const t=jg(window.location.href);if(e){if(!t.code)throw new P2("No code detected.");const{data:b,error:S}=yield this._exchangeCodeForSession(t.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new oh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:n,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new oh("No session defined in URL");const d=Math.round(Date.now()/1e3),u=parseInt(a);let h=d+u;l&&(h=parseInt(l));const f=h-d;f*1e3<=Oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);const m=h-u;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:p,error:g}=yield this._getUser(s);if(g)throw g;const v={provider_token:i,provider_refresh_token:n,access_token:s,expires_in:u,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(t){if(qt(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){const e=jg(window.location.href);return!!(En()&&(e.access_token||e.error_description))}_isPKCEFlow(){return le(this,null,function*(){const e=jg(window.location.href),t=yield rh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return le(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return le(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>le(this,null,function*(){var i;const{data:n,error:s}=t;if(s)return{error:s};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=yield this.admin.signOut(o,e);if(a&&!(g9(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(yield this._removeSession(),yield nh(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(e){const t=r9(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),le(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:i}}}_emitInitialSession(e){return le(this,null,function*(){return yield this._useSession(t=>le(this,null,function*(){var i,n;try{const{data:{session:s},error:o}=t;if(o)throw o;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return le(this,arguments,function*(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=yield el(this.storage,this.storageKey,!0));try{return yield ii(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(qt(o))return{data:null,error:o};throw o}})}getUserIdentities(){return le(this,null,function*(){var e;try{const{data:t,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}})}linkIdentity(e){return le(this,null,function*(){var t;try{const{data:i,error:n}=yield this._useSession(s=>le(this,null,function*(){var o,a,l,c,d;const{data:u,error:h}=s;if(h)throw h;const f=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield ii(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=u.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})}));if(n)throw n;return En()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(qt(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i,n;const{data:s,error:o}=t;if(o)throw o;return yield ii(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return le(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return yield a9(n=>le(this,null,function*(){return n>0&&(yield o9(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield ii(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:co})}),(n,s)=>{const o=200*Math.pow(2,n);return s&&Vg(s)&&Date.now()+o-i<Oc})}catch(i){if(this._debug(t,"error",i),qt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return le(this,null,function*(){const i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),En()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return le(this,null,function*(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=yield rh(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<n+I2;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${I2}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=yield this._callRefreshToken(i.refresh_token);o&&(console.error(o),Vg(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}})}_callRefreshToken(e){return le(this,null,function*(){var t,i;if(!e)throw new lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Xf;const{data:s,error:o}=yield this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new lo;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(n,"error",s),qt(s)){const o={session:null,error:s};return Vg(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,i=!0){return le(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(a=>le(this,null,function*(){try{yield a.callback(e,t)}catch(l){s.push(l)}}));if(yield Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return le(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Gk(this.storage,this.storageKey,e)})}_removeSession(){return le(this,null,function*(){this._debug("#_removeSession()"),yield nh(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&En()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return le(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>le(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return le(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return le(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return le(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return le(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>le(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>le(this,null,function*(){const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/Oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Oc}ms, refresh threshold is ${N2} ticks`),n<=N2&&(yield this._callRefreshToken(i.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Uk)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return le(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!En()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>le(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return le(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>le(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,i){return le(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=yield el(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);n.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i;const{data:n,error:s}=t;return s?{data:null,error:s}:yield ii(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}})}_enroll(e){return le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i,n;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=yield ii(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}})}_verify(e){return le(this,null,function*(){return this._acquireLock(-1,()=>le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i;const{data:n,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=yield ii(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}))})}_challenge(e){return le(this,null,function*(){return this._acquireLock(-1,()=>le(this,null,function*(){try{return yield this._useSession(t=>le(this,null,function*(){var i;const{data:n,error:s}=t;return s?{data:null,error:s}:yield ii(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})}))}catch(t){if(qt(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return le(this,null,function*(){const{data:t,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return le(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],n=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:n,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return le(this,null,function*(){return this._acquireLock(-1,()=>le(this,null,function*(){return yield this._useSession(e=>le(this,null,function*(){var t,i;const{data:{session:n},error:s}=e;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}cd.nextInstanceID=0;const D9=cd;class M9 extends D9{constructor(e){super(e)}}var R9=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};class F9{constructor(e,t,i){var n,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Jj(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Uj,realtime:Xj,auth:Object.assign(Object.assign({},Hj),{storageKey:l}),global:Vj},d=Qj(i!=null?i:{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Zj(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new uj(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new GB(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return R9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,storageKey:s,flowType:o,lock:a,debug:l},c,d){var u;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M9({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new Cj(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i!=null?i:null),this.changedAccessToken=i):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N9=(r,e,t)=>new F9(r,e,t),z9=N9("https://xovkkfhojasbjinfslpx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvdmtrZmhvamFzYmppbmZzbHB4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTM1ODQ0ODAsImV4cCI6MjAwOTE2MDQ4MH0.L3-X0p_un0oSTNubPwtfGo0D8g2bkPIfz7CaZ-iRYXY");function B9(r){return le(this,null,function*(){const{error:e}=yield z9.from("metrics").insert(r);return e})}var B2=[],Ic=[];function j9(r,e){if(r&&typeof document!="undefined"){var t,i=e.prepend===!0?"prepend":"append",n=e.singleTag===!0,s=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var o=B2.indexOf(s);o===-1&&(o=B2.push(s)-1,Ic[o]={}),t=Ic[o]&&Ic[o][i]?Ic[o][i]:Ic[o][i]=a()}else t=a();r.charCodeAt(0)===65279&&(r=r.substring(1)),t.styleSheet?t.styleSheet.cssText+=r:t.appendChild(document.createTextNode(r))}function a(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),d=0;d<c.length;d++)l.setAttribute(c[d],e.attributes[c[d]]);var u=i==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(u,l),l}}var G9=":root{--cosmograph-watermark-color:#fff}.style_module_watermark__6b4371ae{bottom:0;color:var(--cosmograph-watermark-color);cursor:pointer;line-height:0;margin:0 .6rem .6rem 0;position:absolute;right:0;user-select:none}.style_module_cosmograph__6b4371ae{display:flex;height:100%;overflow:hidden;position:relative;width:100%}.style_module_cosmographShowLabelsFor__6b4371ae{opacity:1}.style_module_cosmographShowTopLabels__6b4371ae{opacity:.9}.style_module_cosmographShowDynamicLabels__6b4371ae{opacity:.7}",Lc={watermark:"style_module_watermark__6b4371ae",cosmograph:"style_module_cosmograph__6b4371ae",cosmographShowLabelsFor:"style_module_cosmographShowLabelsFor__6b4371ae",cosmographShowTopLabels:"style_module_cosmographShowTopLabels__6b4371ae",cosmographShowDynamicLabels:"style_module_cosmographShowDynamicLabels__6b4371ae"};j9(G9,{});const j2={disableSimulation:null,showDynamicLabels:!0,showTopLabels:!1,showTopLabelsLimit:100,showTopLabelsValueKey:void 0,showLabelsFor:void 0,showHoveredNodeLabel:!0,nodeLabelAccessor:r=>r.id,nodeLabelClassName:void 0,nodeLabelColor:void 0,hoveredNodeLabelClassName:void 0,hoveredNodeLabelColor:void 0,onSetData:void 0,onNodesFiltered:void 0,onLinksFiltered:void 0,onLabelClick:void 0};let v_=bl,G2=bl,V2=bl,Hk=Wk,Xk=Yk;typeof Uint8Array!="undefined"&&(v_=function(r){return new Uint8Array(r)},G2=function(r){return new Uint16Array(r)},V2=function(r){return new Uint32Array(r)},Hk=function(r,e){if(r.length>=e)return r;var t=new r.constructor(e);return t.set(r),t},Xk=function(r,e){var t;switch(e){case 16:t=G2(r.length);break;case 32:t=V2(r.length);break;default:throw new Error("invalid array width!")}return t.set(r),t});function bl(r){for(var e=new Array(r),t=-1;++t<r;)e[t]=0;return e}function Wk(r,e){for(var t=r.length;t<e;)r[t++]=0;return r}function Yk(r,e){if(e>32)throw new Error("invalid array width!");return r}function ds(r){this.length=r,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=v_(r)}ds.prototype.lengthen=function(r){var e,t;for(e=0,t=this.subarrays;e<t;++e)this[e]=Hk(this[e],r);this.length=r};ds.prototype.add=function(){var r,e,t,i,n;for(i=0,n=this.subarrays;i<n;++i)if(r=this.masks[i],e=this.width-32*i,t=(~r&r+1)>>>0,!(e>=32&&!t))return e<32&&t&1<<e&&(this[i]=Xk(this[i],e<<=1),this.width=32*i+e),this.masks[i]|=t,{offset:i,one:t};return this[this.subarrays]=v_(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}};ds.prototype.copy=function(r,e){var t,i;for(t=0,i=this.subarrays;t<i;++t)this[t][r]=this[t][e]};ds.prototype.truncate=function(r){var e,t;for(e=0,t=this.subarrays;e<t;++e)for(var i=this.length-1;i>=r;i--)this[e][i]=0;this.length=r};ds.prototype.zero=function(r){var e,t;for(e=0,t=this.subarrays;e<t;++e)if(this[e][r])return!1;return!0};ds.prototype.zeroExcept=function(r,e,t){var i,n;for(i=0,n=this.subarrays;i<n;++i)if(i===e?this[i][r]&t:this[i][r])return!1;return!0};ds.prototype.zeroExceptMask=function(r,e){var t,i;for(t=0,i=this.subarrays;t<i;++t)if(this[t][r]&e[t])return!1;return!0};ds.prototype.only=function(r,e,t){var i,n;for(i=0,n=this.subarrays;i<n;++i)if(this[i][r]!=(i===e?t:0))return!1;return!0};ds.prototype.onlyExcept=function(r,e,t,i,n){var s,o,a;for(o=0,a=this.subarrays;o<a;++o)if(s=this[o][r],o===e&&(s=(s&t)>>>0),s!=(o===i?n:0))return!1;return!0};const po={array8:bl,array16:bl,array32:bl,arrayLengthen:Wk,arrayWiden:Yk,bitarray:ds},V9=(r,e)=>function(t){var i=t.length;return[r.left(t,e,0,i),r.right(t,e,0,i)]},U9=(r,e)=>{var t=e[0],i=e[1];return function(n){var s=n.length;return[r.left(n,t,0,s),r.left(n,i,0,s)]}},H9=r=>[0,r.length],il={filterExact:V9,filterRange:U9,filterAll:H9},dd=r=>r,Yn=()=>null,ah=()=>0;function qk(r){function e(n,s,o){for(var a=o-s,l=(a>>>1)+1;--l>0;)i(n,l,a,s);return n}function t(n,s,o){for(var a=o-s,l;--a>0;)l=n[s],n[s]=n[s+a],n[s+a]=l,i(n,1,a,s);return n}function i(n,s,o,a){for(var l=n[--a+s],c=r(l),d;(d=s<<1)<=o&&(d<o&&r(n[a+d])>r(n[a+d+1])&&d++,!(c<=r(n[a+d])));)n[a+s]=n[a+d],s=d;n[a+s]=l}return e.sort=t,e}const Wf=qk(dd);Wf.by=qk;function Zk(r){var e=Wf.by(r);function t(i,n,s,o){var a=new Array(o=Math.min(s-n,o)),l,c,d;for(c=0;c<o;++c)a[c]=i[n++];if(e(a,0,o),n<s){l=r(a[0]);do r(d=i[n])>l&&(a[0]=d,l=r(e(a,0,o)[0]));while(++n<s)}return a}return t}const __=Zk(dd);__.by=Zk;function Kk(r){function e(i,n,s,o){for(;s<o;){var a=s+o>>>1;r(i[a])<n?s=a+1:o=a}return s}function t(i,n,s,o){for(;s<o;){var a=s+o>>>1;n<r(i[a])?o=a:s=a+1}return s}return t.right=t,t.left=e,t}const cf=Kk(dd);cf.by=Kk;const wh=(r,e,t)=>{for(var i=0,n=e.length,s=t?JSON.parse(JSON.stringify(r)):new Array(n);i<n;++i)s[i]=r[e[i]];return s},X9=r=>r+1,W9=r=>r-1,Y9=r=>function(e,t){return e+ +r(t)},q9=r=>function(e,t){return e-r(t)},oo={reduceIncrement:X9,reduceDecrement:W9,reduceAdd:Y9,reduceSubtract:q9};function Z9(r,e,t,i,n){for(n in i=(t=t.split(".")).splice(-1,1),t)e=e[t[n]]=e[t[n]]||{};return r(e,i)}const K9=(r,e)=>{const t=r[e];return typeof t=="function"?t.call(r):t},J9=/\[([\w\d]+)\]/g,Q9=(r,e)=>Z9(K9,r,e.replace(J9,".$1"));var ao=-1;Id.heap=Wf;Id.heapselect=__;Id.bisect=cf;Id.permute=wh;function Id(){var r={add:l,remove:c,dimension:h,groupAll:f,size:m,all:p,allFiltered:g,onChange:v,isElementFiltered:u},e=[],t=0,i,n=[],s=[],o=[],a=[];i=new po.bitarray(0);function l(S){var _=t,x=S.length;return x&&(e=e.concat(S),i.lengthen(t+=x),s.forEach(function(I){I(S,_,x)}),b("dataAdded")),r}function c(S){for(var _=new Array(t),x=[],I=typeof S=="function",T=function(H){return I?S(e[H],H):i.zero(H)},O=0,E=0;O<t;++O)T(O)?(x.push(O),_[O]=ao):_[O]=E++;n.forEach(function(H){H(-1,-1,[],x,!0)}),o.forEach(function(H){H(_)});for(var w=0,X=0;w<t;++w)_[w]!==ao&&(w!==X&&(i.copy(X,w),e[X]=e[w]),++X);e.length=t=X,i.truncate(X),b("dataRemoved")}function d(S){var _,x,I,T,O=Array(i.subarrays);for(_=0;_<i.subarrays;_++)O[_]=-1;for(x=0,I=S.length;x<I;x++)T=S[x].id(),O[T>>7]&=~(1<<(T&63));return O}function u(S,_){var x=d(_||[]);return i.zeroExceptMask(S,x)}function h(S,_){if(typeof S=="string"){var x=S;S=function(at){return Q9(at,x)}}var I={filter:ei,filterExact:rt,filterRange:_t,filterFunction:Si,filterAll:vi,currentFilter:Ta,hasCurrentFilter:qf,top:Zf,bottom:P,group:Ld,groupAll:Kf,dispose:Pd,remove:Pd,accessor:S,id:function(){return w}},T,O,E,w,X,H,Y,k,D,M,L=[],J=function(at){return Ug(at).sort(function(ut,Te){var fe=Y[ut],Dt=Y[Te];return fe<Dt?-1:fe>Dt?1:ut-Te})},ce=il.filterAll,te,et,ot,Ot=[],gt=[],je=0,At=0,It=0,de;s.unshift(He),s.push(dt),o.push(Oe);var pe=i.add();E=pe.offset,T=pe.one,O=~T,w=E<<7|Math.log(T)/Math.log(2),He(e,0,t),dt(e,0,t);function He(at,ut,Te){var fe,Dt;if(_){It=0,wr=0,de=[];for(var yt=0;yt<at.length;yt++)for(wr=0,de=S(at[yt]);wr<de.length;wr++)It++;Y=[],fe=Ug(at.length),Dt=qo(It,1);for(var bt=Ug(It),_i=0,li=0;li<at.length;li++){if(de=S(at[li]),!de.length){fe[li]=0,L.push(li+ut);continue}for(fe[li]=de.length,wr=0;wr<de.length;wr++)Y.push(de[wr]),bt[_i]=li,_i++}var ji=J(It);Y=wh(Y,ji),k=wh(bt,ji)}else Y=at.map(S),k=J(Te),Y=wh(Y,k);var Ri=ce(Y),Or=Ri[0],Di=Ri[1],yi,tr,Rr;if(_)if(Te=It,te)for(yi=0;yi<Te;++yi)te(Y[yi],yi)||(--fe[k[yi]]===0&&(i[E][k[yi]+ut]|=T),Dt[yi]=1);else{for(tr=0;tr<Or;++tr)--fe[k[tr]]===0&&(i[E][k[tr]+ut]|=T),Dt[tr]=1;for(Rr=Di;Rr<Te;++Rr)--fe[k[Rr]]===0&&(i[E][k[Rr]+ut]|=T),Dt[Rr]=1}else if(te)for(yi=0;yi<Te;++yi)te(Y[yi],yi)||(i[E][k[yi]+ut]|=T);else{for(tr=0;tr<Or;++tr)i[E][k[tr]+ut]|=T;for(Rr=Di;Rr<Te;++Rr)i[E][k[Rr]+ut]|=T}if(!ut){X=Y,H=k,D=fe,M=Dt,je=Or,At=Di;return}var wn=X,us=H,Ao=M,Us,Ti=0;if(yt=0,_&&(Us=ut,ut=wn.length,Te=It),X=_?new Array(ut+Te):new Array(t),H=_?new Array(ut+Te):qo(t,t),_&&(M=qo(ut+Te,1)),_){var Oo=D.length;D=po.arrayLengthen(D,t);for(var wr=0;wr+Oo<t;wr++)D[wr+Oo]=fe[wr]}for(var ir=0;yt<ut&&Ti<Te;++ir)wn[yt]<Y[Ti]?(X[ir]=wn[yt],_&&(M[ir]=Ao[yt]),H[ir]=us[yt++]):(X[ir]=Y[Ti],_&&(M[ir]=Dt[Ti]),H[ir]=k[Ti++]+(_?Us:ut));for(;yt<ut;++yt,++ir)X[ir]=wn[yt],_&&(M[ir]=Ao[yt]),H[ir]=us[yt];for(;Ti<Te;++Ti,++ir)X[ir]=Y[Ti],_&&(M[ir]=Dt[Ti]),H[ir]=k[Ti]+(_?Us:ut);Ri=ce(X),je=Ri[0],At=Ri[1]}function dt(at,ut,Te){Ot.forEach(function(fe){fe(Y,k,ut,Te)}),Y=k=null}function Oe(at){if(_){for(var ut=0,Te=0;ut<L.length;ut++)at[L[ut]]!==ao&&(L[Te]=at[L[ut]],Te++);for(L.length=Te,ut=0,Te=0;ut<t;ut++)at[ut]!==ao&&(Te!==ut&&(D[Te]=D[ut]),Te++);D=D.slice(0,Te)}for(var fe=X.length,Dt=0,yt=0,bt;Dt<fe;++Dt)bt=H[Dt],at[bt]!==ao&&(Dt!==yt&&(X[yt]=X[Dt]),H[yt]=at[bt],_&&(M[yt]=M[Dt]),++yt);for(X.length=yt,_&&(M=M.slice(0,yt));yt<fe;)H[yt++]=0;var _i=ce(X);je=_i[0],At=_i[1]}function Gt(at){var ut=at[0],Te=at[1];if(te)return te=null,Vs(function(Di,yi){return ut<=yi&&yi<Te},at[0]===0&&at[1]===X.length),je=ut,At=Te,I;var fe,Dt,yt,bt=[],_i=[],li=[],ji=[];if(ut<je)for(fe=ut,Dt=Math.min(je,Te);fe<Dt;++fe)bt.push(H[fe]),li.push(fe);else if(ut>je)for(fe=je,Dt=Math.min(ut,At);fe<Dt;++fe)_i.push(H[fe]),ji.push(fe);if(Te>At)for(fe=Math.max(ut,At),Dt=Te;fe<Dt;++fe)bt.push(H[fe]),li.push(fe);else if(Te<At)for(fe=Math.max(je,Te),Dt=At;fe<Dt;++fe)_i.push(H[fe]),ji.push(fe);if(_){var Ri=[],Or=[];for(fe=0;fe<bt.length;fe++)D[bt[fe]]++,M[li[fe]]=0,D[bt[fe]]===1&&(i[E][bt[fe]]^=T,Ri.push(bt[fe]));for(fe=0;fe<_i.length;fe++)D[_i[fe]]--,M[ji[fe]]=1,D[_i[fe]]===0&&(i[E][_i[fe]]^=T,Or.push(_i[fe]));if(bt=Ri,_i=Or,ce===il.filterAll)for(fe=0;fe<L.length;fe++)i[E][yt=L[fe]]&T&&(i[E][yt]^=T,bt.push(yt));else for(fe=0;fe<L.length;fe++)i[E][yt=L[fe]]&T||(i[E][yt]^=T,_i.push(yt))}else{for(fe=0;fe<bt.length;fe++)i[E][bt[fe]]^=T;for(fe=0;fe<_i.length;fe++)i[E][_i[fe]]^=T}return je=ut,At=Te,n.forEach(function(Di){Di(T,E,bt,_i)}),b("filtered"),I}function ei(at){return at==null?vi():Array.isArray(at)?_t(at):typeof at=="function"?Si(at):rt(at)}function rt(at){return et=at,ot=!0,Gt((ce=il.filterExact(cf,at))(X))}function _t(at){return et=at,ot=!0,Gt((ce=il.filterRange(cf,at))(X))}function vi(){return et=void 0,ot=!1,Gt((ce=il.filterAll)(X))}function Si(at){et=at,ot=!0,te=at,ce=il.filterAll,Vs(at,!1);var ut=ce(X);return je=ut[0],At=ut[1],I}function Vs(at,ut){var Te,fe,Dt,yt=[],bt=[],_i=[],li=[],ji=X.length;if(!_)for(Te=0;Te<ji;++Te)!(i[E][fe=H[Te]]&T)^!!(Dt=at(X[Te],Te))&&(Dt?yt.push(fe):bt.push(fe));if(_)for(Te=0;Te<ji;++Te)at(X[Te],Te)?(yt.push(H[Te]),_i.push(Te)):(bt.push(H[Te]),li.push(Te));if(_){var Ri=[],Or=[];for(Te=0;Te<yt.length;Te++)M[_i[Te]]===1&&(D[yt[Te]]++,M[_i[Te]]=0,D[yt[Te]]===1&&(i[E][yt[Te]]^=T,Ri.push(yt[Te])));for(Te=0;Te<bt.length;Te++)M[li[Te]]===0&&(D[bt[Te]]--,M[li[Te]]=1,D[bt[Te]]===0&&(i[E][bt[Te]]^=T,Or.push(bt[Te])));if(yt=Ri,bt=Or,ut)for(Te=0;Te<L.length;Te++)i[E][fe=L[Te]]&T&&(i[E][fe]^=T,yt.push(fe));else for(Te=0;Te<L.length;Te++)i[E][fe=L[Te]]&T||(i[E][fe]^=T,bt.push(fe))}else{for(Te=0;Te<yt.length;Te++)i[E][yt[Te]]&T&&(i[E][yt[Te]]&=O);for(Te=0;Te<bt.length;Te++)i[E][bt[Te]]&T||(i[E][bt[Te]]|=T)}n.forEach(function(Di){Di(T,E,yt,bt)}),b("filtered")}function Ta(){return et}function qf(){return ot}function Zf(at,ut){var Te=[],fe=At,Dt,yt=0;for(ut&&ut>0&&(yt=ut);--fe>=je&&at>0;)i.zero(Dt=H[fe])&&(yt>0?--yt:(Te.push(e[Dt]),--at));if(_)for(fe=0;fe<L.length&&at>0;fe++)i.zero(Dt=L[fe])&&(yt>0?--yt:(Te.push(e[Dt]),--at));return Te}function P(at,ut){var Te=[],fe,Dt,yt=0;if(ut&&ut>0&&(yt=ut),_)for(fe=0;fe<L.length&&at>0;fe++)i.zero(Dt=L[fe])&&(yt>0?--yt:(Te.push(e[Dt]),--at));for(fe=je;fe<At&&at>0;)i.zero(Dt=H[fe])&&(yt>0?--yt:(Te.push(e[Dt]),--at)),fe++;return Te}function Ld(at){var ut={top:Jf,all:ir,reduce:Zl,reduceCount:Dd,reduceSum:Qf,order:Md,orderNatural:Rd,size:Fd,dispose:Ii,remove:Ii};gt.push(ut);var Te,fe,Dt=8,yt=U2(Dt),bt=0,_i,li,ji,Ri,Or,Di=Yn,yi=Yn,tr=!0,Rr=at===Yn,wn;arguments.length<1&&(at=dd),n.push(Di),Ot.push(us),o.push(Ao),us(X,H,0,t);function us(lt,Yt,oi,Wi){_&&(wn=oi,oi=X.length-lt.length,Wi=lt.length);var Kt=Te,Nt=_?[]:qo(bt,yt),ci=ji,bi=Ri,rr=Or,dr=bt,ur=0,hs=0,dn,Hs,Ca,fs,ms,Kl;for(tr&&(ci=rr=Yn),tr&&(bi=rr=Yn),Te=new Array(bt),bt=0,_?fe=dr?fe:[]:fe=dr>1?po.arrayLengthen(fe,t):qo(t,yt),dr&&(Ca=(Hs=Kt[0]).key);hs<Wi&&!((fs=at(lt[hs]))>=fs);)++hs;for(;hs<Wi;){for(Hs&&Ca<=fs?(ms=Hs,Kl=Ca,Nt[ur]=bt,Hs=Kt[++ur],Hs&&(Ca=Hs.key)):(ms={key:fs,value:rr()},Kl=fs),Te[bt]=ms;fs<=Kl&&(dn=Yt[hs]+(_?wn:oi),_?fe[dn]?fe[dn].push(bt):fe[dn]=[bt]:fe[dn]=bt,ms.value=ci(ms.value,e[dn],!0),i.zeroExcept(dn,E,O)||(ms.value=bi(ms.value,e[dn],!1)),!(++hs>=Wi));)fs=at(lt[hs]);Nd()}for(;ur<dr;)Te[Nt[ur]=bt]=Kt[ur++],Nd();if(_)for(var Sn=0;Sn<t;Sn++)fe[Sn]||(fe[Sn]=[]);if(bt>ur)if(_)for(ur=0;ur<wn;++ur)for(Sn=0;Sn<fe[ur].length;Sn++)fe[ur][Sn]=Nt[fe[ur][Sn]];else for(ur=0;ur<oi;++ur)fe[ur]=Nt[fe[ur]];dn=n.indexOf(Di),bt>1||_?(Di=Us,yi=Oo):(!bt&&Rr&&(bt=1,Te=[{key:null,value:rr()}]),bt===1?(Di=Ti,yi=wr):(Di=Yn,yi=Yn),fe=null),n[dn]=Di;function Nd(){if(_){bt++;return}++bt===yt&&(Nt=po.arrayWiden(Nt,Dt<<=1),fe=po.arrayWiden(fe,Dt),yt=U2(Dt))}}function Ao(lt){if(bt>1||_){var Yt=bt,oi=Te,Wi=qo(Yt,Yt),Kt,Nt,ci;if(_){for(Kt=0,ci=0;Kt<t;++Kt)if(lt[Kt]!==ao){for(fe[ci]=fe[Kt],Nt=0;Nt<fe[ci].length;Nt++)Wi[fe[ci][Nt]]=1;++ci}fe=fe.slice(0,ci)}else for(Kt=0,ci=0;Kt<t;++Kt)lt[Kt]!==ao&&(Wi[fe[ci]=fe[Kt]]=1,++ci);for(Te=[],bt=0,Kt=0;Kt<Yt;++Kt)Wi[Kt]&&(Wi[Kt]=bt++,Te.push(oi[Kt]));if(bt>1||_)if(_)for(Kt=0;Kt<ci;++Kt)for(Nt=0;Nt<fe[Kt].length;++Nt)fe[Kt][Nt]=Wi[fe[Kt][Nt]];else for(Kt=0;Kt<ci;++Kt)fe[Kt]=Wi[fe[Kt]];else fe=null;n[n.indexOf(Di)]=bt>1||_?(yi=Oo,Di=Us):bt===1?(yi=wr,Di=Ti):yi=Di=Yn}else if(bt===1){if(Rr)return;for(var bi=0;bi<t;++bi)if(lt[bi]!==ao)return;Te=[],bt=0,n[n.indexOf(Di)]=Di=yi=Yn}}function Us(lt,Yt,oi,Wi,Kt){if(!(lt===T&&Yt===E||tr)){var Nt,ci,bi,rr,dr;if(_){for(Nt=0,rr=oi.length;Nt<rr;++Nt)if(i.zeroExcept(bi=oi[Nt],E,O))for(ci=0;ci<fe[bi].length;ci++)dr=Te[fe[bi][ci]],dr.value=ji(dr.value,e[bi],!1,ci);for(Nt=0,rr=Wi.length;Nt<rr;++Nt)if(i.onlyExcept(bi=Wi[Nt],E,O,Yt,lt))for(ci=0;ci<fe[bi].length;ci++)dr=Te[fe[bi][ci]],dr.value=Ri(dr.value,e[bi],Kt,ci);return}for(Nt=0,rr=oi.length;Nt<rr;++Nt)i.zeroExcept(bi=oi[Nt],E,O)&&(dr=Te[fe[bi]],dr.value=ji(dr.value,e[bi],!1));for(Nt=0,rr=Wi.length;Nt<rr;++Nt)i.onlyExcept(bi=Wi[Nt],E,O,Yt,lt)&&(dr=Te[fe[bi]],dr.value=Ri(dr.value,e[bi],Kt))}}function Ti(lt,Yt,oi,Wi,Kt){if(!(lt===T&&Yt===E||tr)){var Nt,ci,bi,rr=Te[0];for(Nt=0,bi=oi.length;Nt<bi;++Nt)i.zeroExcept(ci=oi[Nt],E,O)&&(rr.value=ji(rr.value,e[ci],!1));for(Nt=0,bi=Wi.length;Nt<bi;++Nt)i.onlyExcept(ci=Wi[Nt],E,O,Yt,lt)&&(rr.value=Ri(rr.value,e[ci],Kt))}}function Oo(){var lt,Yt,oi;for(lt=0;lt<bt;++lt)Te[lt].value=Or();if(_){for(lt=0;lt<t;++lt)for(Yt=0;Yt<fe[lt].length;Yt++)oi=Te[fe[lt][Yt]],oi.value=ji(oi.value,e[lt],!0,Yt);for(lt=0;lt<t;++lt)if(!i.zeroExcept(lt,E,O))for(Yt=0;Yt<fe[lt].length;Yt++)oi=Te[fe[lt][Yt]],oi.value=Ri(oi.value,e[lt],!1,Yt);return}for(lt=0;lt<t;++lt)oi=Te[fe[lt]],oi.value=ji(oi.value,e[lt],!0);for(lt=0;lt<t;++lt)i.zeroExcept(lt,E,O)||(oi=Te[fe[lt]],oi.value=Ri(oi.value,e[lt],!1))}function wr(){var lt,Yt=Te[0];for(Yt.value=Or(),lt=0;lt<t;++lt)Yt.value=ji(Yt.value,e[lt],!0);for(lt=0;lt<t;++lt)i.zeroExcept(lt,E,O)||(Yt.value=Ri(Yt.value,e[lt],!1))}function ir(){return tr&&(yi(),tr=!1),Te}function Jf(lt){var Yt=_i(ir(),0,Te.length,lt);return li.sort(Yt,0,Yt.length)}function Zl(lt,Yt,oi){return ji=lt,Ri=Yt,Or=oi,tr=!0,ut}function Dd(){return Zl(oo.reduceIncrement,oo.reduceDecrement,ah)}function Qf(lt){return Zl(oo.reduceAdd(lt),oo.reduceSubtract(lt),ah)}function Md(lt){_i=__.by(Yt),li=Wf.by(Yt);function Yt(oi){return lt(oi.value)}return ut}function Rd(){return Md(dd)}function Fd(){return bt}function Ii(){var lt=n.indexOf(Di);return lt>=0&&n.splice(lt,1),lt=Ot.indexOf(us),lt>=0&&Ot.splice(lt,1),lt=o.indexOf(Ao),lt>=0&&o.splice(lt,1),lt=gt.indexOf(ut),lt>=0&&gt.splice(lt,1),ut}return Dd().orderNatural()}function Kf(){var at=Ld(Yn),ut=at.all;return delete at.all,delete at.top,delete at.order,delete at.orderNatural,delete at.size,at.value=function(){return ut()[0].value},at}function Pd(){gt.forEach(function(ut){ut.dispose()});var at=s.indexOf(He);return at>=0&&s.splice(at,1),at=s.indexOf(dt),at>=0&&s.splice(at,1),at=o.indexOf(Oe),at>=0&&o.splice(at,1),i.masks[E]&=O,vi()}return I}function f(){var S={reduce:H,reduceCount:Y,reduceSum:k,value:D,dispose:M,remove:M},_,x,I,T,O=!0;n.push(w),s.push(E),E(e,0);function E(L,J){var ce;if(!O)for(ce=J;ce<t;++ce)_=x(_,e[ce],!0),i.zero(ce)||(_=I(_,e[ce],!1))}function w(L,J,ce,te,et){var ot,Ot,gt;if(!O){for(ot=0,gt=ce.length;ot<gt;++ot)i.zero(Ot=ce[ot])&&(_=x(_,e[Ot],et));for(ot=0,gt=te.length;ot<gt;++ot)i.only(Ot=te[ot],J,L)&&(_=I(_,e[Ot],et))}}function X(){var L;for(_=T(),L=0;L<t;++L)_=x(_,e[L],!0),i.zero(L)||(_=I(_,e[L],!1))}function H(L,J,ce){return x=L,I=J,T=ce,O=!0,S}function Y(){return H(oo.reduceIncrement,oo.reduceDecrement,ah)}function k(L){return H(oo.reduceAdd(L),oo.reduceSubtract(L),ah)}function D(){return O&&(X(),O=!1),_}function M(){var L=n.indexOf(w);return L>=0&&n.splice(L,1),L=s.indexOf(E),L>=0&&s.splice(L,1),S}return Y()}function m(){return t}function p(){return e}function g(S){var _=[],x=0,I=d(S||[]);for(x=0;x<t;x++)i.zeroExceptMask(x,I)&&_.push(e[x]);return _}function v(S){if(typeof S!="function"){console.warn("onChange callback parameter must be a function!");return}return a.push(S),function(){a.splice(a.indexOf(S),1)}}function b(S){for(var _=0;_<a.length;_++)a[_](S)}return arguments.length?l(arguments[0]):r}function qo(r,e){return(e<257?po.array8:e<65537?po.array16:po.array32)(r)}function Ug(r){for(var e=qo(r,r),t=-1;++t<r;)e[t]=t;return e}function U2(r){return r===8?256:r===16?65536:4294967296}class $9{constructor(e,t,i){this._crossfilter=e,this._selfRemove=t,this._syncUp=i}setAccessor(e){const{_crossfilter:t}=this;this.dispose(),this._dimension=t.dimension(e)}applyFilter(e){var t,i;(t=this._dimension)===null||t===void 0||t.filter(e),(i=this._syncUp)===null||i===void 0||i.call(this)}clear(){var e,t;(e=this._dimension)===null||e===void 0||e.filterAll(),(t=this._syncUp)===null||t===void 0||t.call(this)}getAllValues(){const{_crossfilter:e,_dimension:t}=this;if(t)return e.all().map(t.accessor)}getFilteredValues(){const{_crossfilter:e,_dimension:t}=this;if(t)return e.allFiltered().map(t.accessor)}getFilteredRecords(){return this._crossfilter.allFiltered([this._dimension])}isActive(){var e;return((e=this._dimension)===null||e===void 0?void 0:e.hasCurrentFilter())||!1}dispose(){var e;(e=this._dimension)===null||e===void 0||e.dispose()}remove(){this.dispose(),this._selfRemove()}}class H2{constructor(e){this._crossfilter=Id(),this._filters=new Set,this._syncUpFunction=e,this._crossfilter.onChange(t=>{var i,n,s;switch(t){case"filtered":(i=this.onFiltered)===null||i===void 0||i.call(this),this._filters.forEach(o=>{var a;(a=o.onFiltered)===null||a===void 0||a.call(o)});break;case"dataAdded":(n=this.onDataAdded)===null||n===void 0||n.call(this),this._filters.forEach(o=>{var a;(a=o.onDataAdded)===null||a===void 0||a.call(o)});break;case"dataRemoved":(s=this.onDataRemoved)===null||s===void 0||s.call(this),this._filters.forEach(o=>{var a;(a=o.onDataRemoved)===null||a===void 0||a.call(o)})}})}addRecords(e){const{_crossfilter:t}=this;this._records=e,t.remove(),t.add(e)}getFilteredRecords(e){const{_crossfilter:t}=this;return(e==null?void 0:e.getFilteredRecords())||t.allFiltered()}addFilter(e=!0){const t=new $9(this._crossfilter,()=>{this._filters.delete(t)},e?this._syncUpFunction:void 0);return this._filters.add(t),t}clearFilters(){this._filters.forEach(e=>{e.clear()})}isAnyFiltersActive(e){for(const t of this._filters.values())if(t!==e&&t.isActive())return!0;return!1}getAllRecords(){return this._records}}class eG{constructor(e,t){var i;this._data={nodes:[],links:[]},this._previousData={nodes:[],links:[]},this._cosmographConfig={},this._cosmosConfig={},this._nodesForTopLabels=new Set,this._nodesForForcedLabels=new Set,this._trackedNodeToLabel=new Map,this._isLabelsDestroyed=!1,this._svgParser=new DOMParser,this._nodesCrossfilter=new H2(this._applyLinksFilter.bind(this)),this._linksCrossfilter=new H2(this._applyNodesFilter.bind(this)),this._nodesFilter=this._nodesCrossfilter.addFilter(!1),this._linksFilter=this._linksCrossfilter.addFilter(!1),this._selectedNodesFilter=this._nodesCrossfilter.addFilter(),this._isDataDifferent=()=>{const s=JSON.stringify(this._data.nodes),o=JSON.stringify(this._previousData.nodes),a=JSON.stringify(this._data.links),l=JSON.stringify(this._previousData.links);return s!==o||a!==l},this._onClick=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onClick)===null||a===void 0||a.call(o,...s)},this._onLabelClick=(s,o)=>{var a,l,c;const d=(a=this._cosmos)===null||a===void 0?void 0:a.graph.getNodeById(o.id);d&&((c=(l=this._cosmographConfig).onLabelClick)===null||c===void 0||c.call(l,d,s))},this._onHoveredNodeClick=s=>{var o,a;this._hoveredNode&&((a=(o=this._cosmographConfig).onLabelClick)===null||a===void 0||a.call(o,this._hoveredNode,s))},this._onNodeMouseOver=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onNodeMouseOver)===null||a===void 0||a.call(o,...s);const[l,,c]=s;this._hoveredNode=l,this._renderLabelForHovered(l,c)},this._onNodeMouseOut=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onNodeMouseOut)===null||a===void 0||a.call(o,...s),this._renderLabelForHovered()},this._onMouseMove=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onMouseMove)===null||a===void 0||a.call(o,...s);const[l,,c]=s;this._renderLabelForHovered(l,c)},this._onZoomStart=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onZoomStart)===null||a===void 0||a.call(o,...s)},this._onZoom=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onZoom)===null||a===void 0||a.call(o,...s),this._renderLabelForHovered(),this._renderLabels()},this._onZoomEnd=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onZoomEnd)===null||a===void 0||a.call(o,...s)},this._onStart=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onSimulationStart)===null||a===void 0||a.call(o,...s)},this._onTick=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onSimulationTick)===null||a===void 0||a.call(o,...s),this._renderLabels()},this._onEnd=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onSimulationEnd)===null||a===void 0||a.call(o,...s)},this._onPause=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onSimulationPause)===null||a===void 0||a.call(o,...s)},this._onRestart=(...s)=>{var o,a;(a=(o=this._cosmographConfig).onSimulationRestart)===null||a===void 0||a.call(o,...s)},this._containerNode=e,this._containerNode.classList.add(Lc.cosmograph),this._cosmographConfig=D0(j2,t!=null?t:{}),this._cosmosConfig=this._createCosmosConfig(t),this._canvasElement=document.createElement("canvas"),this._labelsDivElement=document.createElement("div"),this._watermarkDivElement=document.createElement("div"),this._watermarkDivElement.classList.add(Lc.watermark),this._watermarkDivElement.onclick=()=>{var s;return(s=window.open("https://cosmograph.app/","_blank"))===null||s===void 0?void 0:s.focus()},e.appendChild(this._canvasElement),e.appendChild(this._labelsDivElement),e.appendChild(this._watermarkDivElement),this._cssLabelsRenderer=new yz(this._labelsDivElement,{dispatchWheelEventElement:this._canvasElement,pointerEvents:"all",onLabelClick:this._onLabelClick.bind(this)}),this._hoveredCssLabel=new uk(this._labelsDivElement),this._hoveredCssLabel.setPointerEvents("all"),this._hoveredCssLabel.element.addEventListener("click",this._onHoveredNodeClick.bind(this)),this._linksFilter.setAccessor(s=>[s.source,s.target]),this._nodesFilter.setAccessor(s=>s.id),this._selectedNodesFilter.setAccessor(s=>s.id),this._nodesCrossfilter.onFiltered=()=>{var s,o,a,l;let c;this._nodesCrossfilter.isAnyFiltersActive()?(c=this._nodesCrossfilter.getFilteredRecords(),(s=this._cosmos)===null||s===void 0||s.selectNodesByIds(c.map(d=>d.id))):(o=this._cosmos)===null||o===void 0||o.unselectNodes(),this._updateSelectedNodesSet(c),(l=(a=this._cosmographConfig).onNodesFiltered)===null||l===void 0||l.call(a,c)},this._linksCrossfilter.onFiltered=()=>{var s,o;let a;this._linksCrossfilter.isAnyFiltersActive()&&(a=this._linksCrossfilter.getFilteredRecords()),(o=(s=this._cosmographConfig).onLinksFiltered)===null||o===void 0||o.call(s,a)};const n=this._svgParser.parseFromString(RB,"image/svg+xml").firstChild;(i=this._watermarkDivElement)===null||i===void 0||i.appendChild(n)}get data(){return this._data}get progress(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.progress}get isSimulationRunning(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.isSimulationRunning}get maxPointSize(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.maxPointSize}setData(e,t,i=!0){var n,s,o,a;const{_cosmographConfig:l}=this;this._data={nodes:e,links:t};const c=l.disableSimulation===null?!t.length:l.disableSimulation;this._cosmos||(this._disableSimulation=c,this._cosmosConfig.disableSimulation=this._disableSimulation,this._cosmos=new pz(this._canvasElement,this._cosmosConfig),this.cosmos=this._cosmos),this._disableSimulation!==c&&console.warn(`The \`disableSimulation\` was initialized to \`${this._disableSimulation}\` during initialization and will not be modified.`),this._cosmos.setData(e,t,i),this._nodesCrossfilter.addRecords(e),this._linksCrossfilter.addRecords(t),this._updateLabels(),(s=(n=this._cosmographConfig).onSetData)===null||s===void 0||s.call(n,e,t),this._isDataDifferent()&&(["cosmograph.app"].includes(window.location.hostname)||B9({browser:navigator.userAgent,hostname:window.location.hostname,mode:null,is_library_metric:!0,links_count:t.length,links_have_time:null,links_raw_columns:t.length&&(o=Object.keys(t==null?void 0:t[0]).length)!==null&&o!==void 0?o:0,links_raw_lines:null,nodes_count:e.length,nodes_have_time:null,nodes_raw_columns:e.length&&(a=Object.keys(e==null?void 0:e[0]).length)!==null&&a!==void 0?a:0,nodes_raw_lines:null})),this._previousData={nodes:e,links:t}}setConfig(e){var t,i;if(this._cosmographConfig=D0(j2,e!=null?e:{}),this._cosmosConfig=this._createCosmosConfig(e),(t=this._cosmos)===null||t===void 0||t.setConfig(this._cosmosConfig),e==null?void 0:e.backgroundColor){const n=(i=Ps(e==null?void 0:e.backgroundColor))===null||i===void 0?void 0:i.formatHex();if(n){const s=this._checkBrightness(n),o=document.querySelector(":root");s>.65?o==null||o.style.setProperty("--cosmograph-watermark-color","#000000"):o==null||o.style.setProperty("--cosmograph-watermark-color","#ffffff")}}this._updateLabels()}addNodesFilter(){return this._nodesCrossfilter.addFilter()}addLinksFilter(){return this._linksCrossfilter.addFilter()}selectNodesInRange(e){var t;if(!this._cosmos)return;this._cosmos.selectNodesInRange(e);const i=new Set(((t=this.getSelectedNodes())!==null&&t!==void 0?t:[]).map(n=>n.id));this._selectedNodesFilter.applyFilter(n=>i.has(n))}selectNodes(e){if(!this._cosmos)return;const t=new Set(e.map(i=>i.id));this._selectedNodesFilter.applyFilter(i=>t.has(i))}selectNode(e,t=!1){if(!this._cosmos)return;const i=new Set([e,...t&&this._cosmos.getAdjacentNodes(e.id)||[]].map(n=>n.id));this._selectedNodesFilter.applyFilter(n=>i.has(n))}unselectNodes(){this._cosmos&&this._selectedNodesFilter.clear()}getSelectedNodes(){if(this._cosmos)return this._cosmos.getSelectedNodes()}zoomToNode(e){this._cosmos&&this._cosmos.zoomToNodeById(e.id)}setZoomLevel(e,t=0){this._cosmos&&this._cosmos.setZoomLevel(e,t)}getZoomLevel(){if(this._cosmos)return this._cosmos.getZoomLevel()}getNodePositions(){if(this._cosmos)return this._cosmos.getNodePositions()}getNodePositionsMap(){if(this._cosmos)return this._cosmos.getNodePositionsMap()}getNodePositionsArray(){if(this._cosmos)return this._cosmos.getNodePositionsArray()}fitView(e=250){this._cosmos&&this._cosmos.fitView(e)}fitViewByNodeIds(e,t=250){this._cosmos&&this._cosmos.fitViewByNodeIds(e,t)}focusNode(e){this._cosmos&&this._cosmos.setFocusedNodeById(e==null?void 0:e.id)}getAdjacentNodes(e){if(this._cosmos)return this._cosmos.getAdjacentNodes(e)}spaceToScreenPosition(e){if(this._cosmos)return this._cosmos.spaceToScreenPosition(e)}spaceToScreenRadius(e){if(this._cosmos)return this._cosmos.spaceToScreenRadius(e)}getNodeRadiusByIndex(e){if(this._cosmos)return this._cosmos.getNodeRadiusByIndex(e)}getNodeRadiusById(e){if(this._cosmos)return this._cosmos.getNodeRadiusById(e)}getSampledNodePositionsMap(){if(this._cosmos)return this._cosmos.getSampledNodePositionsMap()}start(e=1){this._cosmos&&this._cosmos.start(e)}pause(){this._cosmos&&this._cosmos.pause()}restart(){this._cosmos&&this._cosmos.restart()}step(){this._cosmos&&this._cosmos.step()}remove(){var e;(e=this._cosmos)===null||e===void 0||e.destroy(),this._isLabelsDestroyed||(this._containerNode.innerHTML="",this._isLabelsDestroyed=!0,this._hoveredCssLabel.element.removeEventListener("click",this._onHoveredNodeClick.bind(this)),this._hoveredCssLabel.destroy(),this._cssLabelsRenderer.destroy())}create(){this._cosmos&&this._cosmos.create()}getNodeDegrees(){if(this._cosmos)return this._cosmos.graph.degree}_createCosmosConfig(e){const t=fn(Ui({},e),{simulation:fn(Ui({},Object.keys(e!=null?e:{}).filter(i=>i.indexOf("simulation")!==-1).reduce((i,n)=>{const s=n.replace("simulation","");return i[s.charAt(0).toLowerCase()+s.slice(1)]=e==null?void 0:e[n],i},{})),{onStart:this._onStart.bind(this),onTick:this._onTick.bind(this),onEnd:this._onEnd.bind(this),onPause:this._onPause.bind(this),onRestart:this._onRestart.bind(this)}),events:{onClick:this._onClick.bind(this),onNodeMouseOver:this._onNodeMouseOver.bind(this),onNodeMouseOut:this._onNodeMouseOut.bind(this),onMouseMove:this._onMouseMove.bind(this),onZoomStart:this._onZoomStart.bind(this),onZoom:this._onZoom.bind(this),onZoomEnd:this._onZoomEnd.bind(this)}});return delete t.disableSimulation,t}_updateLabels(){if(this._isLabelsDestroyed||!this._cosmos)return;const{_cosmos:e,data:{nodes:t},_cosmographConfig:{showTopLabels:i,showTopLabelsLimit:n,showLabelsFor:s,showTopLabelsValueKey:o,nodeLabelAccessor:a}}=this;if(this._nodesForTopLabels.clear(),i&&n){let l;l=o?[...t].sort((c,d)=>{const u=c[o],h=d[o];return typeof u=="number"&&typeof h=="number"?h-u:0}):Object.entries(e.graph.degree).sort((c,d)=>d[1]-c[1]).slice(0,n).map(c=>e.graph.getNodeByIndex(+c[0]));for(let c=0;c<n&&!(c>=t.length);c++){const d=l[c];d&&this._nodesForTopLabels.add(d)}}this._nodesForForcedLabels.clear(),s==null||s.forEach(this._nodesForForcedLabels.add,this._nodesForForcedLabels),this._trackedNodeToLabel.clear(),e.trackNodePositionsByIds([...i?this._nodesForTopLabels:[],...this._nodesForForcedLabels].map(l=>{var c;return this._trackedNodeToLabel.set(l,(c=a==null?void 0:a(l))!==null&&c!==void 0?c:l.id),l.id})),this._renderLabels()}_updateSelectedNodesSet(e){this._isLabelsDestroyed||(e?(this._selectedNodesSet=new Set,e==null||e.forEach(this._selectedNodesSet.add,this._selectedNodesSet)):this._selectedNodesSet=void 0,this._renderLabels())}_renderLabels(){if(this._isLabelsDestroyed||!this._cosmos)return;const{_cosmos:e,_selectedNodesSet:t,_cosmographConfig:{showDynamicLabels:i,nodeLabelAccessor:n,nodeLabelColor:s,nodeLabelClassName:o}}=this;let a=[];const l=e.getTrackedNodePositionsMap(),c=new Map;if(i){const d=this.getSampledNodePositionsMap();d==null||d.forEach((u,h)=>{var f;const m=e.graph.getNodeById(h);m&&c.set(m,[(f=n==null?void 0:n(m))!==null&&f!==void 0?f:m.id,u,Lc.cosmographShowDynamicLabels,.7])})}this._nodesForTopLabels.forEach(d=>{c.set(d,[this._trackedNodeToLabel.get(d),l.get(d.id),Lc.cosmographShowTopLabels,.9])}),this._nodesForForcedLabels.forEach(d=>{c.set(d,[this._trackedNodeToLabel.get(d),l.get(d.id),Lc.cosmographShowLabelsFor,1])}),a=[...c.entries()].map(([d,[u,h,f,m]])=>{var p,g,v;const b=this.spaceToScreenPosition([(p=h==null?void 0:h[0])!==null&&p!==void 0?p:0,(g=h==null?void 0:h[1])!==null&&g!==void 0?g:0]),S=this.spaceToScreenRadius(e.config.nodeSizeScale*this.getNodeRadiusById(d.id)),_=!!t,x=t==null?void 0:t.has(d);return{id:d.id,text:u!=null?u:"",x:b[0],y:b[1]-(S+2),weight:_&&!x?.1:m,shouldBeShown:this._nodesForForcedLabels.has(d),style:_&&!x?"opacity: 0.1;":"",color:s&&(typeof s=="string"?s:s==null?void 0:s(d)),className:(v=typeof o=="string"?o:o==null?void 0:o(d))!==null&&v!==void 0?v:f}}),this._cssLabelsRenderer.setLabels(a),this._cssLabelsRenderer.draw(!0)}_renderLabelForHovered(e,t){var i,n;if(!this._cosmos)return;const{_cosmographConfig:{showHoveredNodeLabel:s,nodeLabelAccessor:o,hoveredNodeLabelClassName:a,hoveredNodeLabelColor:l}}=this;if(!this._isLabelsDestroyed){if(s&&e&&t){const c=this.spaceToScreenPosition(t),d=this.spaceToScreenRadius(this.getNodeRadiusById(e.id));this._hoveredCssLabel.setText((i=o==null?void 0:o(e))!==null&&i!==void 0?i:e.id),this._hoveredCssLabel.setVisibility(!0),this._hoveredCssLabel.setPosition(c[0],c[1]-(d+2)),this._hoveredCssLabel.setClassName(typeof a=="string"?a:(n=a==null?void 0:a(e))!==null&&n!==void 0?n:"");const u=l&&(typeof l=="string"?l:l==null?void 0:l(e));u&&this._hoveredCssLabel.setColor(u)}else this._hoveredCssLabel.setVisibility(!1);this._hoveredCssLabel.draw()}}_applyLinksFilter(){if(this._nodesCrossfilter.isAnyFiltersActive(this._nodesFilter)){const e=this._nodesCrossfilter.getFilteredRecords(this._nodesFilter),t=new Set(e.map(i=>i.id));this._linksFilter.applyFilter(i=>{const n=i==null?void 0:i[0],s=i==null?void 0:i[1];return t.has(n)&&t.has(s)})}else this._linksFilter.clear()}_applyNodesFilter(){if(this._linksCrossfilter.isAnyFiltersActive(this._linksFilter)){const e=this._linksCrossfilter.getFilteredRecords(this._linksFilter),t=new Set(e.map(i=>[i.source,i.target]).flat());this._nodesFilter.applyFilter(i=>t.has(i))}else this._nodesFilter.clear()}_checkBrightness(e){const t=(i=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return n?{r:parseInt((n[1]||0).toString(),16),g:parseInt((n[2]||0).toString(),16),b:parseInt((n[3]||0).toString(),16)}:{r:0,g:0,b:0}})(e);return(.2126*t.r+.7152*t.g+.0722*t.b)/255}}var df;(function(r){r.Nodes="nodes",r.Links="links"})(df||(df={}));df.Links;df.Nodes;class Yf{constructor(e){if(new.target===Yf)throw new TypeError("Cannot construct SimulationWrapper instances directly");this.graphData=e,this.started=!1}start(e,t){throw new Error("Method 'start(containerElement, nodePositions)' must be implemented.")}pause(){throw new Error("Method 'pause()' must be implemented.")}resume(){throw new Error("Method 'resume()' must be implemented.")}getNodePositions(){throw new Error("Method 'getNodePositions()' must be implemented.")}forEachNode(){throw new Error("Method 'forEachNode()' must be implemented.")}forEachLink(){throw new Error("Method 'forEachLink()' must be implemented.")}updateLayoutSetting(e){throw new Error("Method 'updateLayoutSetting()' must be implemented.")}destroy(){throw new Error("Method 'destroy()' must be implemented.")}}var An;class tG extends Yf{constructor(t){super(t);vu(this,An);this.config={nodeColor:o=>o.color,nodeSize:o=>Math.pow(o.size,1/2),nodeSizeScale:2,linkWidth:2,fitViewOnInit:!0,linkArrows:!1,linkColor:[144,144,144,1],backgroundColor:[248,250,252,1],showTopLabels:!1,showDynamicLabels:!1,showHoveredNodeLabel:!1,renderHoveredNodeRing:!1,spaceSize:128},this.firstLoad=!0;const i=this.graphData.links[0],n=Object.keys(i)[0],s=Object.keys(i)[1];_u(this,An,new Map),this.links=this.graphData.links.map(o=>{const a=String(o[n]),l=String(o[s]);mn(this,An).get(a)==null&&mn(this,An).set(a,[]),mn(this,An).get(l)==null&&mn(this,An).set(l,[]);const c=`${a}_${l}`;return mn(this,An).get(a).push({id:c,fromId:a,toId:l}),mn(this,An).get(l).push({id:c,fromId:a,toId:l}),{id:c,source:a,target:l}})}start(t,i){const n=this.graphData.nodes[0],s=Object.keys(n)[0],o=Object.keys(i).length<=0;this.nodes=this.graphData.nodes.map(a=>{const l=String(a[s]),c={id:l,size:a.size||5,color:a.color||[0,0,0,1],component:a.component||null,links:mn(this,An).get(l)};if(o)c.x=a.initialX,c.y=a.initialY;else{const d=i[l];c.x=d.x,c.y=-d.y}return c}),this.graph=new eG(t,this.config),this.graph.setData(this.nodes,this.links),this.started=!0,this.graph.pause()}pause(){this.graph.pause()}resume(){this.firstLoad?(this.graph.start(),this.firstLoad=!1):this.graph.restart()}getNodePositions(){const t=this.graph.getNodePositions(),i={};Object.entries(t).forEach(([a,l])=>{const c=this.graph.spaceToScreenPosition([l.x,l.y]);i[a]={x:c[0],y:c[1]}});const n=this.nodes.length,s=Object.values(i).reduce((a,l)=>a+l.x,0)/n,o=Object.values(i).reduce((a,l)=>a+l.y,0)/n;return Object.entries(i).forEach(([a,l])=>{i[a]={x:l.x-s,y:l.y-o}}),i}forEachNode(t){this.nodes.forEach(t)}forEachLink(t){this.links.forEach(t)}updateLayoutSetting(t){return i=>{this.graph.setConfig({[t]:+i.target.value}),this.graph.start()}}destroy(){this.graph.remove()}}An=new WeakMap;const iG=r=>{const e=r.nodes[0],t=Object.keys(e)[0];return i=>({id:i[t],data:i})},rG=r=>{const e=r.links[0],t=Object.keys(e)[0],i=Object.keys(e)[1];return n=>({fromId:n[t],toId:n[i],data:n})};class Jk extends Yf{constructor(e){super(e),this.graph=Mc.Graph.serializer().loadFromJSON(e,iG(e),rG(e)),this.graphics=Mc.Graph.View.webglGraphics(),this.graphics.node(function(t){return Mc.Graph.View.webglSquare(t.data.size||10,t.data.color||"#000000")})}start(e,t){Object.keys(t).length>0?this.graph.forEachNode(i=>{const n=t[i.id];this.layout.setNodePosition(i.id,n.x,n.y)}):this.graph.forEachNode(i=>{i.data.initialX&&this.layout.setNodePosition(i.id,i.data.initialX,i.data.initialY)}),this.renderer=Mc.Graph.View.renderer(this.graph,{layout:this.layout,container:e,graphics:this.graphics,renderLinks:!0,prerender:!0}),this.renderer.run(),this.started=!0,this.renderer.pause()}pause(){this.renderer&&this.renderer.pause()}resume(){this.renderer.resume()}getNodePositions(){let e={};return this.graph.forEachNode(t=>{let i=this.layout.getNodePosition(t.id);e[t.id]={x:i.x,y:i.y}}),e}forEachNode(e){this.graph.forEachNode(e)}forEachLink(e){this.graph.forEachLink(e)}updateLayoutSetting(e){throw new Error("Method 'updateLayoutSetting(settingId)' must be implemented.")}destroy(){}}var xl;class nG extends Jk{constructor(t){super(t);vu(this,xl);_u(this,xl,kf.find(n=>n.value==="viva"));let i={};mn(this,xl).settings.forEach(n=>{i[n.id]=n.value}),this.layout=mn(this,xl).spec(this.graph,i)}updateLayoutSetting(t){return i=>{this.layout.simulator[t](i.target.value)}}}xl=new WeakMap;var wl;class sG extends Jk{constructor(t){super(t);vu(this,wl);_u(this,wl,kf.find(n=>n.value==="d3"));let i={};mn(this,wl).settings.forEach(n=>{i[n.id]=n.value}),this.layout=mn(this,wl).spec(this.graph,i)}updateLayoutSetting(t){const i={alphaDecay:this.layout.simulator.alphaDecay,velocityDecay:this.layout.simulator.velocityDecay,chargeStrength:this.layout.simulator.force("charge").strength,theta:this.layout.simulator.force("charge").theta,distanceMin:this.layout.simulator.force("charge").distanceMin,distanceMax:this.layout.simulator.force("charge").distanceMax,linkDistance:this.layout.simulator.force("link").distance,linkStrength:this.layout.simulator.force("link").strength,linkIterations:this.layout.simulator.force("link").iterations,centerX:this.layout.simulator.force("center").x,centerY:this.layout.simulator.force("center").y,centerStrength:this.layout.simulator.force("center").strength,collisionRadius:this.layout.simulator.force("collide").radius,collisionStrength:this.layout.simulator.force("collide").strength,collisionIterations:this.layout.simulator.force("collide").iterations,x:this.layout.simulator.force("x").x,y:this.layout.simulator.force("y").y,xStrength:this.layout.simulator.force("x").strength,yStrength:this.layout.simulator.force("y").strength};return n=>{i[t](n.target.value),this.layout.simulator.alpha(1).restart()}}}wl=new WeakMap;function X2(r,e,t){const i=r.slice();return i[22]=e[t],i}function W2(r){let e,t,i,n,s,o,a,l,c=r[1],d,u,h;a=new HP({props:{$$slots:{default:[oG]},$$scope:{ctx:r}}});let f=Z2(r);return{c(){e=ai("aside"),t=ai("div"),i=ai("ul"),i.innerHTML='<li><p class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white group"><svg class="w-6 h-6 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 21"><path d="M10.83 5a3.001 3.001 0 0 0-5.66 0H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17ZM4 11h9.17a3.001 3.001 0 0 1 5.66 0H20a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H4a1 1 0 1 1 0-2Zm1.17 6H4a1 1 0 1 0 0 2h1.17a3.001 3.001 0 0 0 5.66 0H20a1 1 0 1 0 0-2h-9.17a3.001 3.001 0 0 0-5.66 0Z"></path></svg> <span class="ms-3">Settings</span></p></li>',n=Tr(),s=ai("ul"),o=ai("li"),wi(a.$$.fragment),l=Tr(),f.c(),ae(i,"class","space-y-2 font-medium text-lg"),ae(o,"class","mb-4"),ae(s,"class","pt-4 mt-4 space-y-2 font-medium border-t border-gray-200 dark:border-gray-700"),ae(t,"class","h-full px-3 py-4 overflow-y-scroll bg-gray-50 dark:bg-gray-800"),ae(e,"id","expanded-sidebar"),ae(e,"class","fixed top-0 left-0 z-40 w-56 h-screen"),ae(e,"aria-label","Sidebar")},m(m,p){Me(m,e,p),Ze(e,t),Ze(t,i),Ze(t,n),Ze(t,s),Ze(s,o),pi(a,o,null),Ze(t,l),f.m(t,null),h=!0},p(m,p){const g={};p&33554434&&(g.$$scope={dirty:p,ctx:m}),a.$set(g),p&2&&Oi(c,c=m[1])?(Dr(),st(f,1,1,Pt),Mr(),f=Z2(m),f.c(),$e(f,1),f.m(t,null)):f.p(m,p)},i(m){h||($e(a.$$.fragment,m),$e(f),m&&is(()=>{h&&(u&&u.end(1),d=lS(e,Uh,{x:-200,duration:300}),d.start())}),h=!0)},o(m){st(a.$$.fragment,m),st(f),d&&d.invalidate(),m&&(u=cS(e,Uh,{x:-200,duration:300})),h=!1},d(m){m&&Le(e),gi(a),f.d(m),m&&u&&u.end()}}}function oG(r){let e,t,i,n;function s(a){r[15](a)}let o={class:"mt-2",items:kf,placeholder:""};return r[1]!==void 0&&(o.value=r[1]),t=new QP({props:o}),en.push(()=>fd(t,"value",s)),{c(){e=Bt(`Layout algorithm
          `),wi(t.$$.fragment)},m(a,l){Me(a,e,l),pi(t,a,l),n=!0},p(a,l){const c={};!i&&l&2&&(i=!0,c.value=a[1],hd(()=>i=!1)),t.$set(c)},i(a){n||($e(t.$$.fragment,a),n=!0)},o(a){st(t.$$.fragment,a),n=!1},d(a){a&&Le(e),gi(t,a)}}}function Y2(r){let e,t,i=r[22].name+"",n,s,o,a,l,c,d,u,h,f,m;return{c(){e=ai("li"),t=ai("label"),n=Bt(i),s=Tr(),o=ai("input"),h=Tr(),ae(t,"for","steps-range"),ae(t,"class","block text-sm font-medium text-gray-900 dark:text-gray-300"),ae(o,"type","range"),ae(o,"id",a=r[22].id),ae(o,"min",l=r[22].min),ae(o,"max",c=r[22].max),o.value=d=r[22].value,ae(o,"step",u=r[22].step),ae(o,"class","w-full h-1 mb-4 range-sm bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700")},m(p,g){Me(p,e,g),Ze(e,t),Ze(t,n),Ze(e,s),Ze(e,o),Ze(e,h),f||(m=ze(o,"input",function(){Zr(r[0].updateLayoutSetting(r[22].id))&&r[0].updateLayoutSetting(r[22].id).apply(this,arguments)}),f=!0)},p(p,g){r=p,g&4&&i!==(i=r[22].name+"")&&Xt(n,i),g&4&&a!==(a=r[22].id)&&ae(o,"id",a),g&4&&l!==(l=r[22].min)&&ae(o,"min",l),g&4&&c!==(c=r[22].max)&&ae(o,"max",c),g&4&&d!==(d=r[22].value)&&(o.value=d),g&4&&u!==(u=r[22].step)&&ae(o,"step",u)},d(p){p&&Le(e),f=!1,m()}}}function q2(r){let e,t=r[22].shown&&Y2(r);return{c(){t&&t.c(),e=Ht()},m(i,n){t&&t.m(i,n),Me(i,e,n)},p(i,n){i[22].shown?t?t.p(i,n):(t=Y2(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&Le(e),t&&t.d(i)}}}function Z2(r){let e,t,i,n,s=Eh(r[2].settings),o=[];for(let a=0;a<s.length;a+=1)o[a]=q2(X2(r,s,a));return{c(){e=ai("ul");for(let a=0;a<o.length;a+=1)o[a].c()},m(a,l){Me(a,e,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);n=!0},p(a,l){if(l&5){s=Eh(a[2].settings);let c;for(c=0;c<s.length;c+=1){const d=X2(a,s,c);o[c]?o[c].p(d,l):(o[c]=q2(d),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},i(a){n||(a&&is(()=>{n&&(i&&i.end(1),t=lS(e,Uh,{delay:250,duration:200}),t.start())}),n=!0)},o(a){t&&t.invalidate(),a&&(i=cS(e,Uh,{delay:0,duration:200})),n=!1},d(a){a&&Le(e),rS(o,a),a&&i&&i.end()}}}function aG(r){let e;return{c(){e=ai("p"),e.textContent="Loading graph...."},m(t,i){Me(t,e,i)},p:Pt,i:Pt,o:Pt,d(t){t&&Le(e)}}}function lG(r){let e,t,i;function n(o){r[17](o)}let s={simulation:r[0]};return r[5]!==void 0&&(s.nodePositions=r[5]),e=new PO({props:s}),en.push(()=>fd(e,"nodePositions",n)),r[18](e),{c(){wi(e.$$.fragment)},m(o,a){pi(e,o,a),i=!0},p(o,a){const l={};a&1&&(l.simulation=o[0]),!t&&a&32&&(t=!0,l.nodePositions=o[5],hd(()=>t=!1)),e.$set(l)},i(o){i||($e(e.$$.fragment,o),i=!0)},o(o){st(e.$$.fragment,o),i=!1},d(o){r[18](null),gi(e,o)}}}function cG(r){let e=r[1],t,i,n=K2(r);return{c(){n.c(),t=Ht()},m(s,o){n.m(s,o),Me(s,t,o),i=!0},p(s,o){o&2&&Oi(e,e=s[1])?(Dr(),st(n,1,1,Pt),Mr(),n=K2(s),n.c(),$e(n,1),n.m(t.parentNode,t)):n.p(s,o)},i(s){i||($e(n),i=!0)},o(s){st(n),i=!1},d(s){s&&Le(t),n.d(s)}}}function K2(r){let e,t,i;function n(o){r[16](o)}let s={simulation:r[0]};return r[5]!==void 0&&(s.nodePositions=r[5]),e=new qA({props:s}),en.push(()=>fd(e,"nodePositions",n)),{c(){wi(e.$$.fragment)},m(o,a){pi(e,o,a),i=!0},p(o,a){const l={};a&1&&(l.simulation=o[0]),!t&&a&32&&(t=!0,l.nodePositions=o[5],hd(()=>t=!1)),e.$set(l)},i(o){i||($e(e.$$.fragment,o),i=!0)},o(o){st(e.$$.fragment,o),i=!1},d(o){gi(e,o)}}}function J2(r){let e,t,i,n;return e=new Il({props:{name:r[8]?"Pause":"Resume",$$slots:{default:[hG]},$$scope:{ctx:r}}}),e.$on("click",r[10]),i=new Il({props:{name:"Layout settings",$$slots:{default:[fG]},$$scope:{ctx:r}}}),i.$on("click",r[12]),{c(){wi(e.$$.fragment),t=Tr(),wi(i.$$.fragment)},m(s,o){pi(e,s,o),Me(s,t,o),pi(i,s,o),n=!0},p(s,o){const a={};o&256&&(a.name=s[8]?"Pause":"Resume"),o&33554688&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const l={};o&33554432&&(l.$$scope={dirty:o,ctx:s}),i.$set(l)},i(s){n||($e(e.$$.fragment,s),$e(i.$$.fragment,s),n=!0)},o(s){st(e.$$.fragment,s),st(i.$$.fragment,s),n=!1},d(s){s&&Le(t),gi(e,s),gi(i,s)}}}function dG(r){let e,t;return e=new $D({props:{slot:"icon",class:"w-8 h-8"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function uG(r){let e,t;return e=new qD({props:{slot:"icon",class:"w-8 h-8"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function hG(r){let e,t,i,n;const s=[uG,dG],o=[];function a(l,c){return l[8]?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),i=Ht()},m(l,c){o[e].m(l,c),Me(l,i,c),n=!0},p(l,c){let d=e;e=a(l),e!==d&&(Dr(),st(o[d],1,1,()=>{o[d]=null}),Mr(),t=o[e],t||(t=o[e]=s[e](l),t.c()),$e(t,1),t.m(i.parentNode,i))},i(l){n||($e(t),n=!0)},o(l){st(t),n=!1},d(l){l&&Le(i),o[e].d(l)}}}function fG(r){let e,t;return e=new AD({props:{class:"w-6 h-6"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function mG(r){let e,t;return e=new Il({props:{name:"Edit",$$slots:{default:[gG]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p(i,n){const s={};n&33554432&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function pG(r){let e,t,i,n;return e=new Il({props:{name:"Simulation",$$slots:{default:[vG]},$$scope:{ctx:r}}}),e.$on("click",r[11]),i=new Il({props:{name:"Pack components",$$slots:{default:[_G]},$$scope:{ctx:r}}}),i.$on("click",function(){Zr(r[4].packComponents)&&r[4].packComponents.apply(this,arguments)}),{c(){wi(e.$$.fragment),t=Tr(),wi(i.$$.fragment)},m(s,o){pi(e,s,o),Me(s,t,o),pi(i,s,o),n=!0},p(s,o){r=s;const a={};o&33554432&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const l={};o&33554432&&(l.$$scope={dirty:o,ctx:r}),i.$set(l)},i(s){n||($e(e.$$.fragment,s),$e(i.$$.fragment,s),n=!0)},o(s){st(e.$$.fragment,s),st(i.$$.fragment,s),n=!1},d(s){s&&Le(t),gi(e,s),gi(i,s)}}}function gG(r){let e,t;return e=new zD({props:{class:"w-6 h-6"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function vG(r){let e,t;return e=new n6({props:{class:"w-6 h-6"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function _G(r){let e,t;return e=new UD({props:{class:"w-6 h-6"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function yG(r){let e,t;return e=new c6({props:{class:"w-6 h-6"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function bG(r){let e,t,i,n,s,o,a=r[3]===r[9].SIMULATING&&J2(r);const l=[pG,mG],c=[];function d(u,h){return u[7]?0:1}return t=d(r),i=c[t]=l[t](r),s=new Il({props:{name:"Finish",$$slots:{default:[yG]},$$scope:{ctx:r}}}),s.$on("click",r[13]),{c(){a&&a.c(),e=Tr(),i.c(),n=Tr(),wi(s.$$.fragment)},m(u,h){a&&a.m(u,h),Me(u,e,h),c[t].m(u,h),Me(u,n,h),pi(s,u,h),o=!0},p(u,h){u[3]===u[9].SIMULATING?a?(a.p(u,h),h&8&&$e(a,1)):(a=J2(u),a.c(),$e(a,1),a.m(e.parentNode,e)):a&&(Dr(),st(a,1,1,()=>{a=null}),Mr());let f=t;t=d(u),t===f?c[t].p(u,h):(Dr(),st(c[f],1,1,()=>{c[f]=null}),Mr(),i=c[t],i?i.p(u,h):(i=c[t]=l[t](u),i.c()),$e(i,1),i.m(n.parentNode,n));const m={};h&33554432&&(m.$$scope={dirty:h,ctx:u}),s.$set(m)},i(u){o||($e(a),$e(i),$e(s.$$.fragment,u),o=!0)},o(u){st(a),st(i),st(s.$$.fragment,u),o=!1},d(u){u&&(Le(e),Le(n)),a&&a.d(u),c[t].d(u),gi(s,u)}}}function xG(r){let e,t;return e=new DD({props:{slot:"icon",class:"w-8 h-8"}}),{c(){wi(e.$$.fragment)},m(i,n){pi(e,i,n),t=!0},p:Pt,i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){st(e.$$.fragment,i),t=!1},d(i){gi(e,i)}}}function wG(r){let e,t,i,n,s,o,a,l,c=r[6]&&!r[7]&&W2(r);const d=[cG,lG,aG],u=[];function h(f,m){return f[0]&&!f[7]?0:f[7]?1:2}return n=h(r),s=u[n]=d[n](r),a=new hD({props:{color:"dark",defaultClass:"fixed end-6 top-6",pill:!1,$$slots:{icon:[xG],default:[bG]},$$scope:{ctx:r}}}),{c(){c&&c.c(),e=Tr(),t=ai("main"),i=ai("div"),s.c(),o=Tr(),wi(a.$$.fragment),ae(i,"class","flex flex-grow bg-slate-50"),ae(t,"class","container flex flex-col h-screen")},m(f,m){c&&c.m(f,m),Me(f,e,m),Me(f,t,m),Ze(t,i),u[n].m(i,null),Ze(t,o),pi(a,t,null),l=!0},p(f,[m]){f[6]&&!f[7]?c?(c.p(f,m),m&192&&$e(c,1)):(c=W2(f),c.c(),$e(c,1),c.m(e.parentNode,e)):c&&(Dr(),st(c,1,1,()=>{c=null}),Mr());let p=n;n=h(f),n===p?u[n].p(f,m):(Dr(),st(u[p],1,1,()=>{u[p]=null}),Mr(),s=u[n],s?s.p(f,m):(s=u[n]=d[n](f),s.c()),$e(s,1),s.m(i,null));const g={};m&33554840&&(g.$$scope={dirty:m,ctx:f}),a.$set(g)},i(f){l||($e(c),$e(s),$e(a.$$.fragment,f),l=!0)},o(f){st(c),st(s),st(a.$$.fragment,f),l=!1},d(f){f&&(Le(e),Le(t)),c&&c.d(f),u[n].d(),gi(a)}}}function SG(r,e,t){let i,n,s;Hg(r,$m,E=>t(7,n=E)),Hg(r,ch,E=>t(8,s=E));const o={SIMULATING:"simulating",EDITING:"editing"};let a=o.SIMULATING,l,c,d,u="viva",h={},f={};const m={viva:nG,d3:sG,cosmo:tG};function p(){yu(ch,s=!s,s),s&&t(3,a=o.SIMULATING)}function g(E){return le(this,null,function*(){console.log("Received Shiny data:",E),t(14,c=E)})}function v(){n?(l.discardActiveSelection(),yu(ch,s=!1,s),yu($m,n=!1,n),t(3,a=o.SIMULATING)):(yu($m,n=!0,n),t(3,a=o.EDITING))}let b=!0;function S(){t(6,b=!b)}function _(){const E=[];n&&l.persistNodePositions();const w=d.getNodePositions();Object.entries(w).forEach(([X,H])=>{E.push(H)}),Shiny.setInputValue("coordinates",E)}uf(()=>{jQuery(document).on("shiny:connected",function(){console.log("Shiny connected"),Shiny.addCustomMessageHandler("dataTransferredFromServer",g),Shiny.setInputValue("svelteAppMounted",!0)})});function x(E){u=E,t(1,u)}function I(E){h=E,t(5,h)}function T(E){h=E,t(5,h)}function O(E){en[E?"unshift":"push"](()=>{l=E,t(4,l)})}return r.$$.update=()=>{r.$$.dirty&2&&t(2,i=kf.find(E=>E.value===u)),r.$$.dirty&16386&&c&&t(0,d=new m[u](c)),r.$$.dirty&5&&d&&i.settings.forEach(E=>{f[E.id]=E.value})},[d,u,i,a,l,h,b,n,s,o,p,v,S,_,c,x,I,T,O]}class TG extends cr{constructor(e){super(),lr(this,e,SG,wG,Oi,{})}}new TG({target:document.getElementById("app")});export{Sv as g};
